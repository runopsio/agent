{"version":3,"sources":["webapp/auth/events.cljs"],"mappings":"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","names":["re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__52063","p__52064","map__52065","cljs.core/--destructure-map","cljs.core.get","vec__52066","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__28315__auto__","p1__52062#","day8.re-frame.debux.common.util/send-trace!","e","e52077","p__52093","p__52094","map__52095","vec__52096","db","_","email","on-success","js/window.location","get-email","js/window","p__52099","p__52100","map__52101","vec__52102","e52105","p__52106","p__52107","map__52108","vec__52109","url","cljs.core.assoc","p__52113","p__52114","map__52115","vec__52116","p1__52112#","e52119","p__52121","p__52122","map__52123","vec__52124","js/webapp","js/webapp.auth","js/webapp.auth.events","js/webapp.auth.events.error-message","method-table__4747__auto__","cljs.core.atom","prefer-table__4748__auto__","method-cache__4749__auto__","cached-hierarchy__4750__auto__","hierarchy__4751__auto__","fexpr__52129","cljs.core/MultiFn","cljs.core.symbol","webapp.auth.events/error-message","cljs.core/identity","error","p__52134","p__52135","map__52136","vec__52137","e52146","p__52147","p__52148","map__52149","vec__52150","snackbar-config","cljs.core._EQ_"],"sourcesContent":["(ns webapp.auth.events\n  (:require\n   [re-frame.core :as rf]\n   [day8.re-frame.tracing :refer-macros [fn-traced]]))\n\n(rf/reg-event-fx\n ::get-auth-link\n (fn-traced\n  [{:keys [db]} [_ email]]\n  (let [on-success #(.replace js/window.location (:login_url %))\n        get-email [:fetch {:method \"GET\"\n                           :uri (str \"/v1/login?email=\" email)\n                           :headers {:callback_url (str (. (. js/window -location) -origin) \"/auth\")}\n                           :on-success on-success}]]\n    {:fx [[:dispatch get-email]]})))\n\n(rf/reg-event-fx\n :set-slack-integration-url\n (fn-traced\n  [{:keys [db]} [_ url]]\n  {:db (assoc db :slack-integration-url url)}))\n\n(rf/reg-event-fx\n ::get-signup-link\n (fn-traced\n  [{:keys [db]} [_ email]]\n  (let [on-success #(.replace js/window.location (:login_url %))\n        get-email [:fetch {:method \"POST\"\n                           :uri \"/v1/signup\"\n                           :body {:email email}\n                           :headers {:callback_url (str (. (. js/window -location) -origin) \"/auth\")}\n                           :on-success on-success}]]\n    {:fx [[:dispatch get-email]]})))\n\n(defmulti error-message identity)\n(defmethod error-message \"email_mismatch\" [_]\n  \"The email you typed and the selected from Google don't match\")\n(defmethod error-message \"slack_not_configured\" [_]\n  \"You must configure your Slack with Runops\")\n(defmethod error-message \"pending-review\" [_]\n  \"The organization administrator must approve your access first\")\n(defmethod error-message :default [_ error] error)\n(rf/reg-event-fx\n ::login-error\n (fn-traced\n  [{:keys [db]} [_ error]]\n  (let [snackbar-config {:level :error\n                         :text (error-message error error)}]\n  {:fx [[:dispatch [:show-snackbar snackbar-config]]\n        (when (= error \"email_mismatch\")\n          [:dispatch [:logout]])]})))\n"]}