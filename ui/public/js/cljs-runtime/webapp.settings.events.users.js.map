{"version":3,"sources":["webapp/settings/events/users.cljs"],"mappings":"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","names":["re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__51796","p__51797","map__51798","cljs.core/--destructure-map","cljs.core.get","vec__51799","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__28315__auto__","p1__51795#","day8.re-frame.debux.common.util/send-trace!","e","e51811","p__51816","p__51817","map__51818","vec__51819","db","_","re-frame.core/dispatch","cljs.core.println","p__51822","p__51823","map__51824","vec__51825","e51828","p__51836","p__51837","map__51838","vec__51839","users","cljs.core.assoc","p__51842","p__51843","map__51844","vec__51845","e51848","p__51856","p__51857","map__51858","vec__51859","new-user","success","cljs.core.merge","p__51862","p__51863","map__51864","vec__51865","e51869","p__51879","p__51880","map__51882","vec__51884","user","cljs.core.dissoc"],"sourcesContent":["(ns webapp.settings.events.users\n  (:require [re-frame.core :as rf]\n            [day8.re-frame.tracing :refer-macros [fn-traced]]))\n\n(rf/reg-event-fx\n :settings->get-users\n (fn-traced\n  [{:keys [db]} [_ _]]\n  {:fx [[:dispatch [:fetch\n                    {:method \"GET\"\n                     :uri \"/v1/users\"\n                     :on-success #(rf/dispatch [::set-users %])\n                     :on-failure #(println \"Not allowed to get Users\")}]]]}))\n(rf/reg-event-fx\n ::set-users\n (fn-traced\n  [{:keys [db]} [_ users]]\n  {:db (assoc db :users users)}))\n\n(rf/reg-event-fx\n :settings->create-new-user\n (fn-traced\n  [{:keys [db]} [_ new-user]]\n  (let [success (fn []\n                  (rf/dispatch [:close-modal])\n                  (rf/dispatch [:settings->get-users]))]\n  {:fx [[:dispatch [:fetch\n                    {:method \"POST\"\n                     :uri \"/v1/users\"\n                     :body (merge new-user {:status \"inactive\"})\n                     :on-success success}]]]})))\n\n(rf/reg-event-fx\n :settings->update-user\n (fn-traced\n  [{:keys [db]} [_ user]]\n  (let [success (fn []\n                  (rf/dispatch [:close-modal])\n                  (rf/dispatch [:settings->get-users]))]\n    {:fx [[:dispatch [:fetch\n                      {:method \"PUT\"\n                       :uri (str \"/v1/users/\" (:id user))\n                       :body (dissoc user :id)\n                       :on-success success}]]]})))\n"]}