{"version":3,"sources":["webapp/tasks/views/new_task/mongodb_schema.cljs"],"mappings":"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","names":["webapp.tasks.views.new-task.mongodb-schema/collections-tree","dropdown-status","reagent.core.atom","collections","cljs.core.doall","iter__4652__auto__","s__51534","cljs.core/LazySeq","temp__5753__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4650__auto__","size__4651__auto__","cljs.core/count","b__51536","cljs.core/chunk-buffer","i__51535","vec__51537","cljs.core/-nth","cljs.core.nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__51533","cljs.core/chunk-rest","vec__51540","cljs.core/first","cljs.core/cons","cljs.core/rest","collection","_","cljs.core.swap_BANG_","cljs.core/assoc-in","cljs.core._EQ_","cljs.core/deref","cljs.core.get","webapp.tasks.views.new-task.mongodb-schema/main","schema","s__51544","b__51546","i__51545","vec__51547","iter__51543","vec__51552","db","cljs.core.not_EQ_","cljs.core.into","cljs.core/sorted-map","cljs.core/chunk-first"],"sourcesContent":["(ns webapp.tasks.views.new-task.mongodb-schema\n  (:require\n   [reagent.core :as r]))\n\n(defn- collections-tree []\n  (let [dropdown-status (r/atom {})]\n    (fn [collections]\n      [:div {:class \"pl-small\"}\n       (doall\n        (for [[collection _] collections]\n          ^{:key collection}\n          [:div\n           [:div {:class \"flex items-center gap-small\"}\n            [:figure {:class \"w-3 flex-shrink-0\"}\n             [:img {:src \"/icons/icon-table.svg\"}]]\n            [:span {:class \"flex items-center\"\n                    :on-click #(swap! dropdown-status\n                                      assoc-in [collection]\n                                      (if (= (get @dropdown-status collection) :open) :closed :open))}\n             [:span collection]]]]))])))\n\n\n(defn main [_]\n  (let [dropdown-status (r/atom {})]\n    (fn [schema]\n      [:div.text-xs\n       (doall\n        (for [[db collections] schema]\n          ^{:key db}\n          [:div\n           [:div {:class \"flex items-center gap-small\"}\n            [:figure {:class \"w-3 flex-shrink-0\"}\n             [:img {:src \"/icons/icon-layers-dark-gray.svg\"}]]\n            [:span {:class (str \"hover:text-blue-500 hover:underline cursor-pointer \"\n                                \"flex items-center\")\n                    :on-click #(swap! dropdown-status\n                                      assoc-in [db]\n                                      (if (= (get @dropdown-status db) :closed) :open :closed))}\n             [:span db]\n             [:figure {:class \"w-4 flex-shrink-0 opacity-30\"}\n              [:img {:src (if (not= (get @dropdown-status db) :closed)\n                            \"/icons/icon-cheveron-up.svg\"\n                            \"/icons/icon-cheveron-down.svg\")}]]]]\n           [:div {:class (when (= (get @dropdown-status db) :closed)\n                           \"h-0 overflow-hidden\")}\n            [collections-tree\n             (into (sorted-map) collections)]]]))])))\n\n"]}