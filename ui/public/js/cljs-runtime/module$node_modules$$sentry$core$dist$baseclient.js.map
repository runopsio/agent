{
"version":3,
"file":"module$node_modules$$sentry$core$dist$baseclient.js",
"lineCount":20,
"mappings":"AAAAA,cAAA,CAAA,gDAAA,CAAqE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAC7GC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,iCAAR,CAAd,CAEIO,MAAQP,OAAA,CAAQ,4CAAR,CAFZ,CAGIQ,QAAUR,OAAA,CAAQ,8CAAR,CAHd,CAIIS,QAAUT,OAAA,CAAQ,8CAAR,CAJd,CAKIU,cAAgBV,OAAA,CAAQ,mDAAR,CAkChBW,OAAAA,CAA4B,QAAS,EAAG,CAOxCA,QAASA,WAAU,CAACC,YAAD;AAAeC,OAAf,CAAwB,CAEvC,IAAKC,CAAAA,aAAL,CAAqB,EAErB,KAAKC,CAAAA,cAAL,CAAsB,CACtB,KAAKC,CAAAA,QAAL,CAAgB,IAAIJ,YAAJ,CAAiBC,OAAjB,CAChB,KAAKI,CAAAA,QAAL,CAAgBJ,OACZA,QAAQK,CAAAA,GAAZ,GACI,IAAKC,CAAAA,IADT,CACgB,IAAIV,OAAQW,CAAAA,GAAZ,CAAgBP,OAAQK,CAAAA,GAAxB,CADhB,CAPuC,CAe3CP,UAAWU,CAAAA,SAAUC,CAAAA,gBAArB,CAAwCC,QAAS,CAACC,SAAD,CAAYC,IAAZ,CAAkBC,KAAlB,CAAyB,CACtE,IAAIC,MAAQ,IAEZ,IAAIlB,OAAQmB,CAAAA,uBAAR,CAAgCJ,SAAhC,CAAJ,CACIf,OAAQoB,CAAAA,MAAOC,CAAAA,GAAf,CA3DaC,6DA2Db,CADJ,KAAA,CAIA,IAAIC,QAAUP,IAAVO,EAAkBP,IAAKQ,CAAAA,QAC3B,KAAKC,CAAAA,QAAL,CAAc,IAAKC,CAAAA,WAAL,EACTC,CAAAA,kBADS,CACUZ,SADV,CACqBC,IADrB,CAETY,CAAAA,IAFS,CAEJ,QAAS,CAACC,KAAD,CAAQ,CAAE,MAAOX,MAAMY,CAAAA,aAAN,CAAoBD,KAApB;AAA2Bb,IAA3B,CAAiCC,KAAjC,CAAT,CAFb,CAGTW,CAAAA,IAHS,CAGJ,QAAS,CAACG,MAAD,CAAS,CACxBR,OAAA,CAAUQ,MADc,CAHd,CAAd,CAMA,OAAOR,QAXP,CAHsE,CAmB1ErB,WAAWU,CAAAA,SAAUoB,CAAAA,cAArB,CAAsCC,QAAS,CAACC,OAAD,CAAUC,KAAV,CAAiBnB,IAAjB,CAAuBC,KAAvB,CAA8B,CACzE,IAAIC,MAAQ,IAAZ,CACIK,QAAUP,IAAVO,EAAkBP,IAAKQ,CAAAA,QACvBY,QAAAA,CAAgBpC,OAAQqC,CAAAA,WAAR,CAAoBH,OAApB,CAAA,CACd,IAAKR,CAAAA,WAAL,EAAmBY,CAAAA,gBAAnB,CAAoCC,MAAA,CAAOL,OAAP,CAApC,CAAqDC,KAArD,CAA4DnB,IAA5D,CADc,CAEd,IAAKU,CAAAA,WAAL,EAAmBC,CAAAA,kBAAnB,CAAsCO,OAAtC,CAA+ClB,IAA/C,CACN,KAAKS,CAAAA,QAAL,CAAcW,OACTR,CAAAA,IADS,CACJ,QAAS,CAACC,KAAD,CAAQ,CAAE,MAAOX,MAAMY,CAAAA,aAAN,CAAoBD,KAApB,CAA2Bb,IAA3B,CAAiCC,KAAjC,CAAT,CADb,CAETW,CAAAA,IAFS,CAEJ,QAAS,CAACG,MAAD,CAAS,CACxBR,OAAA,CAAUQ,MADc,CAFd,CAAd,CAKA,OAAOR,QAXkE,CAgB7ErB,WAAWU,CAAAA,SAAU4B,CAAAA,YAArB;AAAoCC,QAAS,CAACZ,KAAD,CAAQb,IAAR,CAAcC,KAAd,CAAqB,CAG9D,IAAqB,IAAhB,GAAMD,IAAN,EAA+B,IAAK,EAApC,GAAMA,IAAN,CAAwC,CAAxC,CAAMA,IAA8C0B,CAAAA,iBAAzD,GAA+E1C,OAAQmB,CAAAA,uBAAR,CAAgCH,IAAK0B,CAAAA,iBAArC,CAA/E,CACI1C,OAAQoB,CAAAA,MAAOC,CAAAA,GAAf,CA9FaC,6DA8Fb,CADJ,KAAA,CAIA,IAAIC,QAAUP,IAAVO,EAAkBP,IAAKQ,CAAAA,QAC3B,KAAKC,CAAAA,QAAL,CAAc,IAAKK,CAAAA,aAAL,CAAmBD,KAAnB,CAA0Bb,IAA1B,CAAgCC,KAAhC,CAAuCW,CAAAA,IAAvC,CAA4C,QAAS,CAACG,MAAD,CAAS,CACxER,OAAA,CAAUQ,MAD8D,CAA9D,CAAd,CAGA,OAAOR,QARP,CAH8D,CAgBlErB,WAAWU,CAAAA,SAAU+B,CAAAA,cAArB,CAAsCC,QAAS,CAACC,OAAD,CAAU,CAChD,IAAKC,CAAAA,UAAL,EAAL,CAIiC,QAAjC,GAAM,MAAOD,QAAQE,CAAAA,OAArB,CACI/C,OAAQoB,CAAAA,MAAO4B,CAAAA,IAAf,CAAoB,4DAApB,CADJ;CAII,IAAKC,CAAAA,YAAL,CAAkBJ,OAAlB,CAEA,CAAAA,OAAQK,CAAAA,MAAR,CAAe,CAAEC,KAAM,CAAA,CAAR,CAAf,CANJ,CAJA,CACInD,OAAQoB,CAAAA,MAAO4B,CAAAA,IAAf,CAAoB,4CAApB,CAFiD,CAiBzD9C,WAAWU,CAAAA,SAAUwC,CAAAA,MAArB,CAA8BC,QAAS,EAAG,CACtC,MAAO,KAAK3C,CAAAA,IAD0B,CAM1CR,WAAWU,CAAAA,SAAU0C,CAAAA,UAArB,CAAkCC,QAAS,EAAG,CAC1C,MAAO,KAAK/C,CAAAA,QAD8B,CAM9CN,WAAWU,CAAAA,SAAU4C,CAAAA,YAArB,CAAoCC,QAAS,EAAG,CAC5C,MAAO,KAAK/B,CAAAA,WAAL,EAAmB8B,CAAAA,YAAnB,EADqC,CAMhDtD,WAAWU,CAAAA,SAAU8C,CAAAA,KAArB,CAA6BC,QAAS,CAACC,OAAD,CAAU,CAC5C,IAAI1C,MAAQ,IACZ,OAAO,KAAK2C,CAAAA,uBAAL,CAA6BD,OAA7B,CAAsChC,CAAAA,IAAtC,CAA2C,QAAS,CAACkC,cAAD,CAAiB,CACxE,MAAO5C,MAAMsC,CAAAA,YAAN,EACFO,CAAAA,KADE,CACIH,OADJ,CAEFhC,CAAAA,IAFE,CAEG,QAAS,CAACoC,gBAAD,CAAmB,CAAE,MAAOF,eAAP;AAAyBE,gBAA3B,CAF/B,CADiE,CAArE,CAFqC,CAWhD9D,WAAWU,CAAAA,SAAUmD,CAAAA,KAArB,CAA6BE,QAAS,CAACL,OAAD,CAAU,CAC5C,IAAI1C,MAAQ,IACZ,OAAO,KAAKwC,CAAAA,KAAL,CAAWE,OAAX,CAAoBhC,CAAAA,IAApB,CAAyB,QAAS,CAACG,MAAD,CAAS,CAC9Cb,KAAMoC,CAAAA,UAAN,EAAmBY,CAAAA,OAAnB,CAA6B,CAAA,CAC7B,OAAOnC,OAFuC,CAA3C,CAFqC,CAUhD7B,WAAWU,CAAAA,SAAUuD,CAAAA,iBAArB,CAAyCC,QAAS,EAAG,CAC7C,IAAKtB,CAAAA,UAAL,EAAJ,EAAyB,CAAC,IAAKzC,CAAAA,aAAcgE,CAAAA,WAA7C,GACI,IAAKhE,CAAAA,aADT,CACyBJ,aAAckE,CAAAA,iBAAd,CAAgC,IAAK3D,CAAAA,QAArC,CADzB,CADiD,CAQrDN,WAAWU,CAAAA,SAAU0D,CAAAA,cAArB,CAAsCC,QAAS,CAACC,WAAD,CAAc,CACzD,GAAI,CACA,MAAO,KAAKnE,CAAAA,aAAL,CAAmBmE,WAAYC,CAAAA,EAA/B,CAAP,EAA6C,IAD7C,CAGJ,MAAOC,GAAP,CAAY,CAER,MADA1E,QAAQoB,CAAAA,MAAO4B,CAAAA,IAAf,CAAoB,8BAApB;AAAqDwB,WAAYC,CAAAA,EAAjE,CAAsE,0BAAtE,CACO,CAAA,IAFC,CAJ6C,CAU7DvE,WAAWU,CAAAA,SAAU+D,CAAAA,uBAArB,CAA+CC,QAAS,CAAC/B,OAAD,CAAUhB,KAAV,CAAiB,CAAA,IAC5DgD,EAD4D,CAEjEC,QAAU,CAAA,CAFuD,CAGjEC,QAAU,CAAA,CAEd,IADIC,KACJ,CADiBnD,KAAMd,CAAAA,SACvB,EADoCc,KAAMd,CAAAA,SAAUkE,CAAAA,MACpD,CAAgB,CACZF,OAAA,CAAU,CAAA,CACV,IAAI,CACA,IADA,IACSG,aAAerF,OAAQsF,CAAAA,QAAR,CAAiBH,KAAjB,CADxB,CACsDI,eAAiBF,YAAaG,CAAAA,IAAb,EAAvE,CAA4F,CAACD,cAAeE,CAAAA,IAA5G,CAAkHF,cAAlH,CAAmIF,YAAaG,CAAAA,IAAb,EAAnI,CAAwJ,CAEpJ,IAAIE,UADKH,cAAexF,CAAAA,KACL2F,CAAAA,SACnB,IAAIA,SAAJ,EAAuC,CAAA,CAAvC,GAAiBA,SAAUC,CAAAA,OAA3B,CAA8C,CAC1CV,OAAA,CAAU,CAAA,CACV,MAF0C,CAHsG,CADxJ,CAUJ,MAAOW,KAAP,CAAc,CAAE,IAAAC,IAAM,CAAEC,MAAOF,KAAT,CAAR,CAVd,OAWQ,CACJ,GAAI,CACIL,cAAJ;AAAsB,CAACA,cAAeE,CAAAA,IAAtC,GAA+CT,EAA/C,CAAoDK,YAAaU,CAAAA,MAAjE,GAA0Ef,EAAGgB,CAAAA,IAAH,CAAQX,YAAR,CAD1E,CAAJ,OAGQ,CAAE,GAAIQ,GAAJ,CAAS,KAAMA,IAAIC,CAAAA,KAAV,CAAX,CAJJ,CAbI,CAyBhB,IAFIG,GAEJ,CAFyBjD,OAAQkD,CAAAA,MAEjC,GAF4ChG,OAAQiG,CAAAA,aAAcC,CAAAA,EAElE,GADoE,CACpE,GADiDpD,OAAQqD,CAAAA,MACzD,EAD2EJ,GAC3E,EADiGhB,OACjG,CACIjC,OAAQK,CAAAA,MAAR,CAAerD,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiB,EAAjB,CAAsBrB,OAAtB,EAAiC,CAAEiB,OAAQhG,OAAQiG,CAAAA,aAAcI,CAAAA,OAAhC,CAAjC,CAAjB,CAA+F,CAAEF,OAAQrD,OAAQqD,CAAAA,MAAhBA,EAA0BG,MAAA,CAAOtB,OAAP,EAAkBD,OAAlB,CAA5B,CAA/F,CAAf,CACA,CAAA,IAAKnC,CAAAA,cAAL,CAAoBE,OAApB,CAhCiE,CAoCzE3C,WAAWU,CAAAA,SAAUqC,CAAAA,YAArB,CAAoCqD,QAAS,CAACzD,OAAD,CAAU,CACnD,IAAKnB,CAAAA,WAAL,EAAmB6E,CAAAA,WAAnB,CAA+B1D,OAA/B,CADmD,CAavD3C,WAAWU,CAAAA,SAAUiD,CAAAA,uBAArB;AAA+C2C,QAAS,CAAC5C,OAAD,CAAU,CAC9D,IAAI1C,MAAQ,IACZ,OAAO,KAAIlB,OAAQyG,CAAAA,WAAZ,CAAwB,QAAS,CAACC,OAAD,CAAU,CAC9C,IAAIC,OAAS,CAAb,CAEIC,SAAWC,WAAA,CAAY,QAAS,EAAG,CACP,CAA5B,EAAI3F,KAAMZ,CAAAA,cAAV,EACIwG,aAAA,CAAcF,QAAd,CACA,CAAAF,OAAA,CAAQ,CAAA,CAAR,CAFJ,GAKIC,MACA,EARGI,CAQH,CAAInD,OAAJ,EAAe+C,MAAf,EAAyB/C,OAAzB,GACIkD,aAAA,CAAcF,QAAd,CACA,CAAAF,OAAA,CAAQ,CAAA,CAAR,CAFJ,CANJ,CADmC,CAAxB,CADJK,CACI,CAH+B,CAA3C,CAFuD,CAqBlE7G,WAAWU,CAAAA,SAAUc,CAAAA,WAArB,CAAmCsF,QAAS,EAAG,CAC3C,MAAO,KAAKzG,CAAAA,QAD+B,CAI/CL,WAAWU,CAAAA,SAAUkC,CAAAA,UAArB,CAAkCmE,QAAS,EAAG,CAC1C,MAAqC,CAAA,CAArC,GAAO,IAAK3D,CAAAA,UAAL,EAAkBY,CAAAA,OAAzB,EAA4DgD,IAAAA,EAA5D,GAA8C,IAAKxG,CAAAA,IADT,CAiB9CR,WAAWU,CAAAA,SAAUuG,CAAAA,aAArB,CAAqCC,QAAS,CAACvF,KAAD,CAAQZ,KAAR,CAAeD,IAAf,CAAqB,CAC/D,IAAIE;AAAQ,IAAZ,CACI2D,GAAK,IAAKvB,CAAAA,UAAL,EAAkB+D,CAAAA,cAD3B,CAC2CA,eAAwB,IAAK,EAAZ,GAAAxC,EAAA,CAAgB,CAAhB,CAAoBA,EAC5EyC,MAAAA,CAAWzH,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiB,EAAjB,CAAqBtE,KAArB,CAAjB,CAA8C,CAAEL,SAAUK,KAAML,CAAAA,QAAhBA,GAA6BR,IAAA,EAAQA,IAAKQ,CAAAA,QAAb,CAAwBR,IAAKQ,CAAAA,QAA7B,CAAwCxB,OAAQuH,CAAAA,KAAR,EAArE/F,CAAF,CAAyFgG,UAAW3F,KAAM2F,CAAAA,SAAjBA,EAA8BxH,OAAQyH,CAAAA,sBAAR,EAAvH,CAA9C,CACf,KAAKC,CAAAA,mBAAL,CAAyBJ,KAAzB,CACA,KAAKK,CAAAA,0BAAL,CAAgCL,KAAhC,CAIItG,KAAJ,EAAYA,IAAK4G,CAAAA,cAAjB,GACIC,KADJ,CACiB/H,KAAMgI,CAAAA,KAAMC,CAAAA,KAAZ,CAAkBF,KAAlB,CAA8B3E,CAAAA,MAA9B,CAAqClC,IAAK4G,CAAAA,cAA1C,CADjB,CAII7F,GAAAA,CAAS/B,OAAQyG,CAAAA,WAAYC,CAAAA,OAApB,CAA4BY,KAA5B,CAGTO,MAAJ,GAEI9F,EAFJ,CAEa8F,KAAWG,CAAAA,YAAX,CAAwBV,KAAxB,CAAkCtG,IAAlC,CAFb,CAIA;MAAOe,GAAOH,CAAAA,IAAP,CAAY,QAAS,CAACqG,GAAD,CAAM,CAC9B,MAA8B,QAA9B,GAAI,MAAOZ,eAAX,EAA2D,CAA3D,CAA0CA,cAA1C,CACWnG,KAAMgH,CAAAA,eAAN,CAAsBD,GAAtB,CAA2BZ,cAA3B,CADX,CAGOY,GAJuB,CAA3B,CApBwD,CAqCnE/H,WAAWU,CAAAA,SAAUsH,CAAAA,eAArB,CAAuCC,QAAS,CAACtG,KAAD,CAAQuG,KAAR,CAAe,CAC3D,GAAI,CAACvG,KAAL,CACI,MAAO,KAEX,KAAIwG,WAAaxI,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiB,EAAjB,CAAqBtE,KAArB,CAAjB,CAA+CA,KAAMyG,CAAAA,WAArD,EAAoE,CACpIA,YAAazG,KAAMyG,CAAAA,WAAYC,CAAAA,GAAlB,CAAsB,QAAS,CAACC,CAAD,CAAI,CAAE,MAAQ3I,QAAQsG,CAAAA,QAAR,CAAiBtG,OAAQsG,CAAAA,QAAR,CAAiB,EAAjB,CAAqBqC,CAArB,CAAjB,CAA2CA,CAAEC,CAAAA,IAA7C,EAAqD,CAC3GA,KAAMzI,OAAQ0I,CAAAA,SAAR,CAAkBF,CAAEC,CAAAA,IAApB,CAA0BL,KAA1B,CADqG,CAArD,CAAV,CAAnC,CADuH,CAApE,CAAjB,CAI7CvG,KAAM8G,CAAAA,IAJuC;AAI/B,CAChBA,KAAM3I,OAAQ0I,CAAAA,SAAR,CAAkB7G,KAAM8G,CAAAA,IAAxB,CAA8BP,KAA9B,CADU,CAJ+B,CAAjB,CAM5BvG,KAAM+G,CAAAA,QANsB,EAMV,CACpBA,SAAU5I,OAAQ0I,CAAAA,SAAR,CAAkB7G,KAAM+G,CAAAA,QAAxB,CAAkCR,KAAlC,CADU,CANU,CAAjB,CAQXvG,KAAMgH,CAAAA,KARK,EAQI,CACjBA,MAAO7I,OAAQ0I,CAAAA,SAAR,CAAkB7G,KAAMgH,CAAAA,KAAxB,CAA+BT,KAA/B,CADU,CARJ,CAkBbvG,MAAM+G,CAAAA,QAAV,EAAsB/G,KAAM+G,CAAAA,QAASE,CAAAA,KAArC,GAEIT,UAAWO,CAAAA,QAASE,CAAAA,KAFxB,CAEgCjH,KAAM+G,CAAAA,QAASE,CAAAA,KAF/C,CAIIjE,MAAAA,CAAK,IAAKvB,CAAAA,UAAL,EAAkByF,CAAAA,YAC3B,OAAiBC,CAD8C,IAAK,EAAZD,GAAAlE,KAAAkE,CAAgB,EAAhBA,CAAqBlE,KAC5DmE,EAAAA,0BAAjB,CACWhJ,OAAQ0I,CAAAA,SAAR,CAAkBL,UAAlB,CADX,CAGOA,UA9BoD,CAsC/DnI,WAAWU,CAAAA,SAAU8G,CAAAA,mBAArB,CAA2CuB,QAAS,CAACpH,KAAD,CAAQ,CACxD,IAAIzB,QAAU,IAAKkD,CAAAA,UAAL,EAAd,CACI4F,YAAc9I,OAAQ8I,CAAAA,WAD1B;AACuCnG,QAAU3C,OAAQ2C,CAAAA,OADzD,CACkEoG,KAAO/I,OAAQ+I,CAAAA,IADjF,CACuFtE,GAAKzE,OAAQgJ,CAAAA,cAAgBA,GAAAA,CAAwB,IAAK,EAAZ,GAAAvE,EAAA,CAAgB,GAAhB,CAAsBA,EACrJ,cAAN,EAAuBhD,MAAvB,GACIA,KAAMqH,CAAAA,WADV,CACwB,aAAA,EAAiB9I,QAAjB,CAA2B8I,WAA3B,CAAyC,YADjE,CAGsBhC,KAAAA,EAAtB,GAAIrF,KAAMkB,CAAAA,OAAV,EAA+CmE,IAAAA,EAA/C,GAAmCnE,OAAnC,GACIlB,KAAMkB,CAAAA,OADV,CACoBA,OADpB,CAGmBmE,KAAAA,EAAnB,GAAIrF,KAAMsH,CAAAA,IAAV,EAAyCjC,IAAAA,EAAzC,GAAgCiC,IAAhC,GACItH,KAAMsH,CAAAA,IADV,CACiBA,IADjB,CAGItH,MAAMK,CAAAA,OAAV,GACIL,KAAMK,CAAAA,OADV,CACoBlC,OAAQqJ,CAAAA,QAAR,CAAiBxH,KAAMK,CAAAA,OAAvB,CAAgCkH,EAAhC,CADpB,CAIA,EADIrI,OACJ,CADgBc,KAAMd,CAAAA,SACtB,EADmCc,KAAMd,CAAAA,SAAUkE,CAAAA,MACnD,EAD6DpD,KAAMd,CAAAA,SAAUkE,CAAAA,MAAhB,CAAuB,CAAvB,CAC7D,GAAiBlE,OAAUnB,CAAAA,KAA3B,GACImB,OAAUnB,CAAAA,KADd,CACsBI,OAAQqJ,CAAAA,QAAR,CAAiBtI,OAAUnB,CAAAA,KAA3B;AAAkCwJ,EAAlC,CADtB,CAIA,EADIE,KACJ,CADczH,KAAMyH,CAAAA,OACpB,GAAeA,KAAQC,CAAAA,GAAvB,GACID,KAAQC,CAAAA,GADZ,CACkBvJ,OAAQqJ,CAAAA,QAAR,CAAiBC,KAAQC,CAAAA,GAAzB,CAA8BH,EAA9B,CADlB,CApBwD,CA4B5DlJ,WAAWU,CAAAA,SAAU+G,CAAAA,0BAArB,CAAkD6B,QAAS,CAAC3H,KAAD,CAAQ,CAC/D,IAAI4H,kBAAoB/J,MAAOgK,CAAAA,IAAP,CAAY,IAAKrJ,CAAAA,aAAjB,CACO,EAA/B,CAAIoJ,iBAAkBE,CAAAA,MAAtB,GACI9H,KAAM+H,CAAAA,GACN,CADY/H,KAAM+H,CAAAA,GAClB,EADyB,EACzB,CAAA/H,KAAM+H,CAAAA,GAAIC,CAAAA,YAAV,CAAyBhK,OAAQiK,CAAAA,QAAR,CAAkBjI,KAAM+H,CAAAA,GAAIC,CAAAA,YAA5B,EAA4C,EAA5C,CAAiDJ,iBAAjD,CAF7B,CAF+D,CAWnEvJ,WAAWU,CAAAA,SAAUmJ,CAAAA,UAArB,CAAkCC,QAAS,CAACnI,KAAD,CAAQ,CAC/C,IAAKH,CAAAA,WAAL,EAAmBuI,CAAAA,SAAnB,CAA6BpI,KAA7B,CAD+C,CASnD3B,WAAWU,CAAAA,SAAUkB,CAAAA,aAArB,CAAqCoI,QAAS,CAACrI,KAAD,CAAQb,IAAR,CAAcC,KAAd,CAAqB,CAC/D,MAAO,KAAKkJ,CAAAA,aAAL,CAAmBtI,KAAnB;AAA0Bb,IAA1B,CAAgCC,KAAhC,CAAuCW,CAAAA,IAAvC,CAA4C,QAAS,CAACwI,UAAD,CAAa,CACrE,MAAOA,WAAW5I,CAAAA,QADmD,CAAlE,CAEJ,QAAS,CAAC6I,MAAD,CAAS,CACjBrK,OAAQoB,CAAAA,MAAOuE,CAAAA,KAAf,CAAqB0E,MAArB,CADiB,CAFd,CADwD,CAqBnEnK,WAAWU,CAAAA,SAAUuJ,CAAAA,aAArB,CAAqCG,QAAS,CAACzI,KAAD,CAAQb,IAAR,CAAcC,KAAd,CAAqB,CAC/D,IAAIC,MAAQ,IAAZ,CACQqJ,WADR,CAGIC,GAAK,IAAKlH,CAAAA,UAAL,EAHT,CAG4BmH,WAAaD,EAAGC,CAAAA,UAAYC,GAAAA,CAAaF,EAAGE,CAAAA,UACxE,KAAIC,UAAY,IAAKnH,CAAAA,YAAL,EAChB,IAAI,CAAC,IAAKV,CAAAA,UAAL,EAAL,CACI,MAAO9C,QAAQyG,CAAAA,WAAYmE,CAAAA,MAApB,CAA2B,IAAI5K,OAAQ6K,CAAAA,WAAZ,CAAwB,0CAAxB,CAA3B,CAEX,KAAIC,cAA+B,aAA/BA,GAAgBjJ,KAAMkJ,CAAAA,IAI1B,OAAI,CAACD,aAAL,EAA4C,QAA5C;AAAsB,MAAOJ,GAA7B,EAAwDM,IAAKC,CAAAA,MAAL,EAAxD,CAAwEP,EAAxE,EACgD,IAA5C,IAACH,WAAD,CAAYI,SAAWO,CAAAA,eAAvB,GAA2D,IAAK,EAAhE,GAAoDX,WAApD,CAAoE,IAAK,EAAzE,CAA6EA,WAAG1E,CAAAA,IAAH,CAAjE8E,SAAiE,CAAY5K,OAAQoL,CAAAA,OAAQC,CAAAA,UAA5B,CAAwC,OAAxC,CACtE,CAAApL,OAAQyG,CAAAA,WAAYmE,CAAAA,MAApB,CAA2B,IAAI5K,OAAQ6K,CAAAA,WAAZ,CAAwB,sFAAxB,CAA8GH,EAA9G,CAA2H,GAA3H,CAA3B,CAFX,EAIO,IAAKvD,CAAAA,aAAL,CAAmBtF,KAAnB,CAA0BZ,KAA1B,CAAiCD,IAAjC,CACFY,CAAAA,IADE,CACG,QAAS,CAAC0F,QAAD,CAAW,CAC1B,IAAQiD,EACR,IAAiB,IAAjB,GAAIjD,QAAJ,CAEI,KAD4C,KAA5C,IAACiD,EAAD,CAAYI,SAAWO,CAAAA,eAAvB,GAA2D,IAAK,EAAhE,GAAoDX,EAApD,CAAoE,IAAK,EAAzE,CAA6EA,EAAG1E,CAAAA,IAAH,CAAjE8E,SAAiE,CAAY5K,OAAQoL,CAAAA,OAAQE,CAAAA,cAA5B;AAA4CxJ,KAAMkJ,CAAAA,IAAlD,EAA0D,OAA1D,CACvE,CAAA,IAAI/K,OAAQ6K,CAAAA,WAAZ,CAAwB,wDAAxB,CAAN,CAGJ,GAD0B7J,IAC1B,EADkCA,IAAKyH,CAAAA,IACvC,EADwE,CAAA,CACxE,GAD+CzH,IAAKyH,CAAAA,IAAK6C,CAAAA,UACzD,EAA2BR,aAA3B,EAA4C,CAACL,UAA7C,CACI,MAAOnD,SAEPiE,SAAAA,CAAmBd,UAAA,CAAWnD,QAAX,CAAqBtG,IAArB,CACvB,OAAOE,MAAMsK,CAAAA,mBAAN,CAA0BD,QAA1B,CAXmB,CADvB,CAcF3J,CAAAA,IAdE,CAcG,QAAS,CAAC6J,cAAD,CAAiB,CAChC,IAAQlB,EACR,IAAuB,IAAvB,GAAIkB,cAAJ,CAEI,KAD4C,KAA5C,IAAClB,EAAD,CAAYI,SAAWO,CAAAA,eAAvB,GAA2D,IAAK,EAAhE,GAAoDX,EAApD,CAAoE,IAAK,EAAzE,CAA6EA,EAAG1E,CAAAA,IAAH,CAAjE8E,SAAiE,CAAY5K,OAAQoL,CAAAA,OAAQO,CAAAA,UAA5B,CAAwC7J,KAAMkJ,CAAAA,IAA9C,EAAsD,OAAtD,CACvE,CAAA,IAAI/K,OAAQ6K,CAAAA,WAAZ,CAAwB,oDAAxB,CAAN;AAEAhI,EAAAA,CAAU5B,KAAV4B,EAAmB5B,KAAM0K,CAAAA,UAAzB9I,EAAuC5B,KAAM0K,CAAAA,UAAN,EACvC,EAACb,aAAL,EAAsBjI,EAAtB,EACI3B,KAAMyD,CAAAA,uBAAN,CAA8B9B,EAA9B,CAAuC4I,cAAvC,CAEJvK,MAAM6I,CAAAA,UAAN,CAAiB0B,cAAjB,CACA,OAAOA,eAXyB,CAd7B,CA2BF7J,CAAAA,IA3BE,CA2BG,IA3BH,CA2BS,QAAS,CAACyI,MAAD,CAAS,CAC9B,GAAIA,MAAJ,WAAsBrK,QAAQ6K,CAAAA,WAA9B,CACI,KAAMR,OAAN,CAEJnJ,KAAML,CAAAA,gBAAN,CAAuBwJ,MAAvB,CAA+B,CAC3B5B,KAAM,CACF6C,WAAY,CAAA,CADV,CADqB,CAI3B5I,kBAAmB2H,MAJQ,CAA/B,CAMA,MAAM,KAAIrK,OAAQ6K,CAAAA,WAAZ,CAAwB,6HAAxB,CAAwJR,MAAxJ,CAAN,CAV8B,CA3B3B,CAjBwD,CA4DnEnK;UAAWU,CAAAA,SAAUa,CAAAA,QAArB,CAAgCmK,QAAS,CAACC,OAAD,CAAU,CAC/C,IAAI3K,MAAQ,IACZ,KAAKZ,CAAAA,cAAL,EAAuB,CACvB,KAAKuL,QAAQjK,CAAAA,IAAR,CAAa,QAAS,CAAChC,KAAD,CAAQ,CAC/B,EAAAsB,KAAMZ,CAAAA,cACN,OAAOV,MAFwB,CAA9B,CAGF,QAAS,CAACyK,MAAD,CAAS,CACjB,EAAAnJ,KAAMZ,CAAAA,cACN,OAAO+J,OAFU,CAHhB,CAH0C,CAcnDnK,WAAWU,CAAAA,SAAU4K,CAAAA,mBAArB,CAA2CM,QAAS,CAACC,EAAD,CAAK,CAErD,GAAI/L,OAAQgM,CAAAA,UAAR,CAAmBD,EAAnB,CAAJ,CACI,MAAOA,GAAGnK,CAAAA,IAAH,CAAQ,QAAS,CAACC,KAAD,CAAQ,CAC5B,GAAM,CAAA7B,OAAQiM,CAAAA,aAAR,CAAsBpK,KAAtB,CAAN,EAAgD,IAAhD,GAAsCA,KAAtC,CACI,KAAM,KAAI7B,OAAQ6K,CAAAA,WAAZ,CAJJqB,4DAII,CAAN,CAEJ,MAAOrK,MAJqB,CAAzB,CAKJ,QAAS,CAACsK,CAAD,CAAI,CACZ,KAAM,KAAInM,OAAQ6K,CAAAA,WAAZ,CAAwB,2BAAxB;AAAsDsB,CAAtD,CAAN,CADY,CALT,CASN,IAAM,CAAAnM,OAAQiM,CAAAA,aAAR,CAAsBF,EAAtB,CAAN,EAA0C,IAA1C,GAAmCA,EAAnC,CACD,KAAM,KAAI/L,OAAQ6K,CAAAA,WAAZ,CAZIqB,4DAYJ,CAAN,CAEJ,MAAOH,GAf8C,CAiBzD,OAAO7L,WAzdiC,CAAZ,EA2dhCT,QAAQS,CAAAA,UAAR,CAAqBA,MApgBwF;",
"sources":["node_modules/@sentry/core/dist/baseclient.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$core$dist$baseclient\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\n/* eslint-disable max-lines */\nvar hub_1 = require(\"@sentry/hub\");\nvar types_1 = require(\"@sentry/types\");\nvar utils_1 = require(\"@sentry/utils\");\nvar integration_1 = require(\"./integration\");\nvar ALREADY_SEEN_ERROR = \"Not capturing exception because it's already been captured.\";\n/**\n * Base implementation for all JavaScript SDK clients.\n *\n * Call the constructor with the corresponding backend constructor and options\n * specific to the client subclass. To access these options later, use\n * {@link Client.getOptions}. Also, the Backend instance is available via\n * {@link Client.getBackend}.\n *\n * If a Dsn is specified in the options, it will be parsed and stored. Use\n * {@link Client.getDsn} to retrieve the Dsn at any moment. In case the Dsn is\n * invalid, the constructor will throw a {@link SentryException}. Note that\n * without a valid Dsn, the SDK will not send any events to Sentry.\n *\n * Before sending an event via the backend, it is passed through\n * {@link BaseClient._prepareEvent} to add SDK information and scope data\n * (breadcrumbs and context). To add more custom information, override this\n * method and extend the resulting prepared event.\n *\n * To issue automatically created events (e.g. via instrumentation), use\n * {@link Client.captureEvent}. It will prepare the event and pass it through\n * the callback lifecycle. To issue auto-breadcrumbs, use\n * {@link Client.addBreadcrumb}.\n *\n * @example\n * class NodeClient extends BaseClient<NodeBackend, NodeOptions> {\n *   public constructor(options: NodeOptions) {\n *     super(NodeBackend, options);\n *   }\n *\n *   // ...\n * }\n */\nvar BaseClient = /** @class */ (function () {\n    /**\n     * Initializes this client instance.\n     *\n     * @param backendClass A constructor function to create the backend.\n     * @param options Options for the client.\n     */\n    function BaseClient(backendClass, options) {\n        /** Array of used integrations. */\n        this._integrations = {};\n        /** Number of calls being processed */\n        this._numProcessing = 0;\n        this._backend = new backendClass(options);\n        this._options = options;\n        if (options.dsn) {\n            this._dsn = new utils_1.Dsn(options.dsn);\n        }\n    }\n    /**\n     * @inheritDoc\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any, @typescript-eslint/explicit-module-boundary-types\n    BaseClient.prototype.captureException = function (exception, hint, scope) {\n        var _this = this;\n        // ensure we haven't captured this very object before\n        if (utils_1.checkOrSetAlreadyCaught(exception)) {\n            utils_1.logger.log(ALREADY_SEEN_ERROR);\n            return;\n        }\n        var eventId = hint && hint.event_id;\n        this._process(this._getBackend()\n            .eventFromException(exception, hint)\n            .then(function (event) { return _this._captureEvent(event, hint, scope); })\n            .then(function (result) {\n            eventId = result;\n        }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureMessage = function (message, level, hint, scope) {\n        var _this = this;\n        var eventId = hint && hint.event_id;\n        var promisedEvent = utils_1.isPrimitive(message)\n            ? this._getBackend().eventFromMessage(String(message), level, hint)\n            : this._getBackend().eventFromException(message, hint);\n        this._process(promisedEvent\n            .then(function (event) { return _this._captureEvent(event, hint, scope); })\n            .then(function (result) {\n            eventId = result;\n        }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureEvent = function (event, hint, scope) {\n        var _a;\n        // ensure we haven't captured this very object before\n        if (((_a = hint) === null || _a === void 0 ? void 0 : _a.originalException) && utils_1.checkOrSetAlreadyCaught(hint.originalException)) {\n            utils_1.logger.log(ALREADY_SEEN_ERROR);\n            return;\n        }\n        var eventId = hint && hint.event_id;\n        this._process(this._captureEvent(event, hint, scope).then(function (result) {\n            eventId = result;\n        }));\n        return eventId;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.captureSession = function (session) {\n        if (!this._isEnabled()) {\n            utils_1.logger.warn('SDK not enabled, will not capture session.');\n            return;\n        }\n        if (!(typeof session.release === 'string')) {\n            utils_1.logger.warn('Discarded session because of missing or non-string release');\n        }\n        else {\n            this._sendSession(session);\n            // After sending, we set init false to indicate it's not the first occurrence\n            session.update({ init: false });\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getDsn = function () {\n        return this._dsn;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getOptions = function () {\n        return this._options;\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getTransport = function () {\n        return this._getBackend().getTransport();\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.flush = function (timeout) {\n        var _this = this;\n        return this._isClientDoneProcessing(timeout).then(function (clientFinished) {\n            return _this.getTransport()\n                .close(timeout)\n                .then(function (transportFlushed) { return clientFinished && transportFlushed; });\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.close = function (timeout) {\n        var _this = this;\n        return this.flush(timeout).then(function (result) {\n            _this.getOptions().enabled = false;\n            return result;\n        });\n    };\n    /**\n     * Sets up the integrations\n     */\n    BaseClient.prototype.setupIntegrations = function () {\n        if (this._isEnabled() && !this._integrations.initialized) {\n            this._integrations = integration_1.setupIntegrations(this._options);\n        }\n    };\n    /**\n     * @inheritDoc\n     */\n    BaseClient.prototype.getIntegration = function (integration) {\n        try {\n            return this._integrations[integration.id] || null;\n        }\n        catch (_oO) {\n            utils_1.logger.warn(\"Cannot retrieve integration \" + integration.id + \" from the current Client\");\n            return null;\n        }\n    };\n    /** Updates existing session based on the provided event */\n    BaseClient.prototype._updateSessionFromEvent = function (session, event) {\n        var e_1, _a;\n        var crashed = false;\n        var errored = false;\n        var exceptions = event.exception && event.exception.values;\n        if (exceptions) {\n            errored = true;\n            try {\n                for (var exceptions_1 = tslib_1.__values(exceptions), exceptions_1_1 = exceptions_1.next(); !exceptions_1_1.done; exceptions_1_1 = exceptions_1.next()) {\n                    var ex = exceptions_1_1.value;\n                    var mechanism = ex.mechanism;\n                    if (mechanism && mechanism.handled === false) {\n                        crashed = true;\n                        break;\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (exceptions_1_1 && !exceptions_1_1.done && (_a = exceptions_1.return)) _a.call(exceptions_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        }\n        // A session is updated and that session update is sent in only one of the two following scenarios:\n        // 1. Session with non terminal status and 0 errors + an error occurred -> Will set error count to 1 and send update\n        // 2. Session with non terminal status and 1 error + a crash occurred -> Will set status crashed and send update\n        var sessionNonTerminal = session.status === types_1.SessionStatus.Ok;\n        var shouldUpdateAndSend = (sessionNonTerminal && session.errors === 0) || (sessionNonTerminal && crashed);\n        if (shouldUpdateAndSend) {\n            session.update(tslib_1.__assign(tslib_1.__assign({}, (crashed && { status: types_1.SessionStatus.Crashed })), { errors: session.errors || Number(errored || crashed) }));\n            this.captureSession(session);\n        }\n    };\n    /** Deliver captured session to Sentry */\n    BaseClient.prototype._sendSession = function (session) {\n        this._getBackend().sendSession(session);\n    };\n    /**\n     * Determine if the client is finished processing. Returns a promise because it will wait `timeout` ms before saying\n     * \"no\" (resolving to `false`) in order to give the client a chance to potentially finish first.\n     *\n     * @param timeout The time, in ms, after which to resolve to `false` if the client is still busy. Passing `0` (or not\n     * passing anything) will make the promise wait as long as it takes for processing to finish before resolving to\n     * `true`.\n     * @returns A promise which will resolve to `true` if processing is already done or finishes before the timeout, and\n     * `false` otherwise\n     */\n    BaseClient.prototype._isClientDoneProcessing = function (timeout) {\n        var _this = this;\n        return new utils_1.SyncPromise(function (resolve) {\n            var ticked = 0;\n            var tick = 1;\n            var interval = setInterval(function () {\n                if (_this._numProcessing == 0) {\n                    clearInterval(interval);\n                    resolve(true);\n                }\n                else {\n                    ticked += tick;\n                    if (timeout && ticked >= timeout) {\n                        clearInterval(interval);\n                        resolve(false);\n                    }\n                }\n            }, tick);\n        });\n    };\n    /** Returns the current backend. */\n    BaseClient.prototype._getBackend = function () {\n        return this._backend;\n    };\n    /** Determines whether this SDK is enabled and a valid Dsn is present. */\n    BaseClient.prototype._isEnabled = function () {\n        return this.getOptions().enabled !== false && this._dsn !== undefined;\n    };\n    /**\n     * Adds common information to events.\n     *\n     * The information includes release and environment from `options`,\n     * breadcrumbs and context (extra, tags and user) from the scope.\n     *\n     * Information that is already present in the event is never overwritten. For\n     * nested objects, such as the context, keys are merged.\n     *\n     * @param event The original event.\n     * @param hint May contain additional information about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A new event with more information.\n     */\n    BaseClient.prototype._prepareEvent = function (event, scope, hint) {\n        var _this = this;\n        var _a = this.getOptions().normalizeDepth, normalizeDepth = _a === void 0 ? 3 : _a;\n        var prepared = tslib_1.__assign(tslib_1.__assign({}, event), { event_id: event.event_id || (hint && hint.event_id ? hint.event_id : utils_1.uuid4()), timestamp: event.timestamp || utils_1.dateTimestampInSeconds() });\n        this._applyClientOptions(prepared);\n        this._applyIntegrationsMetadata(prepared);\n        // If we have scope given to us, use it as the base for further modifications.\n        // This allows us to prevent unnecessary copying of data if `captureContext` is not provided.\n        var finalScope = scope;\n        if (hint && hint.captureContext) {\n            finalScope = hub_1.Scope.clone(finalScope).update(hint.captureContext);\n        }\n        // We prepare the result here with a resolved Event.\n        var result = utils_1.SyncPromise.resolve(prepared);\n        // This should be the last thing called, since we want that\n        // {@link Hub.addEventProcessor} gets the finished prepared event.\n        if (finalScope) {\n            // In case we have a hub we reassign it.\n            result = finalScope.applyToEvent(prepared, hint);\n        }\n        return result.then(function (evt) {\n            if (typeof normalizeDepth === 'number' && normalizeDepth > 0) {\n                return _this._normalizeEvent(evt, normalizeDepth);\n            }\n            return evt;\n        });\n    };\n    /**\n     * Applies `normalize` function on necessary `Event` attributes to make them safe for serialization.\n     * Normalized keys:\n     * - `breadcrumbs.data`\n     * - `user`\n     * - `contexts`\n     * - `extra`\n     * @param event Event\n     * @returns Normalized event\n     */\n    BaseClient.prototype._normalizeEvent = function (event, depth) {\n        if (!event) {\n            return null;\n        }\n        var normalized = tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign(tslib_1.__assign({}, event), (event.breadcrumbs && {\n            breadcrumbs: event.breadcrumbs.map(function (b) { return (tslib_1.__assign(tslib_1.__assign({}, b), (b.data && {\n                data: utils_1.normalize(b.data, depth),\n            }))); }),\n        })), (event.user && {\n            user: utils_1.normalize(event.user, depth),\n        })), (event.contexts && {\n            contexts: utils_1.normalize(event.contexts, depth),\n        })), (event.extra && {\n            extra: utils_1.normalize(event.extra, depth),\n        }));\n        // event.contexts.trace stores information about a Transaction. Similarly,\n        // event.spans[] stores information about child Spans. Given that a\n        // Transaction is conceptually a Span, normalization should apply to both\n        // Transactions and Spans consistently.\n        // For now the decision is to skip normalization of Transactions and Spans,\n        // so this block overwrites the normalized event to add back the original\n        // Transaction information prior to normalization.\n        if (event.contexts && event.contexts.trace) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            normalized.contexts.trace = event.contexts.trace;\n        }\n        var _a = this.getOptions()._experiments, _experiments = _a === void 0 ? {} : _a;\n        if (_experiments.ensureNoCircularStructures) {\n            return utils_1.normalize(normalized);\n        }\n        return normalized;\n    };\n    /**\n     *  Enhances event using the client configuration.\n     *  It takes care of all \"static\" values like environment, release and `dist`,\n     *  as well as truncating overly long values.\n     * @param event event instance to be enhanced\n     */\n    BaseClient.prototype._applyClientOptions = function (event) {\n        var options = this.getOptions();\n        var environment = options.environment, release = options.release, dist = options.dist, _a = options.maxValueLength, maxValueLength = _a === void 0 ? 250 : _a;\n        if (!('environment' in event)) {\n            event.environment = 'environment' in options ? environment : 'production';\n        }\n        if (event.release === undefined && release !== undefined) {\n            event.release = release;\n        }\n        if (event.dist === undefined && dist !== undefined) {\n            event.dist = dist;\n        }\n        if (event.message) {\n            event.message = utils_1.truncate(event.message, maxValueLength);\n        }\n        var exception = event.exception && event.exception.values && event.exception.values[0];\n        if (exception && exception.value) {\n            exception.value = utils_1.truncate(exception.value, maxValueLength);\n        }\n        var request = event.request;\n        if (request && request.url) {\n            request.url = utils_1.truncate(request.url, maxValueLength);\n        }\n    };\n    /**\n     * This function adds all used integrations to the SDK info in the event.\n     * @param event The event that will be filled with all integrations.\n     */\n    BaseClient.prototype._applyIntegrationsMetadata = function (event) {\n        var integrationsArray = Object.keys(this._integrations);\n        if (integrationsArray.length > 0) {\n            event.sdk = event.sdk || {};\n            event.sdk.integrations = tslib_1.__spread((event.sdk.integrations || []), integrationsArray);\n        }\n    };\n    /**\n     * Tells the backend to send this event\n     * @param event The Sentry event to send\n     */\n    BaseClient.prototype._sendEvent = function (event) {\n        this._getBackend().sendEvent(event);\n    };\n    /**\n     * Processes the event and logs an error in case of rejection\n     * @param event\n     * @param hint\n     * @param scope\n     */\n    BaseClient.prototype._captureEvent = function (event, hint, scope) {\n        return this._processEvent(event, hint, scope).then(function (finalEvent) {\n            return finalEvent.event_id;\n        }, function (reason) {\n            utils_1.logger.error(reason);\n            return undefined;\n        });\n    };\n    /**\n     * Processes an event (either error or message) and sends it to Sentry.\n     *\n     * This also adds breadcrumbs and context information to the event. However,\n     * platform specific meta data (such as the User's IP address) must be added\n     * by the SDK implementor.\n     *\n     *\n     * @param event The event to send to Sentry.\n     * @param hint May contain additional information about the original exception.\n     * @param scope A scope containing event metadata.\n     * @returns A SyncPromise that resolves with the event or rejects in case event was/will not be send.\n     */\n    BaseClient.prototype._processEvent = function (event, hint, scope) {\n        var _this = this;\n        var _a, _b;\n        // eslint-disable-next-line @typescript-eslint/unbound-method\n        var _c = this.getOptions(), beforeSend = _c.beforeSend, sampleRate = _c.sampleRate;\n        var transport = this.getTransport();\n        if (!this._isEnabled()) {\n            return utils_1.SyncPromise.reject(new utils_1.SentryError('SDK not enabled, will not capture event.'));\n        }\n        var isTransaction = event.type === 'transaction';\n        // 1.0 === 100% events are sent\n        // 0.0 === 0% events are sent\n        // Sampling for transaction happens somewhere else\n        if (!isTransaction && typeof sampleRate === 'number' && Math.random() > sampleRate) {\n            (_b = (_a = transport).recordLostEvent) === null || _b === void 0 ? void 0 : _b.call(_a, types_1.Outcome.SampleRate, 'event');\n            return utils_1.SyncPromise.reject(new utils_1.SentryError(\"Discarding event because it's not included in the random sample (sampling rate = \" + sampleRate + \")\"));\n        }\n        return this._prepareEvent(event, scope, hint)\n            .then(function (prepared) {\n            var _a, _b;\n            if (prepared === null) {\n                (_b = (_a = transport).recordLostEvent) === null || _b === void 0 ? void 0 : _b.call(_a, types_1.Outcome.EventProcessor, event.type || 'event');\n                throw new utils_1.SentryError('An event processor returned null, will not send event.');\n            }\n            var isInternalException = hint && hint.data && hint.data.__sentry__ === true;\n            if (isInternalException || isTransaction || !beforeSend) {\n                return prepared;\n            }\n            var beforeSendResult = beforeSend(prepared, hint);\n            return _this._ensureBeforeSendRv(beforeSendResult);\n        })\n            .then(function (processedEvent) {\n            var _a, _b;\n            if (processedEvent === null) {\n                (_b = (_a = transport).recordLostEvent) === null || _b === void 0 ? void 0 : _b.call(_a, types_1.Outcome.BeforeSend, event.type || 'event');\n                throw new utils_1.SentryError('`beforeSend` returned `null`, will not send event.');\n            }\n            var session = scope && scope.getSession && scope.getSession();\n            if (!isTransaction && session) {\n                _this._updateSessionFromEvent(session, processedEvent);\n            }\n            _this._sendEvent(processedEvent);\n            return processedEvent;\n        })\n            .then(null, function (reason) {\n            if (reason instanceof utils_1.SentryError) {\n                throw reason;\n            }\n            _this.captureException(reason, {\n                data: {\n                    __sentry__: true,\n                },\n                originalException: reason,\n            });\n            throw new utils_1.SentryError(\"Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\\nReason: \" + reason);\n        });\n    };\n    /**\n     * Occupies the client with processing and event\n     */\n    BaseClient.prototype._process = function (promise) {\n        var _this = this;\n        this._numProcessing += 1;\n        void promise.then(function (value) {\n            _this._numProcessing -= 1;\n            return value;\n        }, function (reason) {\n            _this._numProcessing -= 1;\n            return reason;\n        });\n    };\n    /**\n     * Verifies that return value of configured `beforeSend` is of expected type.\n     */\n    BaseClient.prototype._ensureBeforeSendRv = function (rv) {\n        var nullErr = '`beforeSend` method has to return `null` or a valid event.';\n        if (utils_1.isThenable(rv)) {\n            return rv.then(function (event) {\n                if (!(utils_1.isPlainObject(event) || event === null)) {\n                    throw new utils_1.SentryError(nullErr);\n                }\n                return event;\n            }, function (e) {\n                throw new utils_1.SentryError(\"beforeSend rejected with \" + e);\n            });\n        }\n        else if (!(utils_1.isPlainObject(rv) || rv === null)) {\n            throw new utils_1.SentryError(nullErr);\n        }\n        return rv;\n    };\n    return BaseClient;\n}());\nexports.BaseClient = BaseClient;\n//# sourceMappingURL=baseclient.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","tslib_1","hub_1","types_1","utils_1","integration_1","BaseClient","backendClass","options","_integrations","_numProcessing","_backend","_options","dsn","_dsn","Dsn","prototype","captureException","BaseClient.prototype.captureException","exception","hint","scope","_this","checkOrSetAlreadyCaught","logger","log","ALREADY_SEEN_ERROR","eventId","event_id","_process","_getBackend","eventFromException","then","event","_captureEvent","result","captureMessage","BaseClient.prototype.captureMessage","message","level","promisedEvent","isPrimitive","eventFromMessage","String","captureEvent","BaseClient.prototype.captureEvent","originalException","captureSession","BaseClient.prototype.captureSession","session","_isEnabled","release","warn","_sendSession","update","init","getDsn","BaseClient.prototype.getDsn","getOptions","BaseClient.prototype.getOptions","getTransport","BaseClient.prototype.getTransport","flush","BaseClient.prototype.flush","timeout","_isClientDoneProcessing","clientFinished","close","transportFlushed","BaseClient.prototype.close","enabled","setupIntegrations","BaseClient.prototype.setupIntegrations","initialized","getIntegration","BaseClient.prototype.getIntegration","integration","id","_oO","_updateSessionFromEvent","BaseClient.prototype._updateSessionFromEvent","_a","crashed","errored","exceptions","values","exceptions_1","__values","exceptions_1_1","next","done","mechanism","handled","e_1_1","e_1","error","return","call","sessionNonTerminal","status","SessionStatus","Ok","errors","__assign","Crashed","Number","BaseClient.prototype._sendSession","sendSession","BaseClient.prototype._isClientDoneProcessing","SyncPromise","resolve","ticked","interval","setInterval","clearInterval","tick","BaseClient.prototype._getBackend","BaseClient.prototype._isEnabled","undefined","_prepareEvent","BaseClient.prototype._prepareEvent","normalizeDepth","prepared","uuid4","timestamp","dateTimestampInSeconds","_applyClientOptions","_applyIntegrationsMetadata","captureContext","finalScope","Scope","clone","applyToEvent","evt","_normalizeEvent","BaseClient.prototype._normalizeEvent","depth","normalized","breadcrumbs","map","b","data","normalize","user","contexts","extra","trace","_experiments","ensureNoCircularStructures","BaseClient.prototype._applyClientOptions","environment","dist","maxValueLength","truncate","request","url","BaseClient.prototype._applyIntegrationsMetadata","integrationsArray","keys","length","sdk","integrations","__spread","_sendEvent","BaseClient.prototype._sendEvent","sendEvent","BaseClient.prototype._captureEvent","_processEvent","finalEvent","reason","BaseClient.prototype._processEvent","_b","_c","beforeSend","sampleRate","transport","reject","SentryError","isTransaction","type","Math","random","recordLostEvent","Outcome","SampleRate","EventProcessor","__sentry__","beforeSendResult","_ensureBeforeSendRv","processedEvent","BeforeSend","getSession","BaseClient.prototype._process","promise","BaseClient.prototype._ensureBeforeSendRv","rv","isThenable","isPlainObject","nullErr","e"]
}
