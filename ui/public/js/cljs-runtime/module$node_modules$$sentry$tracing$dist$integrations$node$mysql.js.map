{
"version":3,
"file":"module$node_modules$$sentry$tracing$dist$integrations$node$mysql.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,gEAAA,CAAqF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAC7HC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,8CAAR,CAEVO,OAAAA,CAAuB,QAAS,EAAG,CACnCA,QAASA,MAAK,EAAG,CAIb,IAAKC,CAAAA,IAAL,CAAYD,KAAME,CAAAA,EAJL,CASjBF,KAAMG,CAAAA,SAAUC,CAAAA,SAAhB,CAA4BC,QAAS,CAACC,CAAD,CAAIC,aAAJ,CAAmB,CAEpD,CADIC,CACJ,CADUT,OAAQU,CAAAA,UAAR,CAAmB,yBAAnB,CACV,EAQAV,OAAQW,CAAAA,IAAR,CAAaF,CAAb,CAAkB,aAAlB,CAAiC,QAAS,CAACG,IAAD,CAAO,CAC7C,MAAO,SAAS,CAACC,OAAD,CAAUC,MAAV,CAAkBC,QAAlB,CAA4B,CAAA,IACpCC,EADoC,CAChCC,EADgC,CAIpCC,KAA6B,IAAtB;CAACD,EAAD,CADuB,IAAjBE,IAACH,EAADG,CADLX,aAAA,EAAgBY,CAAAA,QAAhBC,EACKF,GAAgC,IAAK,EAArCA,GAAyBH,EAAzBG,CAAyC,IAAK,EAA9CA,CAAkDH,EAAGM,CAAAA,OAAH,EACxD,GAAqC,IAAK,EAA1C,GAA8BL,EAA9B,CAA8C,IAAK,EAAnD,CAAuDA,EAAGM,CAAAA,UAAH,CAAc,CAC5EC,YAAgC,QAAnB,GAAA,MAAOX,QAAP,CAA8BA,OAA9B,CAAwCA,OAAQY,CAAAA,GADe,CAE5EC,GAAI,IAFwE,CAAd,CAIlE,OAAwB,UAAxB,GAAI,MAAOX,SAAX,CACWH,IAAKe,CAAAA,IAAL,CAAU,IAAV,CAAgBd,OAAhB,CAAyBC,MAAzB,CAAiC,QAAS,CAACc,GAAD,CAAMC,MAAN,CAAcC,MAAd,CAAsB,CAEnD,IAAhB,GAAMZ,IAAN,EAA+B,IAAK,EAApC,GAAMA,IAAN,CAAwC,IAAK,EAA7C,CAAMA,IAA8Ca,CAAAA,MAAH,EACjDhB,SAAA,CAASa,GAAT,CAAcC,MAAd,CAAsBC,MAAtB,CAHmE,CAAhE,CADX,CAOsB,UAAtB,GAAI,MAAOhB,OAAX,CACWF,IAAKe,CAAAA,IAAL,CAAU,IAAV,CAAgBd,OAAhB,CAAyB,QAAS,CAACe,GAAD,CAAMC,MAAN,CAAcC,MAAd,CAAsB,CAE3C,IAAhB,GAAMZ,IAAN,EAA+B,IAAK,EAApC,GAAMA,IAAN,CAAwC,IAAK,EAA7C,CAAMA,IAA8Ca,CAAAA,MAAH,EACjDjB,OAAA,CAAOc,GAAP,CAAYC,MAAZ,CAAoBC,MAApB,CAH2D,CAAxD,CADX;AAOOlB,IAAKe,CAAAA,IAAL,CAAU,IAAV,CAAgBd,OAAhB,CAAyBC,MAAzB,CAAiCC,QAAjC,CAtBiC,CADC,CAAjD,CARA,CACIf,OAAQgC,CAAAA,MAAOC,CAAAA,KAAf,CAAqB,0DAArB,CAHgD,CAwCxDhC,MAAME,CAAAA,EAAN,CAAW,OACX,OAAOF,MAnD4B,CAAZ,EAqD3BL,QAAQK,CAAAA,KAAR,CAAgBA,MAzD6G;",
"sources":["node_modules/@sentry/tracing/dist/integrations/node/mysql.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$tracing$dist$integrations$node$mysql\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"@sentry/utils\");\n/** Tracing integration for node-mysql package */\nvar Mysql = /** @class */ (function () {\n    function Mysql() {\n        /**\n         * @inheritDoc\n         */\n        this.name = Mysql.id;\n    }\n    /**\n     * @inheritDoc\n     */\n    Mysql.prototype.setupOnce = function (_, getCurrentHub) {\n        var pkg = utils_1.loadModule('mysql/lib/Connection.js');\n        if (!pkg) {\n            utils_1.logger.error('Mysql Integration was unable to require `mysql` package.');\n            return;\n        }\n        // The original function will have one of these signatures:\n        //    function (callback) => void\n        //    function (options, callback) => void\n        //    function (options, values, callback) => void\n        utils_1.fill(pkg, 'createQuery', function (orig) {\n            return function (options, values, callback) {\n                var _a, _b;\n                var scope = getCurrentHub().getScope();\n                var parentSpan = (_a = scope) === null || _a === void 0 ? void 0 : _a.getSpan();\n                var span = (_b = parentSpan) === null || _b === void 0 ? void 0 : _b.startChild({\n                    description: typeof options === 'string' ? options : options.sql,\n                    op: \"db\",\n                });\n                if (typeof callback === 'function') {\n                    return orig.call(this, options, values, function (err, result, fields) {\n                        var _a;\n                        (_a = span) === null || _a === void 0 ? void 0 : _a.finish();\n                        callback(err, result, fields);\n                    });\n                }\n                if (typeof values === 'function') {\n                    return orig.call(this, options, function (err, result, fields) {\n                        var _a;\n                        (_a = span) === null || _a === void 0 ? void 0 : _a.finish();\n                        values(err, result, fields);\n                    });\n                }\n                return orig.call(this, options, values, callback);\n            };\n        });\n    };\n    /**\n     * @inheritDoc\n     */\n    Mysql.id = 'Mysql';\n    return Mysql;\n}());\nexports.Mysql = Mysql;\n//# sourceMappingURL=mysql.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","utils_1","Mysql","name","id","prototype","setupOnce","Mysql.prototype.setupOnce","_","getCurrentHub","pkg","loadModule","fill","orig","options","values","callback","_a","_b","span","parentSpan","getScope","scope","getSpan","startChild","description","sql","op","call","err","result","fields","finish","logger","error"]
}
