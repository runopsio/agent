{"version":3,"sources":["webapp/settings/views/users.cljs"],"mappings":";AAUA,wCAAA,xCAAMA,wFACHC;AADH,AAEE,mCAAA,mFAAA,sFAAA,mFAAA,uFAAA,mFAAA,yEAAA,sHAAA,mFAAA,mJAAA,2CAAA,wDAAA,wCAAA,mFAAA,mFAAA,mFAAA,2NAAA,mFAAA,kNAAA,mFAAA,mHAAA,mFAAA,gPAAA,mFAAA,yMAAA,mFAAA,oGAAA,mFAAA,sGAAA,2CAAA,qDAAA,IAAA,6DAAA,jiGAACC,8lBAIIC,2KAAkB,AAAA,gFAAKF,4gBAEkB,AAAA,mFAAOA,gMACrB,AAAA,qFAAQA,0ZAGpC,AAACG,uCAAgC,AAAA,uFAASH,qMACb,AAAA,wFAASA;AAX1C,AAgBiB,8BAAA,mFAAA,gEAAA,1KAACI,6PAA0BC,4CAAiBL;WAhB7D,uCAAA,2CAAA,oDAiBO,AAAA,gFAAKA;;AAEd,yCAAA,zCAAMM,0FACHC;AADH,AAAA,0FAAA,mDAGG,+BAAA,mFAAA,sFAAA,mFAAA,uFAAA,mFAAA,6EAAA,aAAA,mFAAA,6EAAA,uBAAA,mFAAA,mHAAA,mFAAA,uDAAA,iBAAA,mFAAA,uDAAA,iBAAA,mFAAA,uDAAA,2BAAA,v3CAACC,63CAWD,AAACC,6BAAW,AAACC,8CAAM,AAACC,4CAAIZ,sCAAUQ;;AAErC,6CAAA,7CAAMK,kGACHL;AADH,AAAA,0FAAA,iIAAA,4PAAA,mFAAA,wGAAA,mFAAA,vbAGIM,8BAAY,qEAAA,xBAAK,AAACC,gBAAMP,kBAAiB,kCAAA,GAAA,nCAAI,0BAAA,zBAAG,AAACO,gBAAMP,0WAGvD,iCAAA,2CAAA,sDAAA,cAAA,6DAAA,7MAACQ;AAAD,AAC4B,8BAAA,mFAAA,gEAAA,1KAACX,6PAA0BY;;;AAE3D,mCAAA,nCAAMC;AAAN,AACE,IAAMV,QAAM,sDAAA,mFAAA,zIAACW;AAAb,AACE;AAAA,AAAA,0FAAA,2DAAA,8HAAA,AAAAC,+BAAA,mFAAA,mDAAA,0HAAA,AAAAA,1UAEEP,2DAAgBL,wOAEfD,uDAAYC","names":["webapp.settings.views.users/list-item","item","webapp.components.table/row","webapp.components.typography/small","webapp.formatters/list-to-comma-string","re-frame.core/dispatch","webapp.settings.views.update-user-form/form","webapp.settings.views.users/users-list","users","webapp.components.table/header","webapp.components.table/rows","cljs.core.doall","cljs.core.map","webapp.settings.views.users/section-header","webapp.components.headings/h2","cljs.core/count","webapp.components.button/primary","webapp.settings.views.create-user-form/form","webapp.settings.views.users/main","re_frame.core.subscribe","cljs.core/deref"],"sourcesContent":["(ns webapp.settings.views.users\n  (:require [re-frame.core :as rf]\n            [webapp.components.typography :as typo]\n            [webapp.formatters :as formatters]\n            [webapp.components.headings :as headings]\n            [webapp.components.button :as button]\n            [webapp.components.table :as table]\n            [webapp.settings.views.create-user-form :as create-user]\n            [webapp.settings.views.update-user-form :as update-user]))\n\n(defn list-item\n  [item]\n  (table/row\n   [:div.grid.grid-cols-2\n    [:div.grid.grid-cols-10\n     [:div.col-span-1\n      [typo/small [:span (:id item)] {:class \"text-gray-400\"}]]\n     [:div.grid.col-span-9\n      [:small.font-semibold.text-gray-700.block (:name item)]\n      [:small.block.text-gray-500 (:email item)]]]\n    [:div.grid.grid-cols-4.content-center\n     [:small.text-xs.text-gray-500\n      (formatters/list-to-comma-string (:groups item))]\n     [:small.text-xs.text-gray-500 (:status item)]\n\n     [:div.settings.justify-self-end\n      [:a.block.text-sm.text-blue-500\n       {:href \"#\"\n        :on-click #(rf/dispatch [:open-modal [update-user/form item]])} \"Edit\"]]]]\n   {:key (:id item)}))\n\n(defn users-list\n  [users]\n  [:div\n   (table/header\n    [:div.grid.grid-cols-2\n     [:div.grid.grid-cols-10\n      [:small.col-span-1 \"ID\"]\n      [:small.col-span-9 \"Name\"]]\n     [:div.grid.grid-cols-4.content-center\n      [:small \"Groups\"]\n      [:small \"Status\"]\n      [:small \"\"]]]\n    nil)\n\n   (table/rows (doall (map list-item users)))])\n\n(defn section-header\n  [users]\n  [:div.grid.grid-cols-4.items-center.mb-large\n   [headings/h2 (str (count users) \" Member\" (if (< (count users) 2) \"\" \"s\"))]\n   [:div.search-bar.col-span-2]\n   [:div\n    (button/primary {:text \"Create user\"\n                     :on-click #(rf/dispatch [:open-modal [create-user/form]])})]])\n\n(defn main []\n  (let [users (rf/subscribe [:users])]\n    (fn []\n    [:section\n     [section-header @users]\n     [:div\n      [users-list @users]]])))\n"]}