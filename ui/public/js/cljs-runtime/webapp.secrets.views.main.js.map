{"version":3,"sources":["webapp/secrets/views/main.cljs"],"mappings":";AAQA,+CAAA,/CAAMA;AAAN,AACE,IAAMC,cAAY;wBAAlB,pBACMC;AADN,AACyB,8BAAA,mFAAA,1GAACC;;kBAD1B,dAEMC;AAFN,AAEmB,8BAAA,mFAAA,oEAAA,2CAAA,kEAAA,3RAACD,+QAAiCF,6EACMC;;AAH3D,AAIE,OAACE;;AAEL,2CAAA,3CAAMC;AAAN,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,+DAAA,mFAAA,mDAAA,2CAAA,wDAAA,6BAAA,mFAAA,mDAKI,iCAAA,2CAAA,sDAAA,oBAAA,6DAAA,nNAACC;AAAD,AAC4B,8BAAA,mFAAA,gEAAA,uIAAA,jTAACH,6PAA0BI,2GAA+BP;;;AAE1F,kCAAA,lCAAMQ;AAAN,AACE,IAAMC,UAAQ,sDAAA,mFAAA,zIAACC;IACTC,mBAAiB,gDAAA,hDAACC;AADxB,AAEE,uBAAA,mFAAA,1GAACT;;AACD;AAAA,AAAA,0FAAA,qEAAA,6IAAA,AAAAU,iCAAA,uHAAA,AAAAA,lNAEIR,yCAAeM,iCAAkBF,oGACjCK,oDAAgBL","names":["webapp.secrets.views.main/close-modal-dialog","dialog-text","on-success-dialog","re-frame.core/dispatch","open-dialog","webapp.secrets.views.main/section-header","webapp.components.button/primary","webapp.secrets.views.secret-form-modal/form","webapp.secrets.views.main/panel","secrets","re_frame.core.subscribe","searched-secrets","reagent.core.atom","cljs.core/deref","webapp.secrets.views.grid-view/main"],"sourcesContent":["(ns webapp.secrets.views.main\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]\n            [webapp.events.secrets]\n            [webapp.components.button :as button]\n            [webapp.secrets.views.grid-view :as grid-view]\n            [webapp.secrets.views.secret-form-modal :as secret-form-modal]))\n\n(defn close-modal-dialog []\n  (let [dialog-text (str \"Are you sure you want to discard this new secret?\")\n        on-success-dialog #(rf/dispatch [:close-modal])\n        open-dialog #(rf/dispatch [:open-dialog {:text dialog-text\n                                                 :on-success on-success-dialog}])]\n    (open-dialog)))\n\n(defn section-header []\n  [:div\n   {:class \"grid grid-cols-4 gap-regular items-center mb-regular\"}\n   [:div {:class \"col-span-3\"}]\n   [:div\n    (button/primary {:text \"Create new secret\"\n                     :on-click #(rf/dispatch [:open-modal [secret-form-modal/form] :large close-modal-dialog])})]])\n\n(defn panel []\n  (let [secrets (rf/subscribe [:secrets->secrets-list])\n        searched-secrets (r/atom nil)]\n    (rf/dispatch [:secrets->get-secrets])\n    (fn []\n      [:div.px-large\n       [section-header searched-secrets @secrets]\n       [grid-view/main @secrets]])))\n"]}