{"version":3,"sources":["webapp/settings/events/agents.cljs"],"mappings":"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","names":["re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__51654","vec__51655","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__28315__auto__","p1__51652#","day8.re-frame.debux.common.util/send-trace!","e","e51683","p__51691","vec__51692","_","version","re-frame.core/dispatch","webapp.settings.events.agents/agent-item-transformer","item","cljs.core.get","p__51701","p__51702","map__51703","cljs.core/--destructure-map","vec__51704","p1__51699#","e51726","p__51738","p__51739","map__51740","vec__51741","db","agents","agents-parsed","cljs.core._EQ_","cljs.core.mapv","webapp.formatters/split-by-colon","cljs.core.assoc"],"sourcesContent":["(ns webapp.settings.events.agents\n  (:require [re-frame.core :as rf]\n            [webapp.formatters :as f]\n            [day8.re-frame.tracing :refer-macros [fn-traced]]))\n\n(rf/reg-event-fx\n :settings->get-agents\n (fn-traced\n  [_ [_ version]]\n  {:fx [[:dispatch [:fetch\n                    {:method \"GET\"\n                     :uri \"/v1/agents\"\n                     :on-success #(rf/dispatch [::set-agents % version])}]]]}))\n\n(defn- agent-item-transformer [item]\n  {:subscription_name (get item 0)\n   :tags (get item 1)})\n\n(rf/reg-event-fx\n ::set-agents\n (fn-traced\n  [{:keys [db]} [_ agents version]]\n  ;; this is used to manage information regards feature-flag\n  (let [agents-parsed (if (= version :vintage)\n                        (mapv #(agent-item-transformer (f/split-by-colon %)) agents)\n                        agents)]\n    {:db (assoc db :agents agents-parsed)})))\n"]}