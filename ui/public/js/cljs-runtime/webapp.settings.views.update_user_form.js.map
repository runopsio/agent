{"version":3,"sources":["webapp/settings/views/update_user_form.cljs"],"mappings":";AASA,8CAAA,9CAAMA,oGACHC;AADH,AAEE,IAAMC,SAAO,AAACC,gDAAO,AAACC,uCAAgC,AAAA,uFAASH;IACzDI,OAAK,AAACF,gDAAO,AAAA,mFAAOF;IACpBK,SAAO,AAACH,gDAAO,AAAA,wFAASF;AAF9B,AAGE,kBACGA;AADH,AAAA,0FAAA,mDAAA,wRAAA,2CAAA,wDAAA,wDAAA,mFAAA,2EAAA,2CAAA,ziBAGIS,8BAAK,CAAA,8DAAuB,AAAA,mFAAOT,+IACpC,AAACU,ySAEY,WAAKC;AAAL,AACE,AAAiBA;;AACjB,cAAA,2CAAA,4IAAA,0DAAA,AAAAJ,wBAAA,qDAAA,AAAAA,sBAAA,9VAAMK,uGAAa,AAAA,gFAAKZ,oFACAK,6EACFD,+DACC,uCAAA,AAAAG,vCAACM,uDAAiCZ;AAHzD,AAIE,8BAAA,mFAAA,1GAACa,iMAAoCF;WAZzD,iHAAA,2CAAA,uDAAA,OAAA,+DAAA,WAAAN,jNAaKS;AAbL,AAc8B,OAACC,sBAAOZ,KAAK,AAAA,AAAAE;GAd3C,mEAAA,YAAA,sDAAA,AAAAC,sCAAA,iHAAA,2CAAA,uDAAA,SAAA,+DAAA,WAAAC,5TAgB0BJ,yGACrBW;AAjBL,AAkB8B,OAACC,sBAAOf,OAAO,AAAA,AAAAO;GAlB7C,mEAAA,yBAAA,sDAAA,AAAAD,gBAoB0BN,wBACtB,+BAAA,2CAAA,uDAAA,SAAA,+DAAA,WAAAgB,pNAACC;AAAD,AAC2B,OAACF,sBAAOX,OAAO,AAAA,AAAAY;o3BAtB9C,mFAAA,p8BAqBI,4DAAA,AAAAV,wBAAA,yDAAA,mFAAA,2CAAA,sDAAA,SAAA,sDAAA,iBAAA,2CAAA,sDAAA,WAAA,sDAAA,mBAAA,2CAAA,sDAAA,YAAA,sDAAA,4BAAA,6DAAA,tvBAE0BF,owBAK1B,AAACK,kOAEA,mCAAA,2CAAA,sDAAA,SAAA,6DAAA,1MAACS;AAAD,AAC8B,8BAAA,mFAAA,1GAACL;YAC/B,iCAAA,2CAAA,sDAAA,SAAA,qDAAA,hMAACM","names":["webapp.settings.views.update-user-form/form","user","groups","reagent.core.atom","webapp.formatters/list-to-comma-string","name","status","p1__51853#","cljs.core/deref","p1__51854#","webapp.components.headings/h3","webapp.components.divider/main","e","payload","webapp.formatters/comma-string-to-list","re-frame.core/dispatch","webapp.components.forms/input","cljs.core/reset!","p1__51855#","webapp.components.forms/select","webapp.components.button/secondary","webapp.components.button/primary"],"sourcesContent":["(ns webapp.settings.views.update-user-form\n  (:require [reagent.core :as r]\n            [re-frame.core :as rf]\n            [webapp.formatters :as formatters]\n            [webapp.components.divider :as divider]\n            [webapp.components.button :as button]\n            [webapp.components.forms :as forms]\n            [webapp.components.headings :as h]))\n\n(defn form\n  [user]\n  (let [groups (r/atom (formatters/list-to-comma-string (:groups user)))\n        name (r/atom (:name user))\n        status (r/atom (:status user))]\n    (fn\n      [user]\n      [:div\n       [h/h3 (str \"You're editing \" (:name user)) {:class \"mb-4\"}]\n       (divider/main)\n       [:form.mb-regular\n        {:on-submit (fn [e]\n                      (.preventDefault e)\n                      (let [payload {:id (:id user)\n                                     :status @status\n                                     :name @name\n                                     :groups (formatters/comma-string-to-list @groups)}]\n                        (rf/dispatch [:settings->update-user payload])))}\n        [forms/input {:label \"Name\"\n                      :on-change #(reset! name (-> % .-target .-value))\n                      :placeholder \"Your name\"\n                      :value @name}]\n        [forms/input {:label \"Groups\"\n                      :on-change #(reset! groups (-> % .-target .-value))\n                      :placeholder \"Comma separated values\"\n                      :value @groups}]\n        (forms/select {:label \"Status\"\n                       :on-change #(reset! status (-> % .-target .-value))\n                       :selected @status\n                       :options [{:value \"active\" :text \"active\"}\n                                 {:value \"inactive\" :text \"inactive\"}\n                                 {:value \"reviewing\" :text \"reviewing\"}]\n                       :required true})\n        (divider/main)\n        [:div.grid.grid-cols-2.gap-regular\n         (button/secondary {:text \"Cancel\"\n                            :on-click #(rf/dispatch [:close-modal])})\n         (button/primary {:text \"Update\"\n                          :type \"submit\"})]]])))\n"]}