{"version":3,"sources":["webapp/templates/views/panel.cljs"],"mappings":"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","names":["webapp.templates.views.panel/empty-templates-view","webapp.templates.views.panel/no-integration-templates-view","webapp.components.button/secondary","re-frame.core/dispatch","webapp.templates.views.panel/templates-list","templates","re_frame.core.subscribe","filtered-templates","selected-template","webapp.components.headings/h4","p1__30271#","cljs.core/deref","cljs.core._EQ_","cljs.core/empty?","webapp.components.searchbox/main","p1__30270#","cljs.core.map","cljs.core.into","cljs.core.doall","iter__4652__auto__","s__30273","cljs.core/LazySeq","temp__5753__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__4650__auto__","size__4651__auto__","cljs.core/count","b__30275","cljs.core/chunk-buffer","i__30274","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__30272","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","template","selected?","webapp.templates.views.panel/panel","webapp.templates.views.template-view/template-view","cljs.core/chunk-first"],"sourcesContent":["(ns webapp.templates.views.panel\n  (:require [re-frame.core :as rf]\n            [reagent.core :as r]\n            [webapp.components.button :as button]\n            [webapp.components.headings :as h]\n            [webapp.components.searchbox :as searchbox]\n            [webapp.templates.events]\n            [webapp.templates.views.template-view :as template-view]))\n\n(defn- empty-templates-view []\n  [:div {:class \"pt-large\"}\n   [:figure\n    {:class \"w-3/4 mx-auto p-regular\"}\n    [:img {:src \"/images/runops-illustrations/disk.svg\"\n           :class \"w-full\"}]]\n   [:div {:class \"px-large text-center\"}\n    [:div {:class \"text-gray-700 text-sm font-bold\"}\n     \"No templates are available!\"]\n    [:div {:class \"text-gray-500 text-xs mb-small\"}\n     (str \"You have no templates or no access to your organization's templates. \"\n          \"Talk to the account admin or \")\n     [:a {:href \"https://runops.io/docs/templates/\"\n          :class \"text-blue-500 hover:underline\"\n          :target \"_blank\"}\n      \"check out our template documentation.\"]]]])\n\n(defn- no-integration-templates-view []\n  [:div {:class \"pt-large\"}\n   [:figure\n    {:class \"w-3/4 mx-auto p-regular\"}\n    [:img {:src \"/images/runops-illustrations/typingmachine.svg\"\n           :class \"w-full\"}]]\n   [:div {:class \"px-large text-center\"}\n    [:div {:class \"text-gray-700 text-sm font-bold\"}\n     \"No Github account connected.\"]\n    [:div {:class \"text-gray-500 text-xs mb-large\"}\n     \"It's time to stop rewriting everything again!\"]\n    [button/secondary\n     {:text \"Go to settings and connect\"\n      :outlined true\n      :href \"/settings\"\n      :on-click (fn []\n                  (rf/dispatch [:navigate :settings])\n                  (rf/dispatch [:close-select-templates-modal]))}]]])\n\n(defn- templates-list []\n  (let [templates (rf/subscribe [:templates])\n        filtered-templates (rf/subscribe [:templates->filtered-templates])\n        selected-template (rf/subscribe [:templates->selected-template])]\n    (fn []\n      [:div\n       [:header\n        {:class \"mb-regular\"}\n        [h/h4 \"Your templates\" {}]]\n       (cond\n         (= :loading (:status @templates)) [:span {:class \"mt-regular italic text-xs\"} \"loading...\"]\n         (or (= :error (:status @templates)) (empty? (:data @templates))) [no-integration-templates-view]\n         :else [:div\n                (when (empty? (:data @templates)) [empty-templates-view])\n                [:div {:class \"my-regular mr-regular\"}\n                 [searchbox/main {:options (map #(into {} {:name %}) (:data @templates))\n                                  :on-change-results-cb #(rf/dispatch [:templates->set-filtered-templates %])\n                                  :display-key :name\n                                  :searchable-keys [:name]\n                                  :hide-results-list true\n                                  :placeholder \"Type to search your template\"\n                                  :loading? (= (:status @templates) :loading)\n                                  :name \"templates-search\"\n                                  :clear? true\n                                  :list-classes \"min-w-96\"\n                                  :selected @selected-template}]]\n                (doall\n                 (for [template @filtered-templates]\n                   (let [selected? (= (:name template) (-> @selected-template :template :name))]\n                     ^{:key (:name template)}\n                     [:a {:href (str \"/templates/\" (:name template))\n                          :on-click #(rf/dispatch [:templates->get-template-by-name (:name template)])}\n                      [:div\n                       {:class (str \"flex gap-x-small items-center \"\n                                    \"cursor-pointer py-small transition \"\n                                    \"text-xs text-gray-700 hover:text-blue-500\"\n                                    (when selected?\n                                      \" text-blue-500\"))}\n                       [:figure {:class \"w-3 flex-shrink-0\"}\n                        [:img {:src (if selected?\n                                      \"/icons/icon-document-blue.svg\"\n                                      \"/icons/icon-document-black.svg\")}]]\n                       [:span\n                        (:name template)]\n                       (when (= (:name template) (-> @selected-template :template :name))\n                         [:figure {:class \"w-6 flex-shrink-0\"}\n                          [:img {:src \"/icons/icon-check-blue.svg\"}]])]])))])])))\n\n(defn panel []\n  (let [selected-template (rf/subscribe [:templates->selected-template])]\n    (fn []\n      [:div {:class \"px-regular\"}\n       [:div {:class \"grid grid-cols-8\"}\n        [:div.templates-list {:class \"col-span-2 h-templates__screen-container\"}\n         [templates-list]]\n        [:div.templates-body {:class \"col-span-6 border-l p-regular\"}\n         [template-view/template-view (:status @selected-template)]]]])))\n"]}