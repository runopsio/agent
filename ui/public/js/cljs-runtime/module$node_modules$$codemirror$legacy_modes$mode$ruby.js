shadow$provide.module$node_modules$$codemirror$legacy_modes$mode$ruby=function(global,require,module,exports){function wordObj(words){for(var o={},i=0,e=words.length;i<e;++i)o[words[i]]=!0;return o}function chain(newtok,stream,state){state.tokenize.push(newtok);return newtok(stream,state)}function tokenBase(stream,state){if(stream.sol()&&stream.match("\x3dbegin")&&stream.eol())return state.tokenize.push(readBlockComment),"comment";if(stream.eatSpace())return null;var ch=stream.next();if("`"==ch||
"'"==ch||'"'==ch)return chain(readQuoted(ch,"string",'"'==ch||"`"==ch),stream,state);if("/"==ch){var m=stream.pos;for(var depth=0,next,found=!1,escaped=!1;null!=(next=stream.next());)if(escaped)escaped=!1;else{if(-1<"[{(".indexOf(next))depth++;else if(-1<"]})".indexOf(next)){if(depth--,0>depth)break}else if("/"==next&&0==depth){found=!0;break}escaped="\\"==next}stream.backUp(stream.pos-m);return found?chain(readQuoted(ch,"string.special",!0),stream,state):"operator"}if("%"==ch){ch="string";m=!0;stream.eat("s")?
ch="atom":stream.eat(/[WQ]/)?ch="string":stream.eat(/[r]/)?ch="string.special":stream.eat(/[wxq]/)&&(ch="string",m=!1);depth=stream.eat(/[^\w\s=]/);if(!depth)return"operator";opening.propertyIsEnumerable(depth)&&(depth=opening[depth]);return chain(readQuoted(depth,ch,m,!0),stream,state)}if("#"==ch)return stream.skipToEnd(),"comment";if("\x3c"==ch&&(m=stream.match(/^<([-~])[`"']?([a-zA-Z_?]\w*)[`"']?(?:;|$)/)))return chain(readHereDoc(m[2],m[1]),stream,state);if("0"==ch)return stream.eat("x")?stream.eatWhile(/[\da-fA-F]/):
stream.eat("b")?stream.eatWhile(/[01]/):stream.eatWhile(/[0-7]/),"number";if(/\d/.test(ch))return stream.match(/^[\d_]*(?:\.[\d_]+)?(?:[eE][+\-]?[\d_]+)?/),"number";if("?"==ch){for(;stream.match(/^\\[CM]-/););stream.eat("\\")?stream.eatWhile(/\w/):stream.next();return"string"}if(":"==ch)return stream.eat("'")?chain(readQuoted("'","atom",!1),stream,state):stream.eat('"')?chain(readQuoted('"',"atom",!0),stream,state):stream.eat(/[<>]/)?(stream.eat(/[<>]/),"atom"):stream.eat(/[\+\-\*\/&\|:!]/)?"atom":
stream.eat(/[a-zA-Z$@_\xa1-\uffff]/)?(stream.eatWhile(/[\w$\xa1-\uffff]/),stream.eat(/[\?!=]/),"atom"):"operator";if("@"==ch&&stream.match(/^@?[a-zA-Z_\xa1-\uffff]/))return stream.eat("@"),stream.eatWhile(/[\w\xa1-\uffff]/),"propertyName";if("$"==ch)return stream.eat(/[a-zA-Z_]/)?stream.eatWhile(/[\w]/):stream.eat(/\d/)?stream.eat(/\d/):stream.next(),"variableName.special";if(/[a-zA-Z_\xa1-\uffff]/.test(ch))return stream.eatWhile(/[\w\xa1-\uffff]/),stream.eat(/[\?!]/),stream.eat(":")?"atom":"variable";
if("|"!=ch||!state.varList&&"{"!=state.lastTok&&"do"!=state.lastTok)return/[\(\)\[\]{}\\;]/.test(ch)?(curPunc=ch,null):"-"==ch&&stream.eat("\x3e")?"operator":/[=+\-\/*:\.^%<>~|]/.test(ch)?(stream=stream.eatWhile(/[=+\-\/*:\.^%<>~|]/),"."!=ch||stream||(curPunc="."),"operator"):null;curPunc="|";return null}function tokenBaseUntilBrace(depth){depth||(depth=1);return function(stream,state){if("}"==stream.peek()){if(1==depth)return state.tokenize.pop(),state.tokenize[state.tokenize.length-1](stream,state);
state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth-1)}else"{"==stream.peek()&&(state.tokenize[state.tokenize.length-1]=tokenBaseUntilBrace(depth+1));return tokenBase(stream,state)}}function tokenBaseOnce(){var alreadyCalled=!1;return function(stream,state){if(alreadyCalled)return state.tokenize.pop(),state.tokenize[state.tokenize.length-1](stream,state);alreadyCalled=!0;return tokenBase(stream,state)}}function readQuoted(quote,style,embed,unescaped){return function(stream,state){var escaped=
!1,ch;"read-quoted-paused"===state.context.type&&(state.context=state.context.prev,stream.eat("}"));for(;null!=(ch=stream.next());){if(ch==quote&&(unescaped||!escaped)){state.tokenize.pop();break}if(embed&&"#"==ch&&!escaped)if(stream.eat("{")){"}"==quote&&(state.context={prev:state.context,type:"read-quoted-paused"});state.tokenize.push(tokenBaseUntilBrace());break}else if(/[@\$]/.test(stream.peek())){state.tokenize.push(tokenBaseOnce());break}escaped=!escaped&&"\\"==ch}return style}}function readHereDoc(phrase,
mayIndent){return function(stream,state){mayIndent&&stream.eatSpace();stream.match(phrase)?state.tokenize.pop():stream.skipToEnd();return"string"}}function readBlockComment(stream,state){stream.sol()&&stream.match("\x3dend")&&stream.eol()&&state.tokenize.pop();stream.skipToEnd();return"comment"}Object.defineProperty(exports,"__esModule",{value:!0});exports.ruby=void 0;global="alias and BEGIN begin break case class def defined? do else elsif END end ensure false for if in module next not or redo rescue retry return self super then true undef unless until when while yield nil raise throw catch fail loop callcc caller lambda proc public protected private require load require_relative extend autoload __END__ __FILE__ __LINE__ __dir__".split(" ");
var keywords=wordObj(global),indentWords=wordObj("def class case for while until module then catch loop proc begin".split(" ")),dedentWords=wordObj(["end","until"]),opening={"[":"]","{":"}","(":")"},closing={"]":"[","}":"{",")":"("},curPunc;exports.ruby={startState:function(indentUnit){return{tokenize:[tokenBase],indented:0,context:{type:"top",indented:-indentUnit},continuedLine:!1,lastTok:null,varList:!1}},token:function(stream,state){curPunc=null;stream.sol()&&(state.indented=stream.indentation());
var style=state.tokenize[state.tokenize.length-1](stream,state),kwtype,thisTok=curPunc;if("variable"==style){var word=stream.current();style="."==state.lastTok?"property":keywords.propertyIsEnumerable(stream.current())?"keyword":/^[A-Z]/.test(word)?"tag":"def"==state.lastTok||"class"==state.lastTok||state.varList?"def":"variable";"keyword"==style&&(thisTok=word,indentWords.propertyIsEnumerable(word)?kwtype="indent":dedentWords.propertyIsEnumerable(word)?kwtype="dedent":"if"!=word&&"unless"!=word||
stream.column()!=stream.indentation()?"do"==word&&state.context.indented<state.indented&&(kwtype="indent"):kwtype="indent")}if(curPunc||style&&"comment"!=style)state.lastTok=thisTok;"|"==curPunc&&(state.varList=!state.varList);"indent"==kwtype||/[\(\[\{]/.test(curPunc)?state.context={prev:state.context,type:curPunc||style,indented:state.indented}:("dedent"==kwtype||/[\)\]\}]/.test(curPunc))&&state.context.prev&&(state.context=state.context.prev);stream.eol()&&(state.continuedLine="\\"==curPunc||"operator"==
style);return style},indent:function(state,textAfter,cx){if(state.tokenize[state.tokenize.length-1]!=tokenBase)return null;var firstChar=textAfter&&textAfter.charAt(0),ct=state.context;textAfter=ct.type==closing[firstChar]||"keyword"==ct.type&&/^(?:end|until|else|elsif|when|rescue)\b/.test(textAfter);return ct.indented+(textAfter?0:cx.unit)+(state.continuedLine?cx.unit:0)},languageData:{indentOnInput:/^\s*(?:end|rescue|elsif|else|\})$/,commentTokens:{line:"#"},autocomplete:global}}}
//# sourceMappingURL=module$node_modules$$codemirror$legacy_modes$mode$ruby.js.map
