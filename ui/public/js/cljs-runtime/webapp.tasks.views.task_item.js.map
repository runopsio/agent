{"version":3,"sources":["webapp/tasks/views/task_item.cljs"],"mappings":";AAOA,GAAA,QAAAA,mCAAAC,yCAAAC,+CAAAC,yDAAAC;AAAA;AAAA,AAAA,4CAAA,iBAAAC,6BAAA,AAAAC,6CAAA,vIAAUS;IAAVR,6BAAA,AAAAD,6CAAA;IAAAE,6BAAA,AAAAF,6CAAA;IAAAG,iCAAA,AAAAH,6CAAA;IAAAI,0BAAA,AAAAC,4CAAA,mCAAA,gEAAA,iBAAAC,eAAA;AAAA,AAAA,QAAAA,6CAAAA,+CAAAA;;AAAA,AAAA,YAAAC,kBAAA,AAAAC,+CAAA,+BAAA,mCAAA,4DAAAJ,wBAAAL,2BAAAE,2BAAAC,2BAAAC,xLAAuBO;;;AACvB,AAAAD,sFAAA,iBAAA,WAA0CE,EAAEA;AAA5C,AAAA,0FAAA,iHAAA;;AAEA,AAAAF,sFAAA,UAAA,WAAmCE,EAAEA;AAArC,AAAA,0FAAA,+EAAA;;AAEA,AAAAF,sFAAA,4DAAA,WAAkCE,EAAEC;AAApC,AAAA,0FAAA,iFACuBA;;AAEvB,yCAAA,zCAAMC,0FAAWC;AAAjB,AAAA,0FAAA,mDAAA,2CAAA,mLAAA,3HAEW,CAAA,+EAAA,wGAEG;AAAA,AACE,uBAAA,mFAAA,1GAACC,mLAA6BD;;AAC9B,8BAAA,mFAAA,gEAAA,wHAAA,2CAAA,gFAAA,qBAAA,lbAACC,6PACcC;WAP/B,mFAAA,mDAAA,2CAAA,wDAAA,gEAAA,mFAAA,mDAAA,2CAAA,wDAAA,8CAAA,mFAAA,qDAAA,2CAAA,wDAAA,oIAAA,mFAAA,qDAAA,2CAAA,wDAAA,szCAAA,mFAAA,mDAAA,2CAAA,wDAAA,WAAA,mFAAA,qDAAA,2CAAA,wDAAA,uJAAA,mFAAA,qDAAA,2CAAA,wDAAA,uMAAA,mFAAA,mDAAA,2CAAA,wDAAA,qBAAA,mFAAA,qDAAA,2CAAA,wDAAA,2lBAAA,mFAAA,mDAAA,2CAAA,wDAAA,gEAAA,mFAAA,mDAAA,2CAAA,wDAAA,0CAAA,mFAAA,qDAAA,2CAAA,wDAAA,gIAAA,mFAAA,qDAAA,2CAAA,wDAAA,0IAAA,mFAAA,mDAAA,2CAAA,wDAAA,6DAAA,mFAAA,qDAAA,2CAAA,wDAAA,xhLAWM,AAAA,gFAAKF,wRAEL,AAACL,wEAAa,AAAA,wFAASK,MAAM,AAAA,wFAASA,eACvC,kIAAA,AAAA,mFAAA,qDAAA,2CAAA,wDAAA,+CAAA,mFAAA,qDAAA,mBAAA,mFAAA,6MAAA,mFAAA,qDAAA,6BAAA,1/BAAM,GAAK,oHAAA,nHAAM,AAAA,0GAAkBA,+kBAI/B,AAACG,+BAAwB,AAAA,0GAAkBH,2sBAI9C,AAAA,+FAAaA,+RAEb,CAAA,WAAgB,AAACI,2BAAoB,AAAA,yFAAUJ,yjBAG/C,AAAA,kGAAcA,MACd,0HAAA,AAAA,mFAAA,qDAAA,2CAAA,wDAAA,wCAAA,yBAAA,paAAM,AAACK,cAAI,AAAA,kGAAcL,qpCAMzB,AAAA,sFAASA,0RAET,AAAA,mFAAOA,gmBAGP,AAAA,wFAASA","names":["js/webapp","js/webapp.tasks","js/webapp.tasks.views","js/webapp.tasks.views.task-item","js/webapp.tasks.views.task-item.status-style","method-table__4747__auto__","cljs.core.atom","prefer-table__4748__auto__","method-cache__4749__auto__","cached-hierarchy__4750__auto__","hierarchy__4751__auto__","cljs.core.get","fexpr__31110","cljs.core/MultiFn","cljs.core.symbol","webapp.tasks.views.task-item/status-style","cljs.core/identity","_","status","webapp.tasks.views.task-item/task-item","task","re-frame.core/dispatch","webapp.tasks.views.task-details/main","webapp.formatters/time-elapsed","webapp.formatters/time-ago","cljs.core/not"],"sourcesContent":["(ns webapp.tasks.views.task-item\n  (:require\n   [re-frame.core :as rf]\n   [webapp.formatters :as formatters]\n   [webapp.tasks.views.task-details :as task-details]\n   [webapp.tasks.events]))\n\n(defmulti status-style identity)\n(defmethod status-style \"pending-review\" [_ _]\n  [:span.text-yellow-400.font-semibold \"pending-review\"])\n(defmethod status-style \"failure\" [_ _]\n  [:span.text-red-600 \"failure\"])\n(defmethod status-style :default [_ status]\n  [:span.text-gray-700 status])\n\n(defn task-item [task]\n  [:div\n   {:class (str \"overflow-hidden border-b cursor-pointer hover:bg-gray-50 px-regular py-small\"\n                \" grid grid-cols-10 gap-regular\")\n    :on-click (fn []\n                (rf/dispatch [:get-task-by-id task])\n                (rf/dispatch [:open-modal\n                              [task-details/main {:copy-to-new-script? true}] :large]))}\n   [:div {:class \"lg:col-span-4 xl:col-span-3 2xl:col-span-2 col-span-4\"}\n    [:div {:class \"flex gap-small items-center text-xs\"}\n     [:span {:class \"text-gray-800 font-semibold\"}\n      (:id task)]\n     [:span {:class \"italic flex-shrink-0\"}\n      (status-style (:status task) (:status task))]\n     (when (not (nil? (:elapsed_time_ms task)))\n       [:span {:class \"text-gray-500 text-xxs flex-shrink-0\"}\n        [:span \" - Took \"]\n        [:span\n         (formatters/time-elapsed (:elapsed_time_ms task))]\n        [:span \" to finish\"]])]\n    [:div {:class \"\"}\n     [:span {:class \"text-xs text-gray-800 font-bold\"}\n      (:user_email task)]\n     [:span {:class \"pl-1 text-xxs text-gray-500\"}\n      (str \"created \" (formatters/time-ago (:created task)))]]\n    [:div {:class \"pt-x-small\"}\n     [:span {:class \"block text-xs text-gray-700 truncate\"}\n      (:description task)\n      (when (not (:description task))\n        [:span {:class \"text-xxs italic text-gray-400\"}\n         \"No description\"])]]]\n   [:div {:class \"lg:col-span-6 xl:col-span-7 2xl:col-span-8 col-span-6\"}\n    [:div {:class \"flex items-end gap-1 mb-x-small\"}\n     [:span {:class \"text-xs font-bold\"}\n      (:target task)]\n     [:span {:class \"text-xxs text-gray-500\"}\n      (:type task)]]\n    [:div {:class \"p-small bg-gray-100 overflow-hidden rounded-lg h-8\"}\n     [:span {:class \"block font-mono text-xs text-gray-500 truncate\"}\n      (:script task)]]]])\n"]}