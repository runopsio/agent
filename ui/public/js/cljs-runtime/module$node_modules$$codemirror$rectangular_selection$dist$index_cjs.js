shadow$provide.module$node_modules$$codemirror$rectangular_selection$dist$index_cjs=function(global,require,module,exports){function getPos(view,event){var offset=view.posAtCoords({x:event.clientX,y:event.clientY},!1);let line=view.state.doc.lineAt(offset),off=offset-line.from;2E3<off?view=-1:off==line.length?(event=event.clientX,view=(offset=view.coordsAtPos(view.viewport.from))?Math.round(Math.abs((offset.left-event)/view.defaultCharacterWidth)):-1):view=text.countColumn(line.text,view.state.tabSize,
offset-line.from);return{line:line.number,col:view,off}}function rectangleSelectionStyle(view,event$jscomp$0){let start$jscomp$0=getPos(view,event$jscomp$0),startSel=view.state.selection;return start$jscomp$0?{update(update){if(update.docChanged){var newStart=update.changes.mapPos(update.startState.doc.line(start$jscomp$0.line).from);newStart=update.state.doc.lineAt(newStart);start$jscomp$0={line:newStart.number,col:start$jscomp$0.col,off:Math.min(start$jscomp$0.off,newStart.length)};startSel=startSel.map(update.changes)}},
get(event,_extend,multiple){var cur=getPos(view,event);if(!cur)return startSel;event=view.state;var a=start$jscomp$0,startLine=Math.min(a.line,cur.line);_extend=Math.max(a.line,cur.line);let ranges=[];if(2E3<a.off||2E3<cur.off||0>a.col||0>cur.col){var startOff=Math.min(a.off,cur.off);for(cur=Math.max(a.off,cur.off);startLine<=_extend;startLine++)a=event.doc.line(startLine),a.length<=cur&&ranges.push(state.EditorSelection.range(a.from+startOff,a.to+cur))}else for(startOff=Math.min(a.col,cur.col),cur=
Math.max(a.col,cur.col);startLine<=_extend;startLine++){a=event.doc.line(startLine);let start=text.findColumn(a.text,startOff,event.tabSize,!0);if(-1<start){let end=text.findColumn(a.text,cur,event.tabSize);ranges.push(state.EditorSelection.range(a.from+start,a.from+end))}}return ranges.length?multiple?state.EditorSelection.create(ranges.concat(startSel.ranges)):state.EditorSelection.create(ranges):startSel}}:null}Object.defineProperty(exports,"__esModule",{value:!0});var state=require("module$node_modules$$codemirror$state$dist$index_cjs"),
view$jscomp$0=require("module$node_modules$$codemirror$view$dist$index_cjs"),text=require("module$node_modules$$codemirror$text$dist$index_cjs");exports.rectangularSelection=function(options){let filter=(null===options||void 0===options?void 0:options.eventFilter)||(e=>e.altKey&&0==e.button);return view$jscomp$0.EditorView.mouseSelectionStyle.of((view,event)=>filter(event)?rectangleSelectionStyle(view,event):null)}}
//# sourceMappingURL=module$node_modules$$codemirror$rectangular_selection$dist$index_cjs.js.map
