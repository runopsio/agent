{"version":3,"sources":["webapp/users/events.cljs"],"mappings":"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","names":["re_frame.core.reg_event_fx","day8.re-frame.tracing/is-trace-enabled?","p__31167","p__31168","map__31169","cljs.core/--destructure-map","cljs.core.get","vec__31170","cljs.core.nth","+debux-dbg-opts+","day8.re-frame.debux.common.util/send-form!","result__29690__auto__","day8.re-frame.debux.common.util/send-trace!","e","e31174","p__31179","p__31180","map__31181","vec__31182","db","_","users","cljs.core.assoc","p__31186","p__31187","map__31188","vec__31189","p1__31185#","e31197","p__31205","p__31206","map__31207","vec__31210","re-frame.core/dispatch","p__31219","p__31220","map__31225","vec__31226","e31243","p__31263","p__31264","map__31265","vec__31266","new-user","success","cljs.core.merge","p__31276","p__31277","map__31278","vec__31279","e31295","p__31309","p__31310","map__31311","vec__31312","user","cljs.core.dissoc"],"sourcesContent":["(ns webapp.users.events\n  (:require [re-frame.core :as rf]\n            [day8.re-frame.tracing :refer-macros [fn-traced]]))\n\n(rf/reg-event-fx\n ::set-users\n (fn-traced\n  [{:keys [db]} [_ users]]\n  {:db (assoc db :users users)}))\n\n(rf/reg-event-fx\n ::get-users\n (fn-traced\n  [{:keys [db]} [_ _]]\n  {:fx [[:dispatch [:fetch\n                    {:method \"GET\"\n                     :uri \"/v1/users\"\n                     :on-success #(rf/dispatch [::set-users %])}]]]}))\n\n(rf/reg-event-fx\n ::create-new-user\n (fn-traced\n  [{:keys [db]} [_ new-user]]\n  (let [success (fn []\n                  (rf/dispatch [:close-modal])\n                  (rf/dispatch [::get-users]))]\n  {:fx [[:dispatch [:fetch\n                    {:method \"POST\"\n                     :uri \"/v1/users\"\n                     :body (merge new-user {:status \"inactive\"})\n                     :on-success success}]]]})))\n\n(rf/reg-event-fx\n ::update-user\n (fn-traced\n  [{:keys [db]} [_ user]]\n  (let [success (fn []\n                  (rf/dispatch [:close-modal])\n                  (rf/dispatch [::get-users]))]\n    {:fx [[:dispatch [:fetch\n                      {:method \"PUT\"\n                       :uri (str \"/v1/users/\" (:id user))\n                       :body (dissoc user :id)\n                       :on-success success}]]]})))\n"]}