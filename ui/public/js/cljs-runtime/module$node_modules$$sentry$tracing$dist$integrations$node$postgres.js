shadow$provide.module$node_modules$$sentry$tracing$dist$integrations$node$postgres=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("module$node_modules$$sentry$utils$dist$index");global=function(){function Postgres(options){void 0===options&&(options={});this.name=Postgres.id;this._usePgNative=!!options.usePgNative}Postgres.prototype.setupOnce=function(_,getCurrentHub){var _a$jscomp$0;(_=utils_1.loadModule("pg"))?!this._usePgNative||
null!==(_a$jscomp$0=_.native)&&void 0!==_a$jscomp$0&&_a$jscomp$0.Client?utils_1.fill((this._usePgNative?_.native:_).Client.prototype,"query",function(orig){return function(config,values,callback){var _a,_b,span=null===(_b=null===(_a=getCurrentHub().getScope())||void 0===_a?void 0:_a.getSpan())||void 0===_b?void 0:_b.startChild({description:"string"===typeof config?config:config.text,op:"db"});if("function"===typeof callback)return orig.call(this,config,values,function(err,result){null===span||void 0===
span?void 0:span.finish();callback(err,result)});if("function"===typeof values)return orig.call(this,config,function(err,result){null===span||void 0===span?void 0:span.finish();values(err,result)});config="undefined"!==typeof values?orig.call(this,config,values):orig.call(this,config);if(utils_1.isThenable(config))return config.then(function(res){null===span||void 0===span?void 0:span.finish();return res});null===span||void 0===span?void 0:span.finish();return config}}):utils_1.logger.error("Postgres Integration was unable to access 'pg-native' bindings."):
utils_1.logger.error("Postgres Integration was unable to require `pg` package.")};Postgres.id="Postgres";return Postgres}();exports.Postgres=global}
//# sourceMappingURL=module$node_modules$$sentry$tracing$dist$integrations$node$postgres.js.map
