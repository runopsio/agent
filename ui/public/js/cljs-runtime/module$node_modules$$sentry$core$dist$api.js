shadow$provide.module$node_modules$$sentry$core$dist$api=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});var utils_1=require("module$node_modules$$sentry$utils$dist$index");global=function(){function API(dsn,metadata,tunnel){void 0===metadata&&(metadata={});this.dsn=dsn;this._dsnObject=new utils_1.Dsn(dsn);this.metadata=metadata;this._tunnel=tunnel}API.prototype.getDsn=function(){return this._dsnObject};API.prototype.forceEnvelope=function(){return!!this._tunnel};
API.prototype.getBaseApiEndpoint=function(){var dsn=this.getDsn();return(dsn.protocol?dsn.protocol+":":"")+"//"+dsn.host+(dsn.port?":"+dsn.port:"")+(dsn.path?"/"+dsn.path:"")+"/api/"};API.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")};API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()};API.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+
"?"+this._encodedAuth()};API.prototype.getStoreEndpointPath=function(){var dsn=this.getDsn();return(dsn.path?"/"+dsn.path:"")+"/api/"+dsn.projectId+"/store/"};API.prototype.getRequestHeaders=function(clientName,clientVersion){var dsn=this.getDsn(),header=["Sentry sentry_version\x3d7"];header.push("sentry_client\x3d"+clientName+"/"+clientVersion);header.push("sentry_key\x3d"+dsn.publicKey);dsn.pass&&header.push("sentry_secret\x3d"+dsn.pass);return{"Content-Type":"application/json","X-Sentry-Auth":header.join(", ")}};
API.prototype.getReportDialogEndpoint=function(dialogOptions){void 0===dialogOptions&&(dialogOptions={});var dsn=this.getDsn(),endpoint=this.getBaseApiEndpoint()+"embed/error-page/",encodedOptions=[];encodedOptions.push("dsn\x3d"+dsn.toString());for(var key in dialogOptions)"dsn"!==key&&("user"===key?dialogOptions.user&&(dialogOptions.user.name&&encodedOptions.push("name\x3d"+encodeURIComponent(dialogOptions.user.name)),dialogOptions.user.email&&encodedOptions.push("email\x3d"+encodeURIComponent(dialogOptions.user.email))):
encodedOptions.push(encodeURIComponent(key)+"\x3d"+encodeURIComponent(dialogOptions[key])));return encodedOptions.length?endpoint+"?"+encodedOptions.join("\x26"):endpoint};API.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")};API.prototype._getIngestEndpoint=function(target){if(this._tunnel)return this._tunnel;var base=this.getBaseApiEndpoint(),dsn=this.getDsn();return""+base+dsn.projectId+"/"+target+"/"};API.prototype._encodedAuth=function(){var auth={sentry_key:this.getDsn().publicKey,
sentry_version:"7"};return utils_1.urlEncode(auth)};return API}();exports.API=global}
//# sourceMappingURL=module$node_modules$$sentry$core$dist$api.js.map
