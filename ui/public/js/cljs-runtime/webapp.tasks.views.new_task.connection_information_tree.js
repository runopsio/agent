goog.provide('webapp.tasks.views.new_task.connection_information_tree');
webapp.tasks.views.new_task.connection_information_tree.get_mysql_schema_query = "-- Generated by Runops\nSELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, DATA_TYPE, IS_NULLABLE\nFROM INFORMATION_SCHEMA.COLUMNS\nWHERE TABLE_SCHEMA NOT IN ('information_schema', 'performance_schema', 'mysql', 'pg_catalog')\nORDER BY TABLE_SCHEMA, TABLE_NAME, ORDINAL_POSITION;\n";
webapp.tasks.views.new_task.connection_information_tree.get_postgres_schema_query = "-- Generated by Runops\nSELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, DATA_TYPE, IS_NULLABLE\nFROM INFORMATION_SCHEMA.COLUMNS\nWHERE TABLE_SCHEMA NOT IN ('information_schema', 'performance_schema', 'mysql', 'pg_catalog')\nORDER BY TABLE_SCHEMA, TABLE_NAME, ORDINAL_POSITION;\n";
webapp.tasks.views.new_task.connection_information_tree.get_mysql_schema_with_index_query = "-- Generated by Runops\nSELECT c.TABLE_SCHEMA, c.TABLE_NAME, s.index_name, s.seq_in_index, s.column_name\nFROM INFORMATION_SCHEMA.COLUMNS c\nINNER JOIN INFORMATION_SCHEMA.statistics s\nON c.table_name = s.table_name\nWHERE c.TABLE_SCHEMA NOT IN ('information_schema', 'performance_schema', 'mysql', 'pg_catalog')\nAND c.table_schema = s.table_schema\nORDER BY c.TABLE_SCHEMA, c.TABLE_NAME, c.ORDINAL_POSITION;";
webapp.tasks.views.new_task.connection_information_tree.get_postgres_schema_with_index_query = "-- Generated by Runops\nselect schemaname, tablename, indexname, tablespace, indexdef\nfrom pg_indexes where schemaname = ('public') order by tablename";
webapp.tasks.views.new_task.connection_information_tree.get_mongodb_schema_query = " // Generated by Runops\ndb.getMongo().getDBNames().reduce((acc, current) => {\n  const currentCollections = db.getSiblingDB(current).getCollectionNames();\n  const collectionsWithFields = currentCollections.reduce((accCollection, currCollection) => {\n    accCollection[currCollection] = {};\n    return accCollection;\n  }, {});\n  acc[current] = collectionsWithFields;\n  return acc;\n}, {});";
webapp.tasks.views.new_task.connection_information_tree.field_type_tree = (function webapp$tasks$views$new_task$connection_information_tree$field_type_tree(type){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-regular italic text-gray-600"], null),["(",cljs.core.str.cljs$core$IFn$_invoke$arity$1(type),")"].join('')], null);
});
webapp.tasks.views.new_task.connection_information_tree.indexes_columns_tree = (function webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree(){
return (function (columns){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = (function webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158(s__31159){
return (new cljs.core.LazySeq(null,(function (){
var s__31159__$1 = s__31159;
while(true){
var temp__5753__auto__ = cljs.core.seq(s__31159__$1);
if(temp__5753__auto__){
var s__31159__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_(s__31159__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31159__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31161 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31160 = (0);
while(true){
if((i__31160 < size__4651__auto__)){
var vec__31162 = cljs.core._nth(c__4650__auto__,i__31160);
var number = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31162,(0),null);
var column = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31162,(1),null);
cljs.core.chunk_append(b__31161,cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-2 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-triangle-right-arrow.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-500 px-1"], null),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(number)," -"].join('')], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = ((function (i__31160,vec__31162,number,column,c__4650__auto__,size__4651__auto__,b__31161,s__31159__$2,temp__5753__auto__){
return (function webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31169(s__31170){
return (new cljs.core.LazySeq(null,((function (i__31160,vec__31162,number,column,c__4650__auto__,size__4651__auto__,b__31161,s__31159__$2,temp__5753__auto__){
return (function (){
var s__31170__$1 = s__31170;
while(true){
var temp__5753__auto____$1 = cljs.core.seq(s__31170__$1);
if(temp__5753__auto____$1){
var s__31170__$2 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_(s__31170__$2)){
var c__4650__auto____$1 = cljs.core.chunk_first(s__31170__$2);
var size__4651__auto____$1 = cljs.core.count(c__4650__auto____$1);
var b__31172 = cljs.core.chunk_buffer(size__4651__auto____$1);
if((function (){var i__31171 = (0);
while(true){
if((i__31171 < size__4651__auto____$1)){
var vec__31173 = cljs.core._nth(c__4650__auto____$1,i__31171);
var column_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31173,(0),null);
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31173,(1),null);
cljs.core.chunk_append(b__31172,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-600"], null),column_name], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),column_name], null)));

var G__31243 = (i__31171 + (1));
i__31171 = G__31243;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31172),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31169(cljs.core.chunk_rest(s__31170__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31172),null);
}
} else {
var vec__31176 = cljs.core.first(s__31170__$2);
var column_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31176,(0),null);
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31176,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-600"], null),column_name], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),column_name], null)),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31169(cljs.core.rest(s__31170__$2)));
}
} else {
return null;
}
break;
}
});})(i__31160,vec__31162,number,column,c__4650__auto__,size__4651__auto__,b__31161,s__31159__$2,temp__5753__auto__))
,null,null));
});})(i__31160,vec__31162,number,column,c__4650__auto__,size__4651__auto__,b__31161,s__31159__$2,temp__5753__auto__))
;
return iter__4652__auto__(column);
})())], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(number),cljs.core.str.cljs$core$IFn$_invoke$arity$1(column)].join('')], null)));

var G__31246 = (i__31160 + (1));
i__31160 = G__31246;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31161),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158(cljs.core.chunk_rest(s__31159__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31161),null);
}
} else {
var vec__31179 = cljs.core.first(s__31159__$2);
var number = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31179,(0),null);
var column = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31179,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-2 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-triangle-right-arrow.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-500 px-1"], null),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(number)," -"].join('')], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = ((function (vec__31179,number,column,s__31159__$2,temp__5753__auto__){
return (function webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31182(s__31183){
return (new cljs.core.LazySeq(null,(function (){
var s__31183__$1 = s__31183;
while(true){
var temp__5753__auto____$1 = cljs.core.seq(s__31183__$1);
if(temp__5753__auto____$1){
var s__31183__$2 = temp__5753__auto____$1;
if(cljs.core.chunked_seq_QMARK_(s__31183__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31183__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31185 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31184 = (0);
while(true){
if((i__31184 < size__4651__auto__)){
var vec__31186 = cljs.core._nth(c__4650__auto__,i__31184);
var column_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31186,(0),null);
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31186,(1),null);
cljs.core.chunk_append(b__31185,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-600"], null),column_name], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),column_name], null)));

var G__31247 = (i__31184 + (1));
i__31184 = G__31247;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31185),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31182(cljs.core.chunk_rest(s__31183__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31185),null);
}
} else {
var vec__31189 = cljs.core.first(s__31183__$2);
var column_name = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31189,(0),null);
var _ = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31189,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-gray-600"], null),column_name], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),column_name], null)),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158_$_iter__31182(cljs.core.rest(s__31183__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});})(vec__31179,number,column,s__31159__$2,temp__5753__auto__))
;
return iter__4652__auto__(column);
})())], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),[cljs.core.str.cljs$core$IFn$_invoke$arity$1(number),cljs.core.str.cljs$core$IFn$_invoke$arity$1(column)].join('')], null)),webapp$tasks$views$new_task$connection_information_tree$indexes_columns_tree_$_iter__31158(cljs.core.rest(s__31159__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4652__auto__(cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),columns));
})())], null);
});
});
webapp.tasks.views.new_task.connection_information_tree.indexes_tree = (function webapp$tasks$views$new_task$connection_information_tree$indexes_tree(_){
var dropdown_status = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"closed","closed",-919675359));
return (function (indexes){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-folder.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["text-gray-700 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return cljs.core.reset_BANG_(dropdown_status,((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
})], null),"Indexes",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?"h-0 overflow-hidden":null)], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = (function webapp$tasks$views$new_task$connection_information_tree$indexes_tree_$_iter__31192(s__31193){
return (new cljs.core.LazySeq(null,(function (){
var s__31193__$1 = s__31193;
while(true){
var temp__5753__auto__ = cljs.core.seq(s__31193__$1);
if(temp__5753__auto__){
var s__31193__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_(s__31193__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31193__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31195 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31194 = (0);
while(true){
if((i__31194 < size__4651__auto__)){
var vec__31196 = cljs.core._nth(c__4650__auto__,i__31194);
var index = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31196,(0),null);
var columns_names = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31196,(1),null);
cljs.core.chunk_append(b__31195,cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-db-column-index.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center"], null),index], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.indexes_columns_tree,columns_names], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),index], null)));

var G__31248 = (i__31194 + (1));
i__31194 = G__31248;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31195),webapp$tasks$views$new_task$connection_information_tree$indexes_tree_$_iter__31192(cljs.core.chunk_rest(s__31193__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31195),null);
}
} else {
var vec__31199 = cljs.core.first(s__31193__$2);
var index = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31199,(0),null);
var columns_names = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31199,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-db-column-index.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center"], null),index], null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.indexes_columns_tree,columns_names], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),index], null)),webapp$tasks$views$new_task$connection_information_tree$indexes_tree_$_iter__31192(cljs.core.rest(s__31193__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4652__auto__(indexes);
})())], null)], null);
});
});
webapp.tasks.views.new_task.connection_information_tree.fields_tree = (function webapp$tasks$views$new_task$connection_information_tree$fields_tree(fields){
var dropdown_status = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var dropdown_columns_status = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(new cljs.core.Keyword(null,"closed","closed",-919675359));
return (function (){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-folder.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["text-gray-700 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),(function (){
return cljs.core.reset_BANG_(dropdown_columns_status,((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_columns_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
})], null),"Columns",new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_columns_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),["pl-small",((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_columns_status),new cljs.core.Keyword(null,"open","open",-1763596448)))?" h-0 overflow-hidden":null)].join('')], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = (function webapp$tasks$views$new_task$connection_information_tree$fields_tree_$_iter__31204(s__31205){
return (new cljs.core.LazySeq(null,(function (){
var s__31205__$1 = s__31205;
while(true){
var temp__5753__auto__ = cljs.core.seq(s__31205__$1);
if(temp__5753__auto__){
var s__31205__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_(s__31205__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31205__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31207 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31206 = (0);
while(true){
if((i__31206 < size__4651__auto__)){
var vec__31209 = cljs.core._nth(c__4650__auto__,i__31206);
var field = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31209,(0),null);
var field_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31209,(1),null);
cljs.core.chunk_append(b__31207,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-field-dark-gray.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__31206,vec__31209,field,field_type,c__4650__auto__,size__4651__auto__,b__31207,s__31205__$2,temp__5753__auto__,dropdown_status,dropdown_columns_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [field], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
});})(i__31206,vec__31209,field,field_type,c__4650__auto__,size__4651__auto__,b__31207,s__31205__$2,temp__5753__auto__,dropdown_status,dropdown_columns_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),field], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.field_type_tree,cljs.core.first(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,field_type))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),field], null)));

var G__31249 = (i__31206 + (1));
i__31206 = G__31249;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31207),webapp$tasks$views$new_task$connection_information_tree$fields_tree_$_iter__31204(cljs.core.chunk_rest(s__31205__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31207),null);
}
} else {
var vec__31212 = cljs.core.first(s__31205__$2);
var field = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31212,(0),null);
var field_type = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31212,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-field-dark-gray.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (vec__31212,field,field_type,s__31205__$2,temp__5753__auto__,dropdown_status,dropdown_columns_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [field], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
});})(vec__31212,field,field_type,s__31205__$2,temp__5753__auto__,dropdown_status,dropdown_columns_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),field], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),field),new cljs.core.Keyword(null,"open","open",-1763596448)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.field_type_tree,cljs.core.first(cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.key,field_type))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),field], null)),webapp$tasks$views$new_task$connection_information_tree$fields_tree_$_iter__31204(cljs.core.rest(s__31205__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4652__auto__(fields);
})())], null)], null);
});
});
webapp.tasks.views.new_task.connection_information_tree.tables_tree = (function webapp$tasks$views$new_task$connection_information_tree$tables_tree(){
var dropdown_status = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
return (function (tables,indexes){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"pl-small"], null),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = (function webapp$tasks$views$new_task$connection_information_tree$tables_tree_$_iter__31216(s__31217){
return (new cljs.core.LazySeq(null,(function (){
var s__31217__$1 = s__31217;
while(true){
var temp__5753__auto__ = cljs.core.seq(s__31217__$1);
if(temp__5753__auto__){
var s__31217__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_(s__31217__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31217__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31219 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31218 = (0);
while(true){
if((i__31218 < size__4651__auto__)){
var vec__31220 = cljs.core._nth(c__4650__auto__,i__31218);
var table = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31220,(0),null);
var fields = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31220,(1),null);
cljs.core.chunk_append(b__31219,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-table.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__31218,vec__31220,table,fields,c__4650__auto__,size__4651__auto__,b__31219,s__31217__$2,temp__5753__auto__,dropdown_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [table], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
});})(i__31218,vec__31220,table,fields,c__4650__auto__,size__4651__auto__,b__31219,s__31217__$2,temp__5753__auto__,dropdown_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),table], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.fields_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),fields)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.indexes_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),cljs.core.get.cljs$core$IFn$_invoke$arity$2(indexes,table))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),table], null)));

var G__31250 = (i__31218 + (1));
i__31218 = G__31250;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31219),webapp$tasks$views$new_task$connection_information_tree$tables_tree_$_iter__31216(cljs.core.chunk_rest(s__31217__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31219),null);
}
} else {
var vec__31223 = cljs.core.first(s__31217__$2);
var table = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31223,(0),null);
var fields = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31223,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-table.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (vec__31223,table,fields,s__31217__$2,temp__5753__auto__,dropdown_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [table], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?new cljs.core.Keyword(null,"closed","closed",-919675359):new cljs.core.Keyword(null,"open","open",-1763596448)));
});})(vec__31223,table,fields,s__31217__$2,temp__5753__auto__,dropdown_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),table], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),table),new cljs.core.Keyword(null,"open","open",-1763596448)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.fields_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),fields)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.indexes_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),cljs.core.get.cljs$core$IFn$_invoke$arity$2(indexes,table))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),table], null)),webapp$tasks$views$new_task$connection_information_tree$tables_tree_$_iter__31216(cljs.core.rest(s__31217__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4652__auto__(tables);
})())], null);
});
});
webapp.tasks.views.new_task.connection_information_tree.sql_databases_tree = (function webapp$tasks$views$new_task$connection_information_tree$sql_databases_tree(_){
var dropdown_status = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
return (function (schema,indexes){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div.text-xs","div.text-xs",978150553),cljs.core.doall.cljs$core$IFn$_invoke$arity$1((function (){var iter__4652__auto__ = (function webapp$tasks$views$new_task$connection_information_tree$sql_databases_tree_$_iter__31226(s__31227){
return (new cljs.core.LazySeq(null,(function (){
var s__31227__$1 = s__31227;
while(true){
var temp__5753__auto__ = cljs.core.seq(s__31227__$1);
if(temp__5753__auto__){
var s__31227__$2 = temp__5753__auto__;
if(cljs.core.chunked_seq_QMARK_(s__31227__$2)){
var c__4650__auto__ = cljs.core.chunk_first(s__31227__$2);
var size__4651__auto__ = cljs.core.count(c__4650__auto__);
var b__31229 = cljs.core.chunk_buffer(size__4651__auto__);
if((function (){var i__31228 = (0);
while(true){
if((i__31228 < size__4651__auto__)){
var vec__31230 = cljs.core._nth(c__4650__auto__,i__31228);
var db = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31230,(0),null);
var tables = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31230,(1),null);
cljs.core.chunk_append(b__31229,cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-layers-dark-gray.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (i__31228,vec__31230,db,tables,c__4650__auto__,size__4651__auto__,b__31229,s__31227__$2,temp__5753__auto__,dropdown_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [db], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?new cljs.core.Keyword(null,"open","open",-1763596448):new cljs.core.Keyword(null,"closed","closed",-919675359)));
});})(i__31228,vec__31230,db,tables,c__4650__auto__,size__4651__auto__,b__31229,s__31227__$2,temp__5753__auto__,dropdown_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),db], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.tables_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),tables),cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),cljs.core.get.cljs$core$IFn$_invoke$arity$2(indexes,db))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),db], null)));

var G__31251 = (i__31228 + (1));
i__31228 = G__31251;
continue;
} else {
return true;
}
break;
}
})()){
return cljs.core.chunk_cons(cljs.core.chunk(b__31229),webapp$tasks$views$new_task$connection_information_tree$sql_databases_tree_$_iter__31226(cljs.core.chunk_rest(s__31227__$2)));
} else {
return cljs.core.chunk_cons(cljs.core.chunk(b__31229),null);
}
} else {
var vec__31233 = cljs.core.first(s__31227__$2);
var db = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31233,(0),null);
var tables = cljs.core.nth.cljs$core$IFn$_invoke$arity$3(vec__31233,(1),null);
return cljs.core.cons(cljs.core.with_meta(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex items-center gap-small"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-layers-dark-gray.svg"], null)], null)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"class","class",-2030961996),["hover:text-blue-500 hover:underline cursor-pointer ","flex items-center"].join(''),new cljs.core.Keyword(null,"on-click","on-click",1632826543),((function (vec__31233,db,tables,s__31227__$2,temp__5753__auto__,dropdown_status){
return (function (){
return cljs.core.swap_BANG_.cljs$core$IFn$_invoke$arity$4(dropdown_status,cljs.core.assoc_in,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [db], null),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?new cljs.core.Keyword(null,"open","open",-1763596448):new cljs.core.Keyword(null,"closed","closed",-919675359)));
});})(vec__31233,db,tables,s__31227__$2,temp__5753__auto__,dropdown_status))
], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),db], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-4 flex-shrink-0 opacity-30"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),((cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?"/icons/icon-cheveron-up.svg":"/icons/icon-cheveron-down.svg")], null)], null)], null)], null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.get.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(dropdown_status),db),new cljs.core.Keyword(null,"closed","closed",-919675359)))?"h-0 overflow-hidden":null)], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.tables_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),tables),cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),cljs.core.get.cljs$core$IFn$_invoke$arity$2(indexes,db))], null)], null)], null),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"key","key",-1516042587),db], null)),webapp$tasks$views$new_task$connection_information_tree$sql_databases_tree_$_iter__31226(cljs.core.rest(s__31227__$2)));
}
} else {
return null;
}
break;
}
}),null,null));
});
return iter__4652__auto__(schema);
})())], null);
});
});
if((typeof webapp !== 'undefined') && (typeof webapp.tasks !== 'undefined') && (typeof webapp.tasks.views !== 'undefined') && (typeof webapp.tasks.views.new_task !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree.db_view !== 'undefined')){
} else {
webapp.tasks.views.new_task.connection_information_tree.db_view = (function (){var method_table__4747__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__4748__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var method_cache__4749__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__4750__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__4751__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),(function (){var fexpr__31238 = cljs.core.get_global_hierarchy;
return (fexpr__31238.cljs$core$IFn$_invoke$arity$0 ? fexpr__31238.cljs$core$IFn$_invoke$arity$0() : fexpr__31238.call(null));
})());
return (new cljs.core.MultiFn(cljs.core.symbol.cljs$core$IFn$_invoke$arity$2("webapp.tasks.views.new-task.connection-information-tree","db-view"),cljs.core.identity,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4751__auto__,method_table__4747__auto__,prefer_table__4748__auto__,method_cache__4749__auto__,cached_hierarchy__4750__auto__));
})();
}
webapp.tasks.views.new_task.connection_information_tree.db_view.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword(null,"default","default",-1987822328),(function (){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-xs text-gray-500"], null),"Couldn't load the schema"], null);
}));
webapp.tasks.views.new_task.connection_information_tree.db_view.cljs$core$IMultiFn$_add_method$arity$3(null,"postgres",(function (_,schema,indexes){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.sql_databases_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),schema),cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),indexes)], null);
}));
webapp.tasks.views.new_task.connection_information_tree.db_view.cljs$core$IMultiFn$_add_method$arity$3(null,"mysql",(function (_,schema,indexes){
return new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.sql_databases_tree,cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),schema),cljs.core.into.cljs$core$IFn$_invoke$arity$2(cljs.core.sorted_map(),indexes)], null);
}));
webapp.tasks.views.new_task.connection_information_tree.db_view.cljs$core$IMultiFn$_add_method$arity$3(null,"mongodb",(function (_,schema){
return new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.mongodb_schema.main,schema], null);
}));
if((typeof webapp !== 'undefined') && (typeof webapp.tasks !== 'undefined') && (typeof webapp.tasks.views !== 'undefined') && (typeof webapp.tasks.views.new_task !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree.tree_view_status !== 'undefined')){
} else {
webapp.tasks.views.new_task.connection_information_tree.tree_view_status = (function (){var method_table__4747__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__4748__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var method_cache__4749__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__4750__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__4751__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),(function (){var fexpr__31240 = cljs.core.get_global_hierarchy;
return (fexpr__31240.cljs$core$IFn$_invoke$arity$0 ? fexpr__31240.cljs$core$IFn$_invoke$arity$0() : fexpr__31240.call(null));
})());
return (new cljs.core.MultiFn(cljs.core.symbol.cljs$core$IFn$_invoke$arity$2("webapp.tasks.views.new-task.connection-information-tree","tree-view-status"),cljs.core.identity,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4751__auto__,method_table__4747__auto__,prefer_table__4748__auto__,method_cache__4749__auto__,cached_hierarchy__4750__auto__));
})();
}
webapp.tasks.views.new_task.connection_information_tree.tree_view_status.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword(null,"loading","loading",-737050189),(function (_){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"flex gap-small items-center py-regular text-xs text-gray-600"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"span","span",1394872991),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"italic"], null),"Loading schema"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"figure","figure",-561394079),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"w-3 flex-shrink-0 animate-spin opacity-60"], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"img","img",1442687358),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"src","src",-1651076051),"/icons/icon-loader-circle.svg"], null)], null)], null)], null);
}));
webapp.tasks.views.new_task.connection_information_tree.tree_view_status.cljs$core$IMultiFn$_add_method$arity$3(null,new cljs.core.Keyword(null,"default","default",-1987822328),(function (_,schema,indexes,connection){
return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.db_view,new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(connection),schema,indexes], null);
}));
if((typeof webapp !== 'undefined') && (typeof webapp.tasks !== 'undefined') && (typeof webapp.tasks.views !== 'undefined') && (typeof webapp.tasks.views.new_task !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree !== 'undefined') && (typeof webapp.tasks.views.new_task.connection_information_tree.get_database_schema !== 'undefined')){
} else {
webapp.tasks.views.new_task.connection_information_tree.get_database_schema = (function (){var method_table__4747__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var prefer_table__4748__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var method_cache__4749__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var cached_hierarchy__4750__auto__ = cljs.core.atom.cljs$core$IFn$_invoke$arity$1(cljs.core.PersistentArrayMap.EMPTY);
var hierarchy__4751__auto__ = cljs.core.get.cljs$core$IFn$_invoke$arity$3(cljs.core.PersistentArrayMap.EMPTY,new cljs.core.Keyword(null,"hierarchy","hierarchy",-1053470341),(function (){var fexpr__31241 = cljs.core.get_global_hierarchy;
return (fexpr__31241.cljs$core$IFn$_invoke$arity$0 ? fexpr__31241.cljs$core$IFn$_invoke$arity$0() : fexpr__31241.call(null));
})());
return (new cljs.core.MultiFn(cljs.core.symbol.cljs$core$IFn$_invoke$arity$2("webapp.tasks.views.new-task.connection-information-tree","get-database-schema"),cljs.core.identity,new cljs.core.Keyword(null,"default","default",-1987822328),hierarchy__4751__auto__,method_table__4747__auto__,prefer_table__4748__auto__,method_cache__4749__auto__,cached_hierarchy__4750__auto__));
})();
}
webapp.tasks.views.new_task.connection_information_tree.get_database_schema.cljs$core$IMultiFn$_add_method$arity$3(null,"postgres",(function (_,connection){
return re_frame.core.dispatch(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"new-task->get-database-schema","new-task->get-database-schema",164627665),connection,webapp.tasks.views.new_task.connection_information_tree.get_postgres_schema_query,webapp.tasks.views.new_task.connection_information_tree.get_postgres_schema_with_index_query], null));
}));
webapp.tasks.views.new_task.connection_information_tree.get_database_schema.cljs$core$IMultiFn$_add_method$arity$3(null,"mysql",(function (_,connection){
return re_frame.core.dispatch(new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"new-task->get-database-schema","new-task->get-database-schema",164627665),connection,webapp.tasks.views.new_task.connection_information_tree.get_mysql_schema_query,webapp.tasks.views.new_task.connection_information_tree.get_mysql_schema_with_index_query], null));
}));
webapp.tasks.views.new_task.connection_information_tree.get_database_schema.cljs$core$IMultiFn$_add_method$arity$3(null,"mongodb",(function (_,connection){
return re_frame.core.dispatch(new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"new-task->get-mongodb-schema","new-task->get-mongodb-schema",-385471860),connection,webapp.tasks.views.new_task.connection_information_tree.get_mongodb_schema_query], null));
}));
webapp.tasks.views.new_task.connection_information_tree.main = (function webapp$tasks$views$new_task$connection_information_tree$main(connection){
var database_schema = re_frame.core.subscribe.cljs$core$IFn$_invoke$arity$1(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("webapp.subs","database-schema","webapp.subs/database-schema",470509894)], null));
var local_connection = reagent.core.atom.cljs$core$IFn$_invoke$arity$1(connection);
var _ = webapp.tasks.views.new_task.connection_information_tree.get_database_schema.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(connection),connection);
return (function (connection__$1){
if(cljs.core.not_EQ_.cljs$core$IFn$_invoke$arity$2(cljs.core.deref(local_connection),connection__$1)){
var __31252__$1 = cljs.core.reset_BANG_(local_connection,connection__$1);
var __31253__$2 = webapp.tasks.views.new_task.connection_information_tree.get_database_schema.cljs$core$IFn$_invoke$arity$2(new cljs.core.Keyword(null,"type","type",1174270348).cljs$core$IFn$_invoke$arity$1(connection__$1),connection__$1);
} else {
}

return new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),""], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"header","header",119441134),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"text-sm font-bold mb-small"], null),"Tables"], null),new cljs.core.PersistentVector(null, 3, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"div","div",1057191632),new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"class","class",-2030961996),"overflow-x-auto"], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [webapp.tasks.views.new_task.connection_information_tree.tree_view_status,new cljs.core.Keyword(null,"status","status",-1997798413).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(database_schema)),new cljs.core.Keyword(null,"schema-tree","schema-tree",-25333113).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(database_schema)),new cljs.core.Keyword(null,"indexes-tree","indexes-tree",-1630244820).cljs$core$IFn$_invoke$arity$1(cljs.core.deref(database_schema)),connection__$1], null)], null)], null);
});
});

//# sourceMappingURL=webapp.tasks.views.new_task.connection_information_tree.js.map
