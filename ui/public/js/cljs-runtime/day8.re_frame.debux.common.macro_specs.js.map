{"version":3,"sources":["day8/re_frame/debux/common/macro_specs.cljc"],"mappings":";AAOA,AAAA;AAAA;AAAA;AAAA,AAQA,uDAAA,vDAAMI,sHAAeC;AAArB,AAAA,OAAAL,iDAAA,AAAAC,cAAA,AAAAC,+CAAA,KAAAC,eAAA,KAAA,AAAA,mIAAA,KAAA,IAAA,OAAA,KAAAA,eAAA,UAAA,KAAA,IAAA,dACUE;;AAEV,AAAAC,yBAAA,AAAA,gIAAA,AAAA,0hBACE,AAAAC,8BAAA,AAAA,ghBAAA,2lBAAA,xgBACEC,+BACA,AAAAC,wDAAA,AAAA,yWAAA,KAAA,xBAAaC,6BAASN;AAE1B,AAAAE,yBAAA,AAAA,wIAAA,AAAA,2uBACE,AAAAK,yBAAA,mFAAA,qDAAA,8DAAA,8DAAA,mFAAA,uYAAA,AAAA,vQACkB,AAAAC,mDAAA,AAAA,xBAAKC,0GACV,AAAAC,yBAAA,AAAA,2EAAKC;AAIpB,2DAAA,3DAAMC,8HAAmBC;AAAzB,AAAA,OAAAjB,iDAAA,AAAAC,cAAA,AAAAC,+CAAA,KAAAC,eAAA,KAAA,AAAA,mIAAA,KAAA,IAAA,OAAA,KAAAA,eAAA,wBAAA,KAAA,IAAA,5BACU,AAACe,cAAID;;AAEf,AAAAX,yBAAA,AAAA,wIAAA,AAAA,01BACE,AAAAC,8BAAA,AAAA,g1BAAA,suCAAA,npCACEY,wBACA,AAAAV,wDAAA,AAAA,iXAAA,KAAA,xBAAaC,6BAASM,0DACtB,AAAAL,yBAAA,mFAAA,6DAAA,qNAAA,AAAA,lIAAa,AAAAG,yBAAA,AAAA,2EAAKC;AAEtB,AAAAT,yBAAA,AAAA,0IAAA,AAAA,grCACE,AAAAK,yBAAA,mFAAA,qDAAA,8DAAA,mFAAA,8kEAAA,AAAA,t8DACa,AAAAS,yBAAA,mFAAA,qEAAA,8DAAA,2/BAAA,AAAA,x6BAAqB,AAAAT,yBAAA,mFAAA,2DAAA,8DAAA,+OAAA,AAAA,5JAAgBU,qBACH,AAAAC,8BAAA,AAAA,2EAAKP,gXAC1B,AAAAD,yBAAA,AAAA,2EAAKC;AAEjC,AAAAT,yBAAA,AAAA,yIAAA,AAAA,80DACE,AAAAK,yBAAA,mFAAA,qDAAA,8DAAA,qDAAA,yDAAA,mFAAA,o4GAAA,AAAA,pwGACkB,AAAAC,mDAAA,AAAA,xBAAKC,0GACV,AAAAD,gDAAA,AAAA,rBAAKS,iGACP,AAAAD,yBAAA,mFAAA,0DAAA,oEAAA,mFAAA,ywDAAA,AAAA,/nDACgB,AAAAT,yBAAA,mFAAA,0DAAA,6DAAA,6zBAAA,AAAA,1uBAAe,AAAAW,8BAAA,AAAA,gPAAK,AAAAb,wDAAA,AAAA,0IAAA,0IAAA,KAAA,OACP,AAAAG,gDAAA,AAAA,rBAAKS;AAE/C,AAAAf,yBAAA,AAAA,oIAAA,AAAA,+vCACE,AAAAK,yBAAA,mFAAA,qDAAA,yDAAA,szFAAA,AAAA,nuFAAa,AAAAC,2BAAA,gIAAA,AAAA,iIACF,AAAAQ,yBAAA,mFAAA,0DAAA,oEAAA,mFAAA,66CAAA,AAAA,nyCACgB,AAAAT,yBAAA,mFAAA,kEAAA,isBAAA,AAAA,9mBAAe,AAAAW,8BAAA,AAAA,gPAAK,AAAAb,wDAAA,AAAA,0IAAA,0IAAA,KAAA;AAEjD","names":["cljs.core.sequence","cljs.core/seq","cljs.core.concat","cljs.core/List","day8.re-frame.debux.common.macro-specs/name-unformer","name","cljs.spec.alpha/def-impl","cljs.spec.alpha/and-spec-impl","cljs.core/simple-symbol?","cljs.spec.alpha.spec_impl","cljs.core/identity","cljs.spec.alpha/cat-impl","cljs.spec.alpha/maybe-impl","cljs.core/string?","cljs.spec.alpha/rep-impl","cljs.core/any?","day8.re-frame.debux.common.macro-specs/arg-list-unformer","arg","cljs.core/vec","cljs.core/vector?","cljs.spec.alpha/alt-impl","cljs.core/map?","cljs.spec.alpha/rep+impl"],"sourcesContent":["(ns day8.re-frame.debux.common.macro-specs\n  \"clojure.core macro specs which are minified, simplified and modified.\"\n  (:require #?(:clj [clojure.spec.alpha :as s]\n               :cljs [cljs.spec.alpha :as s])\n    #?(:clj\n                    [clojure.future :refer :all])))\n\n(declare skip o-skip skip-outer indent)\n; skip => full skip  -- skip this form and all children\n; o-skip => outermost skip --> skip this form but process children\n; skip-outer => ????\n; indent => increase indentation and dont trace ?????\n; ::skip-place is a placeholder (inserted in threading macros) that is removed before they are expanded\n\n;;; def\n(defn name-unformer [name]\n  `(skip ~name))\n\n(s/def ::name\n  (s/and\n    simple-symbol?\n    (s/conformer identity name-unformer)))\n\n(s/def ::def-args\n  (s/cat :name ::name\n         :docstring (s/? string?)\n         :body (s/* any?)))\n\n\n;;; defn, defn-, fn\n(defn arg-list-unformer [arg]\n  `(skip ~(vec arg)))\n\n(s/def ::arg-list\n  (s/and\n    vector?\n    (s/conformer identity arg-list-unformer)\n    (s/cat :args (s/* any?))))\n\n(s/def ::args+body\n  (s/cat :args ::arg-list\n         :body (s/alt :prepost+body (s/cat :prepost map?\n                                           :body (s/+ any?))\n                      :body (s/* any?))))\n\n(s/def ::defn-args\n  (s/cat :name ::name\n         :docstring (s/? string?)\n         :meta (s/? map?)\n         :bs (s/alt :arity-1 ::args+body\n                    :arity-n (s/cat :bodies (s/+ (s/spec ::args+body))\n                                    :attr (s/? map?)))))\n\n(s/def ::fn-args\n  (s/cat :name (s/? ::name)\n         :bs (s/alt :arity-1 ::args+body\n                    :arity-n (s/cat :bodies (s/+ (s/spec ::args+body))))))\n\n(comment\n\n  (def f1\n    '(defn add1\n       \"add1 docstring\"\n       {:added \"1.0\"}\n       [x y]\n       (+ x y)))\n\n  (def f2\n    '(defn add2\n       \"add2 docstring\"\n       {:added \"1.0\"}\n       ([] 0)\n       ([x] x)\n       ([x y] (+ x y))\n       ([x y & zs] (apply + x y zs))))\n\n  (s/conform ::defn-args (next f1))\n  ; => {:name add1, :docstring \"add1 docstring\", :meta {:added \"1.0\"},\n  ;     :bs [:arity-1 {:args {:args [x y]},\n  ;                    :body [:body [(+ x y)]]}]}\n  (s/explain ::defn-args (next f1))\n\n  (s/conform ::defn-args (next f2))\n  ; => {:name add2, :docstring \"add2 docstring\", :meta {:added \"1.0\"},\n  ;     :bs [:arity-n {:bodies [{:args {}, :body [:body [0]]}\n  ;                             {:args {:args [x]}, :body [:body [x]]}\n  ;                             {:args {:args [x y]}, :body [:body [(+ x y)]]}\n  ;                             {:args {:args [x y & zs]}, :body [:body [(apply + x y zs)]]}]}]}\n  (s/explain ::defn-args (next f2))\n\n\n  (def f3\n    '(fn add1 [x y]\n       (+ x y)))\n\n  (def f4\n    '(fn add2\n       ([] 0)\n       ([x] x)\n       ([x y] (+ x y))\n       ([x y & zs] (apply + x y zs))))\n\n  (def f5 '#(+ % %2))\n\n  (s/conform ::fn-args (next f3))\n  ; => {:name add1,\n  ;     :bs [:arity-1 {:args {:args [x y]},\n  ;                    :body [:body [(+ x y)]]}]}\n  (s/explain ::fn-args (next f3))\n\n  (s/conform ::fn-args (next f4))\n  ; => {:name add2,\n  ;     :bs [:arity-n {:bodies [{:args {}, :body [:body [0]]}\n  ;                             {:args {:args [x]}, :body [:body [x]]}\n  ;                             {:args {:args [x y]}, :body [:body [(+ x y)]]}\n  ;                             {:args {:args [x y & zs]}, :body [:body [(apply + x y zs)]]}]}]}\n  (s/explain ::fn-args (next f4))\n\n  (s/conform ::fn-args (next f5))\n  ; => {:bs [:arity-1 {:args {:args [p1__30164# p2__30165#]},\n  ;                    :body [:body [(+ p1__30164# p2__\n  (s/explain ::fn-args (next f5))\n\n  )                                                         ; end of comment\n\n"]}