shadow$provide.module$node_modules$launchdarkly_js_client_sdk$dist$ldclient_cjs=function(global,require,module,exports){function e$jscomp$3(n){return(e$jscomp$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function t$jscomp$2(n,e$jscomp$0){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e$jscomp$0&&
(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));t.push.apply(t,r)}return t}function r$jscomp$1(r){for(var e$jscomp$0=1;e$jscomp$0<arguments.length;e$jscomp$0++){var o=null!=arguments[e$jscomp$0]?arguments[e$jscomp$0]:{};e$jscomp$0%2?t$jscomp$2(o,!0).forEach(function(e){var t=o[e];e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):
t$jscomp$2(o).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))})}return r}function i$jscomp$1(e$jscomp$0){function n$jscomp$0(e,n){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=e;this.code=n}return(n$jscomp$0.prototype=Error()).name=e$jscomp$0,n$jscomp$0.prototype.constructor=n$jscomp$0}function f$jscomp$1(e){return!(400<=e&&500>e)||400===e||408===e||429===e}function S$jscomp$1(e$jscomp$1){var e=unescape(encodeURIComponent(e$jscomp$1));
e$jscomp$1=[];for(var t=0;t<e.length;t++)e$jscomp$1.push(e.charCodeAt(t));var n;e=e$jscomp$1.length;t=e%3;for(var o=[],i=0,a=e-t;i<a;i+=16383){var JSCompiler_temp_const=o,JSCompiler_temp_const$jscomp$0=JSCompiler_temp_const.push;var JSCompiler_inline_result=void 0;for(var r,e$jscomp$0=e$jscomp$1,t$jscomp$0=a<i+16383?a:i+16383,i$jscomp$0=[],a$jscomp$0=i;a$jscomp$0<t$jscomp$0;a$jscomp$0+=3)r=(e$jscomp$0[a$jscomp$0]<<16&16711680)+(e$jscomp$0[a$jscomp$0+1]<<8&65280)+(255&e$jscomp$0[a$jscomp$0+2]),i$jscomp$0.push(g$jscomp$1[(JSCompiler_inline_result=
r)>>18&63]+g$jscomp$1[JSCompiler_inline_result>>12&63]+g$jscomp$1[JSCompiler_inline_result>>6&63]+g$jscomp$1[63&JSCompiler_inline_result]);JSCompiler_inline_result=i$jscomp$0.join("");JSCompiler_temp_const$jscomp$0.call(JSCompiler_temp_const,JSCompiler_inline_result)}return 1==t?(n=e$jscomp$1[e-1],o.push(g$jscomp$1[n>>2]+g$jscomp$1[n<<4&63]+"\x3d\x3d")):2==t&&(n=(e$jscomp$1[e-2]<<8)+e$jscomp$1[e-1],o.push(g$jscomp$1[n>>10]+g$jscomp$1[n>>4&63]+g$jscomp$1[n<<2&63]+"\x3d")),o.join("")}function O$jscomp$1(e){return S$jscomp$1(e).replace(/=/g,
"").replace(/\+/g,"-").replace(/\//g,"_")}function P(e){return JSON.parse(JSON.stringify(e))}function U(e$jscomp$0,n$jscomp$0){return function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){var i;var r=k$jscomp$1(n);var o=k$jscomp$1(t);if(r&&o){if((o=n.length)!=t.length)return!1;for(r=o;0!=r--;)if(!e(n[r],t[r]))return!1;return!0}if(r!=o)return!1;r=n instanceof Date;o=t instanceof Date;if(r!=o)return!1;if(r&&o)return n.getTime()==t.getTime();r=n instanceof RegExp;o=t instanceof
RegExp;if(r!=o)return!1;if(r&&o)return n.toString()==t.toString();var d=E$jscomp$1(n);if((o=d.length)!==E$jscomp$1(t).length)return!1;for(r=o;0!=r--;)if(!w$jscomp$1.call(t,d[r]))return!1;for(r=o;0!=r--;)if(!e(n[i=d[r]],t[i]))return!1;return!0}return n!=n&&t!=t}(e$jscomp$0,n$jscomp$0)}function I(e){setTimeout(e,0)}function j(e$jscomp$0,n){e$jscomp$0=e$jscomp$0.then(function(e){return n&&setTimeout(function(){n(null,e)},0),e},function(e){if(!n)return Promise.reject(e);setTimeout(function(){n(e,null)},
0)});return n?void 0:e$jscomp$0}function R(e){var n={},t;for(t in e)x(e,t)&&(n[t]={value:e[t],version:0});return n}function T(e){var n={},t;for(t in e)x(e,t)&&(n[t]=e[t].value);return n}function N$jscomp$0(e,n){for(var r=n.slice(0),o=[],i=e;0<r.length;){for(n=[];0<i;){var a=r.shift();if(!a)break;0>(i-=O$jscomp$1(JSON.stringify(a)).length)&&0<n.length?r.unshift(a):n.push(a)}i=e;o.push(n)}return o}function F$jscomp$0(e){return e.userAgent+"/"+(e.version||"3.4.0")}function C$jscomp$0(e,n){if(n&&!n.sendLDHeaders)return{};
e={"X-LaunchDarkly-User-Agent":F$jscomp$0(e)};return n&&n.wrapperName&&(e["X-LaunchDarkly-Wrapper"]=n.wrapperVersion?n.wrapperName+"/"+n.wrapperVersion:n.wrapperName),e}function L$jscomp$0(e,n){return n&&n.requestHeaderTransform?n.requestHeaderTransform(r$jscomp$1({},e)):e}function A(){for(var e$jscomp$0=arguments.length,n$jscomp$0=Array(e$jscomp$0),t=0;t<e$jscomp$0;t++)n$jscomp$0[t]=arguments[t];return n$jscomp$0.reduce(function(e,n){return r$jscomp$1({},e,{},n)},{})}function x(e,n){return Object.prototype.hasOwnProperty.call(e,
n)}function q(e){if(!e)return e;var n,t;for(t in D$jscomp$0){var o=D$jscomp$0[t],i=e[o];void 0!==i&&"string"!=typeof i&&((n=n||r$jscomp$1({},e))[o]=String(i))}return n||e}function X(u,e$jscomp$2,s){var t$jscomp$0="/a/"+e$jscomp$2+".gif",c=A({"Content-Type":"application/json"},C$jscomp$0(u,s)),l=u.httpFallbackPing,d={sendChunk:function(e$jscomp$1,r,o,n$jscomp$0){var i=JSON.stringify(e$jscomp$1),a=o?null:G$jscomp$0();return n$jscomp$0?function n(t){var e$jscomp$0=o?c:A({},c,{"X-LaunchDarkly-Event-Schema":"3",
"X-LaunchDarkly-Payload-ID":a});return u.httpRequest("POST",r,L$jscomp$0(e$jscomp$0,s),i).promise.then(function(e){if(e){if(400<=e.status&&f$jscomp$1(e.status)&&t)var JSCompiler_temp=n(!1);else JSCompiler_temp={status:e.status},(e=e.header("date"))&&(e=Date.parse(e))&&(JSCompiler_temp.serverTime=e);return JSCompiler_temp}}).catch(function(){return t?n(!1):Promise.reject()})}(!0).catch(function(){}):(l&&l(r+t$jscomp$0+"?d\x3d"+O$jscomp$1(i)),Promise.resolve())},sendEvents:function(e,n,t){if(!u.httpRequest)return Promise.resolve();
var o=u.httpAllowsPost();e=o?[e]:N$jscomp$0(2E3-n.length,e);for(var i=[],a=0;a<e.length;a++)i.push(d.sendChunk(e[a],n,t,o));return Promise.all(i)}};return d}function W(){var e$jscomp$0={},a=0,u=0,s={};return e$jscomp$0.summarizeEvent=function(e){if("feature"===e.kind){var n=e.key+":"+(null!==e.variation&&void 0!==e.variation?e.variation:"")+":"+(null!==e.version&&void 0!==e.version?e.version:""),t=s[n];t?t.count+=1:s[n]={count:1,key:e.key,variation:e.variation,version:e.version,value:e.value,default:e.default};
(0===a||e.creationDate<a)&&(a=e.creationDate);e.creationDate>u&&(u=e.creationDate)}},e$jscomp$0.getSummary=function(){var e={},n=!0,t;for(t in s){n=s[t];var o=e[n.key];o||(o={default:n.default,counters:[]},e[n.key]=o);var i={value:n.value,count:n.count};void 0!==n.variation&&null!==n.variation&&(i.variation=n.variation);n.version?i.version=n.version:i.unknown=!0;o.counters.push(i);n=!1}return n?null:{startDate:a,endDate:u,features:e}},e$jscomp$0.clearSummary=function(){u=a=0;s={}},e$jscomp$0}function Q(e$jscomp$1){var n$jscomp$1=
{},s=e$jscomp$1.allAttributesPrivate,c=e$jscomp$1.privateAttributeNames||[],l={key:!0,custom:!0,anonymous:!0},f={key:!0,secondary:!0,ip:!0,country:!0,email:!0,firstName:!0,lastName:!0,avatar:!0,name:!0,anonymous:!0,custom:!0};return n$jscomp$1.filterUser=function(e$jscomp$0){function n$jscomp$0(o,i){return Object.keys(o).reduce(function(e,n){return i(n)&&(l[n]||!s&&-1===a.indexOf(n)&&-1===c.indexOf(n)?e[0][n]=o[n]:e[1][n]=!0),e},[{},{}])}if(!e$jscomp$0)return null;var a=e$jscomp$0.privateAttributeNames||
[],t=n$jscomp$0(e$jscomp$0,function(e){return f[e]}),r=t[0];t=t[1];e$jscomp$0.custom&&(e$jscomp$0=n$jscomp$0(e$jscomp$0.custom,function(){return!0}),r.custom=e$jscomp$0[0],t=A({},t,e$jscomp$0[1]));e$jscomp$0=Object.keys(t);return e$jscomp$0.length&&(e$jscomp$0.sort(),r.privateAttrs=e$jscomp$0),r},n$jscomp$1}function Y$jscomp$0(e){return e&&e.message?e.message:"string"==typeof e||e instanceof String?e:JSON.stringify(e)}function Ae(n$jscomp$0){var e$jscomp$0={},o={};return e$jscomp$0.on=function(e,
n,t){o[e]=o[e]||[];o[e]=o[e].concat({handler:n,context:t})},e$jscomp$0.off=function(e,n,t){if(o[e])for(var r=0;r<o[e].length;r++)o[e][r].handler===n&&o[e][r].context===t&&(o[e]=o[e].slice(0,r).concat(o[e].slice(r+1)))},e$jscomp$0.emit=function(e){if(o[e])for(var n=o[e].slice(0),t=0;t<n.length;t++)n[t].handler.apply(n[t].context,Array.prototype.slice.call(arguments,1))},e$jscomp$0.getEvents=function(){return Object.keys(o)},e$jscomp$0.getEventListenerCount=function(e){return o[e]?o[e].length:0},e$jscomp$0.maybeReportError=
function(e){e&&(o.error?this.emit("error",e):(n$jscomp$0||console).error(e.message))},e$jscomp$0}function qe(t$jscomp$0,r,o,i,a){function s(){var e="",n=i.getUser();return n&&(e=o||S$jscomp$1(JSON.stringify(n))),"ld:"+r+":"+e}var u={};return u.loadFlags=function(){return t$jscomp$0.get(s()).then(function(e$jscomp$0){if(null==e$jscomp$0)return null;try{var n=JSON.parse(e$jscomp$0);if(n){var t=n.$schema;void 0===t||1>t?n=R(n):delete n.$schema}return n}catch(e){return u.clearFlags().then(function(){return Promise.reject(e)})}}).catch(function(e){return a.warn("localStorage is unavailable"),
Promise.reject(e)})},u.saveFlags=function(e$jscomp$0){e$jscomp$0=A({},e$jscomp$0,{$schema:1});return t$jscomp$0.set(s(),JSON.stringify(e$jscomp$0)).catch(function(e){return a.warn("localStorage is unavailable"),Promise.reject(e)})},u.clearFlags=function(){return t$jscomp$0.clear(s()).catch(function(e){return a.warn("localStorage is unavailable"),Promise.reject(e)})},u}function Ve(o$jscomp$0,i,a,n$jscomp$1){function b(e){g||(c.warn(Ee(e,t$jscomp$0)),g=!0);S(!1);E();m||(t$jscomp$0?m=setTimeout(r$jscomp$0,
t$jscomp$0):r$jscomp$0())}function r$jscomp$0(){var e;m=null;var n="",t={headers:v,readTimeoutMillis:3E5};if(o$jscomp$0.eventSourceFactory){for(var r in null!=y&&(n="h\x3d"+y),f?o$jscomp$0.eventSourceAllowsReport?(e=l,t.method="REPORT",t.headers["Content-Type"]="application/json",t.body=JSON.stringify(h)):(e=s+"/ping/"+a,n=""):e=l+"/"+O$jscomp$1(JSON.stringify(h)),t.headers=L$jscomp$0(t.headers,i),d&&(n=n+(n?"\x26":"")+"withReasons\x3dtrue"),e=e+(n?"?":"")+n,E(),c.info(ke(e)),u=(new Date).getTime(),
p=o$jscomp$0.eventSourceFactory(e,t),w)x(w,r)&&p.addEventListener(r,w[r]);p.onerror=b}}function E(){p&&(c.info("Closing stream connection"),p.close(),p=null)}function S(e){u&&n$jscomp$1&&n$jscomp$1.recordStreamInit(u,!e,(new Date).getTime()-u);u=null}var u,s=i.streamUrl,c=i.logger,e$jscomp$1={},l=s+"/eval/"+a,f=i.useReport,d=i.evaluationReasons,t$jscomp$0=i.streamReconnectDelay,v=C$jscomp$0(o$jscomp$0,i),g=!1,p=null,m=null,h=null,y=null,w=null;return e$jscomp$1.connect=function(e$jscomp$0,n$jscomp$0,
t){function r(n){w[n]=function(e){S(!(g=!1));t[n]&&t[n](e)}}h=e$jscomp$0;y=n$jscomp$0;w={};for(var o in t||{})r(o);m||r$jscomp$0()},e$jscomp$1.disconnect=function(){clearTimeout(m);m=null;E()},e$jscomp$1.isConnected=function(){return!!(p&&o$jscomp$0.eventSourceIsActive&&o$jscomp$0.eventSourceIsActive(p))},e$jscomp$1}function _e(p,m,u$jscomp$0){function v$jscomp$0(e$jscomp$1,n$jscomp$0){if(!p.httpRequest)return new Promise(function(e,n){n(new l$jscomp$0(ye$jscomp$0()))});var t=n$jscomp$0?"REPORT":
"GET",r=C$jscomp$0(p,m);n$jscomp$0&&(r["Content-Type"]="application/json");var o,i,u,s,c,f,d=h[e$jscomp$1];d||(o=function(){delete h[e$jscomp$1]},(f={addPromise:function(n,e$jscomp$0){i=n;u&&u();u=e$jscomp$0;n.then(function(e){i===n&&(s(e),o())},function(e){i===n&&(c(e),o())})}}).resultPromise=new Promise(function(e,n){s=e;c=n}),d=f,h[e$jscomp$1]=d);var v=p.httpRequest(t,e$jscomp$1,L$jscomp$0(r,m),n$jscomp$0);n$jscomp$0=v.promise.then(function(e){if(200!==e.status)return Promise.reject(404===(n=e).status?
new a$jscomp$1(se$jscomp$0()):new l$jscomp$0(le(n.statusText||String(n.status))));if(e.header("content-type")&&"application/json"===e.header("content-type").substring(0,16))return JSON.parse(e.body);var n;e=re$jscomp$0(e.header("content-type")||"");return Promise.reject(new l$jscomp$0(e))},function(e){return Promise.reject(new l$jscomp$0(ae$jscomp$0(e)))});return d.addPromise(n$jscomp$0,function(){v.cancel&&v.cancel()}),d.resultPromise}var s$jscomp$0=m.baseUrl,c$jscomp$0=m.useReport,f$jscomp$0=m.evaluationReasons,
d$jscomp$0=m.logger,e$jscomp$2={},h={};return e$jscomp$2.fetchJSON=function(e){return v$jscomp$0(s$jscomp$0+e,null)},e$jscomp$2.fetchFlagSettings=function(e,n){var t,r,o,i="";return c$jscomp$0?(r=[s$jscomp$0,"/sdk/evalx/",u$jscomp$0,"/user"].join(""),o=JSON.stringify(e)):(t=O$jscomp$1(JSON.stringify(e)),r=[s$jscomp$0,"/sdk/evalx/",u$jscomp$0,"/users/",t].join("")),n&&(i="h\x3d"+n),f$jscomp$0&&(i=i+(i?"\x26":"")+"withReasons\x3dtrue"),r=r+(i?"?":"")+i,d$jscomp$0.debug(Pe(r)),v$jscomp$0(r,o)},e$jscomp$2}
function Je(o,i){var e$jscomp$1={};return e$jscomp$1.validateUser=function(e$jscomp$0){if(!e$jscomp$0)return Promise.reject(new u$jscomp$1(fe$jscomp$0()));var r=P(e$jscomp$0);return null!==r.key&&void 0!==r.key?(r.key=r.key.toString(),Promise.resolve(r)):r.anonymous?(o?o.get("ld:$anonUserId").catch(function(){return null}):Promise.resolve(null)).then(function(e){if(e)return r.key=e,r;e=G$jscomp$0();return r.key=e,(o?o.set("ld:$anonUserId",e).catch(function(){i.warn("localStorage is unavailable, so anonymous user ID cannot be cached")}):
Promise.resolve()).then(function(){return r})}):Promise.reject(new u$jscomp$1(ve$jscomp$0()))},e$jscomp$1}function Me(n$jscomp$0,t$jscomp$0,r$jscomp$0,o$jscomp$0){function u(e){I(function(){t$jscomp$0&&t$jscomp$0.maybeReportError(new c$jscomp$1(e))})}function g(n){if(null===n)return"any";if(void 0!==n){if(Array.isArray(n))return"array";n=e$jscomp$3(n);return"boolean"===n||"string"===n||"number"===n||"function"===n?n:"object"}}var a=A({logger:{default:o$jscomp$0}},ze,r$jscomp$0),i$jscomp$0={all_attributes_private:"allAttributesPrivate",
private_attribute_names:"privateAttributeNames",samplingInterval:null},s,l,f,d;n$jscomp$0=A({},n$jscomp$0||{});return d=n$jscomp$0,Object.keys(i$jscomp$0).forEach(function(e){if(void 0!==d[e]){var n=i$jscomp$0[e];o$jscomp$0&&o$jscomp$0.warn(me(e,n));n&&(void 0===d[n]&&(d[n]=d[e]),delete d[e])}}),f=A({},n$jscomp$0),Object.keys(a).forEach(function(e){void 0!==f[e]&&null!==f[e]||(f[e]=a[e]&&a[e].default)}),s=n$jscomp$0=f,l=A({},s),Object.keys(s).forEach(function(e){var n=s[e];if(null!=n){var t=a[e];
if(void 0===t)u(we$jscomp$0(e));else{var r=t.type||g(t.default);if("any"!==r){var o=r.split("|"),i=g(n);0>o.indexOf(i)?"boolean"===r?(l[e]=!!n,u(Se(e,i))):(u(De(e,r,i)),l[e]=t.default):"number"===i&&void 0!==t.minimum&&n<t.minimum&&(u(Oe(e,n,t.minimum)),l[e]=t.minimum)}}}}),l}function Ge(e$jscomp$0,n$jscomp$0){function r(e,n,t){u<=e&&console&&(n=console[n])&&n.call(console,i+"["+(e<a.length?a[e]:"?")+"] "+t)}var a=["debug","info","warn","error"];var i=null!=n$jscomp$0?""===n$jscomp$0?"":n$jscomp$0+
" ":"LD: ";var u=0;e$jscomp$0&&(u="none"===e$jscomp$0?100:a.indexOf(e$jscomp$0));e$jscomp$0={};return e$jscomp$0.debug=function(e){return r(0,"log",e)},e$jscomp$0.info=function(e){return r(1,"info",e)},e$jscomp$0.warn=function(e){return r(2,"warn",e)},e$jscomp$0.error=function(e){return r(3,"error",e)},e$jscomp$0}function Xe(n$jscomp$1,t$jscomp$1,i$jscomp$0,u$jscomp$0,c$jscomp$0){function Z(e){if(S$jscomp$0&&!($&&$.enqueueEvent&&$.enqueueEvent(e))){if("alias"!==e.kind){if(!e.user)return void(H&&(y$jscomp$0.warn("Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"),
H=!1));H=!1}!E$jscomp$0||G||u$jscomp$0.isDoNotTrack()||(y$jscomp$0.debug(Fe(e.kind)),_.enqueue(e))}}function ee(e,n,t,r){var o=B.getUser(),i=new Date,a=n?n.value:null;if(!k$jscomp$0.allowFrequentDuplicateEvents){var u=JSON.stringify(a)+(o&&o.key?o.key:"")+e,s=M[u];if(s&&3E5>i-s)return;M[u]=i}t={kind:"feature",key:e,user:o,value:a,variation:n?n.variationIndex:null,default:t,creationDate:i.getTime()};o&&o.anonymous&&(t.contextKind=re(o));(e=J[e])&&(t.version=e.flagVersion?e.flagVersion:e.version,t.trackEvents=
e.trackEvents,t.debugEventsUntilDate=e.debugEventsUntilDate);(r||e&&e.trackReason)&&n&&(t.reason=n.reason);Z(t)}function ne(e,n,t,r){if(J&&x(J,e)&&J[e]&&!J[e].deleted){var i=J[e];var o=te(i);null!==i.value&&void 0!==i.value||(o.value=n)}else o={value:n,variationIndex:null,reason:{kind:"ERROR",errorKind:"FLAG_NOT_FOUND"}};return t&&ee(e,o,n,r),o}function te(e){return{value:e.value,variationIndex:void 0===e.variation?null:e.variation,reason:e.reason||null}}function re(e){return e.anonymous?"anonymousUser":
"user"}function oe(e,n){$||e&&n&&Z({kind:"alias",key:e.key,contextKind:re(e),previousKey:n.key,previousContextKind:re(n),creationDate:(new Date).getTime()})}function ie(){v$jscomp$0=!0;B.getUser()&&F.connect(B.getUser(),O$jscomp$0,{ping:function(){y$jscomp$0.debug("received ping message from stream");var n=B.getUser();z.fetchFlagSettings(n,O$jscomp$0).then(function(e){U(n,B.getUser())&&se(e||{})}).catch(function(e){w$jscomp$0.maybeReportError(new l$jscomp$0(le(e)))})},put:function(e){e=JSON.parse(e.data);
y$jscomp$0.debug("received streaming update for all flags");se(e)},patch:function(e){e=JSON.parse(e.data);var t=J[e.key];if(!t||!t.version||!e.version||t.version<e.version){y$jscomp$0.debug(je(e.key));var r={},o=A({},e);delete o.key;o=te(J[e.key]=o);r[e.key]=t?{previous:t.value,current:o}:{current:o};fe(r)}else y$jscomp$0.debug(Re(e.key))},delete:function(e){e=JSON.parse(e.data);if(!J[e.key]||J[e.key].version<e.version){y$jscomp$0.debug(Te(e.key));var t={};J[e.key]&&!J[e.key].deleted&&(t[e.key]={previous:J[e.key].value});
J[e.key]={version:e.version,deleted:!0};fe(t)}else y$jscomp$0.debug(Ne(e.key))}})}function ae(){v$jscomp$0&&(F.disconnect(),v$jscomp$0=!1)}function se(e){var n={};if(!e)return Promise.resolve();for(var t in J)x(J,t)&&J[t]&&(e[t]&&!U(e[t].value,J[t].value)?n[t]={previous:J[t].value,current:te(e[t])}:e[t]&&!e[t].deleted||(n[t]={previous:J[t].value}));for(var o in e)x(e,o)&&e[o]&&(!J[o]||J[o].deleted)&&(n[o]={current:te(e[o])});return J=r$jscomp$1({},e),fe(n).catch(function(){})}function fe(o){var e$jscomp$0=
Object.keys(o);if(0<e$jscomp$0.length){var i={};e$jscomp$0.forEach(function(e){var n=o[e].current,t=n?n.value:void 0,r=o[e].previous;w$jscomp$0.emit("change:"+e,t,r);i[e]=n?{current:t,previous:r}:{previous:r}});w$jscomp$0.emit("change",i);w$jscomp$0.emit("internal-change",J);k$jscomp$0.sendEventsOnlyForVariation||$||e$jscomp$0.forEach(function(e){ee(e,o[e].current)})}return d$jscomp$0&&p$jscomp$0?p$jscomp$0.saveFlags(J).catch(function(){return null}):Promise.resolve()}function ve(){var e=V||g$jscomp$0&&
void 0===V;e&&!v$jscomp$0?ie():!e&&v$jscomp$0&&ae();C&&C.setStreaming(e)}function ge(e){return"change"===e||"change:"===e.substr(0,7)}function he(e){S$jscomp$0=e.environment;B.setUser(e.user);J=r$jscomp$1({},e.flags);I(ye)}function ye(){y$jscomp$0.info("LaunchDarkly client initialized");K=!0;ve();b$jscomp$0.signalSuccess()}function we(e){b$jscomp$0.signalFailure(e)}var d$jscomp$0,v$jscomp$0,g$jscomp$0,p$jscomp$0,m$jscomp$0,h$jscomp$0,y$jscomp$0=i$jscomp$0&&i$jscomp$0.logger?i$jscomp$0.logger:c$jscomp$0&&
c$jscomp$0.logger&&c$jscomp$0.logger.default||Ge("warn"),w$jscomp$0=Ae(y$jscomp$0),b$jscomp$0=xe(w$jscomp$0),k$jscomp$0=Me(i$jscomp$0,w$jscomp$0,c$jscomp$0,y$jscomp$0),E$jscomp$0=k$jscomp$0.sendEvents,S$jscomp$0=n$jscomp$1,O$jscomp$0=k$jscomp$0.hash;i$jscomp$0=X(u$jscomp$0,S$jscomp$0,k$jscomp$0);var L=(c$jscomp$0=k$jscomp$0.sendEvents&&!k$jscomp$0.diagnosticOptOut)?He(S$jscomp$0):null,N=c$jscomp$0?Be((new Date).getTime()):null,C=c$jscomp$0?$e(u$jscomp$0,N,i$jscomp$0,S$jscomp$0,k$jscomp$0,L):null,
F=Ve(u$jscomp$0,k$jscomp$0,S$jscomp$0,N),_=k$jscomp$0.eventProcessor||function(e$jscomp$1,n$jscomp$0,t$jscomp$0,r,i,a){function D(e){k.length<y?(k.push(e),O=!1):(O||(O=!0,b.warn("Exceeded event queue capacity. Increase capacity to avoid dropping events.")),s&&s.incrementDroppedEvents())}var u,s=3<arguments.length&&void 0!==r?r:null,c=4<arguments.length&&void 0!==i?i:null,l={},d=(5<arguments.length&&void 0!==a?a:null)||X(e$jscomp$1,t$jscomp$0,n$jscomp$0),v=n$jscomp$0.eventsUrl+"/events/bulk/"+t$jscomp$0,
g=W(),p=Q(n$jscomp$0),m=n$jscomp$0.inlineUsersInEvents,h=n$jscomp$0.samplingInterval,y=n$jscomp$0.eventCapacity,w=n$jscomp$0.flushInterval,b=n$jscomp$0.logger,k=[],E=0,S=!1,O=!1;return l.enqueue=function(e){if(!S){var n=!1,t=!1;g.summarizeEvent(e);"feature"===e.kind?(0===h||0===Math.floor(Math.random()*h))&&(n=!!e.trackEvents,t=!!e.debugEventsUntilDate&&e.debugEventsUntilDate>E&&e.debugEventsUntilDate>(new Date).getTime()):n=0===h||0===Math.floor(Math.random()*h);n&&(n=A({},e),n=("alias"===e.kind||
(m||"identify"===e.kind?n.user=p.filterUser(e.user):(n.userKey=e.user.key,delete n.user),"feature"===e.kind&&(delete n.trackEvents,delete n.debugEventsUntilDate)),n),D(n));t&&(e=A({},e,{kind:"debug"}),e.user=p.filterUser(e.user),delete e.trackEvents,delete e.debugEventsUntilDate,D(e))}},l.flush=function(){if(S)return Promise.resolve();var e$jscomp$0=k,n=g.getSummary();return g.clearSummary(),n&&(n.kind="summary",e$jscomp$0.push(n)),s&&s.setEventsInLastBatch(e$jscomp$0.length),0===e$jscomp$0.length?
Promise.resolve():(k=[],b.debug(Ce(e$jscomp$0.length)),d.sendEvents(e$jscomp$0,v).then(function(e){e&&(e.serverTime&&(E=e.serverTime),f$jscomp$1(e.status)||(S=!0),400<=e.status&&I(function(){c.maybeReportError(new o$jscomp$1(pe(e.status,"event posting","some events were dropped")))}))}))},l.start=function(){u=setTimeout(function e(){l.flush();u=setTimeout(e,w)},w)},l.stop=function(){clearTimeout(u)},l}(u$jscomp$0,k$jscomp$0,S$jscomp$0,N,w$jscomp$0,i$jscomp$0),z=_e(u$jscomp$0,k$jscomp$0,S$jscomp$0),
M={},J={},V=k$jscomp$0.streaming,K=!1,G=!1,H=!0,$=k$jscomp$0.stateProvider,B=(m$jscomp$0=function(e,n){$||e&&Z({kind:"identify",key:e.key,user:e,creationDate:(new Date).getTime()});!k$jscomp$0.autoAliasingOptOut&&n&&n.anonymous&&e&&!e.anonymous&&oe(e,n)},{setUser:function(e){var n=h$jscomp$0&&P(h$jscomp$0);(h$jscomp$0=q(e))&&m$jscomp$0&&m$jscomp$0(P(h$jscomp$0),n)},getUser:function(){return h$jscomp$0?P(h$jscomp$0):null}}),Y=Je(u$jscomp$0.localStorage,y$jscomp$0);(u$jscomp$0.localStorage&&(p$jscomp$0=
new qe(u$jscomp$0.localStorage,S$jscomp$0,O$jscomp$0,B,y$jscomp$0)),"string"==typeof k$jscomp$0.bootstrap&&"LOCALSTORAGE"===k$jscomp$0.bootstrap.toUpperCase()&&(p$jscomp$0?d$jscomp$0=!0:y$jscomp$0.warn("localStorage is unavailable")),"object"===e$jscomp$3(k$jscomp$0.bootstrap)&&(J=function(t){var e$jscomp$0=Object.keys(t),r=t.$flagsState;!r&&e$jscomp$0.length&&y$jscomp$0.warn(de());!1===t.$valid&&y$jscomp$0.warn("LaunchDarkly bootstrap data is not available because the back end could not read the flags.");
var o={};return e$jscomp$0.forEach(function(e){if("$flagsState"!==e&&"$valid"!==e){var n={value:t[e]};r&&r[e]?n=A(n,r[e]):n.version=0;o[e]=n}}),o}(k$jscomp$0.bootstrap)),$)?((n$jscomp$1=$.getInitialState())?he(n$jscomp$1):$.on("init",he),$.on("update",function(e){e.user&&B.setUser(e.user);e.flags&&se(e.flags)})):(n$jscomp$1?Y.validateUser(t$jscomp$1).then(function(n){return B.setUser(n),"object"===e$jscomp$3(k$jscomp$0.bootstrap)?ye():d$jscomp$0?p$jscomp$0.loadFlags().catch(function(){return null}).then(function(e$jscomp$0){return null==
e$jscomp$0?(J={},z.fetchFlagSettings(B.getUser(),O$jscomp$0).then(function(e){return se(e||{})}).then(ye).catch(function(e){we(new l$jscomp$0(le(e)))})):(J=e$jscomp$0,I(ye),z.fetchFlagSettings(B.getUser(),O$jscomp$0).then(function(e){return se(e)}).catch(function(e){return w$jscomp$0.maybeReportError(e)}))}):z.fetchFlagSettings(B.getUser(),O$jscomp$0).then(function(e){J=e||{};ye()}).catch(function(e){J={};we(e)})}):Promise.reject(new a$jscomp$1(ce()))).catch(we);return{client:{waitForInitialization:function(){return b$jscomp$0.getInitializationPromise()},
waitUntilReady:function(){return b$jscomp$0.getReadyPromise()},identify:function(e$jscomp$0,r,n$jscomp$0){return G?j(Promise.resolve({}),n$jscomp$0):$?(y$jscomp$0.warn("identify() has no effect here; it must be called on the main client instance"),j(Promise.resolve(T(J)),n$jscomp$0)):j((d$jscomp$0&&p$jscomp$0?p$jscomp$0.clearFlags():Promise.resolve()).then(function(){return Y.validateUser(e$jscomp$0)}).then(function(t){return z.fetchFlagSettings(t,r).then(function(e){var n=T(e);return B.setUser(t),
O$jscomp$0=r,e?se(e).then(function(){return n}):n})}).then(function(e){return v$jscomp$0&&ie(),e}).catch(function(e){return w$jscomp$0.maybeReportError(e),Promise.reject(e)}),n$jscomp$0)},getUser:function(){return B.getUser()},variation:function(e,n){return ne(e,n,!0,!1).value},variationDetail:function(e,n){return ne(e,n,!0,!0)},track:function(e,n,t){if("string"==typeof e){u$jscomp$0.customEventFilter&&!u$jscomp$0.customEventFilter(e)&&y$jscomp$0.warn(ue(e));var r=B.getUser();e={kind:"custom",key:e,
user:r,url:u$jscomp$0.getCurrentUrl(),creationDate:(new Date).getTime()};r&&r.anonymous&&(e.contextKind=re(r));null!=n&&(e.data=n);null!=t&&(e.metricValue=t);Z(e)}else w$jscomp$0.maybeReportError(new s$jscomp$1(ue(e)))},alias:oe,on:function(e,n,t){ge(e)?(g$jscomp$0=!0,K&&ve(),w$jscomp$0.on(e,n,t)):w$jscomp$0.on.apply(w$jscomp$0,arguments)},off:function(e$jscomp$0){if(w$jscomp$0.off.apply(w$jscomp$0,arguments),ge(e$jscomp$0)){var n=!1;w$jscomp$0.getEvents().forEach(function(e){ge(e)&&0<w$jscomp$0.getEventListenerCount(e)&&
(n=!0)});n||(g$jscomp$0=!1,v$jscomp$0&&void 0===V&&ae())}},setStreaming:function(e){e=null===e?void 0:e;e!==V&&(V=e,ve())},flush:function(e){return j(E$jscomp$0?_.flush():Promise.resolve(),e)},allFlags:function(){var e={};if(!J)return e;for(var n in J)x(J,n)&&(e[n]=ne(n,null,!k$jscomp$0.sendEventsOnlyForVariation).value);return e},close:function(e){function n(){G=!0;J={}}return G?j(Promise.resolve(),e):j(Promise.resolve().then(function(){if(ae(),C&&C.stop(),E$jscomp$0)return _.stop(),_.flush()}).then(n).catch(n),
e)}},options:k$jscomp$0,emitter:w$jscomp$0,ident:B,logger:y$jscomp$0,requestor:z,start:function(){E$jscomp$0&&(C&&C.start(),_.start())},enqueueEvent:Z,getFlagsInternal:function(){return J},getEnvironmentId:function(){return S$jscomp$0},internalChangeEventName:"internal-change"}}function ownKeys(n,e$jscomp$0){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e$jscomp$0&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}));t.push.apply(t,
r)}return t}function _objectSpread2(n){for(var e$jscomp$0=1;e$jscomp$0<arguments.length;e$jscomp$0++){var t$jscomp$0=null!=arguments[e$jscomp$0]?arguments[e$jscomp$0]:{};e$jscomp$0%2?ownKeys(Object(t$jscomp$0),!0).forEach(function(e){var t=t$jscomp$0[e];e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t$jscomp$0)):ownKeys(Object(t$jscomp$0)).forEach(function(e){Object.defineProperty(n,
e,Object.getOwnPropertyDescriptor(t$jscomp$0,e))})}return n}function isSyncXhrSupported(){var e=window.navigator&&window.navigator.userAgent;return e&&(e=e.match(/Chrom(e|ium)\/([0-9]+)\./))?73>parseInt(e[2],10):!0}function newHttpRequest(e$jscomp$1,n$jscomp$0,t,r,o){if(o&&!isSyncXhrSupported())return emptyResult;var i=new window.XMLHttpRequest,a;for(a in i.open(e$jscomp$1,n$jscomp$0,!o),t||{})Object.prototype.hasOwnProperty.call(t,a)&&i.setRequestHeader(a,t[a]);if(o)return i.send(r),emptyResult;
var u;return{promise:new Promise(function(e$jscomp$0,n){i.addEventListener("load",function(){u||e$jscomp$0({status:i.status,header:function(e){return i.getResponseHeader(e)},body:i.responseText})});i.addEventListener("error",function(){u||n(Error())});i.send(r)}),cancel:function(){u=!0;i.abort()}}}function makeBrowserPlatform(e$jscomp$0){var n$jscomp$0,i={synchronousFlush:!1};if(window.XMLHttpRequest){var a=e$jscomp$0&&e$jscomp$0.disableSyncEventPost;i.httpRequest=function(e,n,t,r){var o=i.synchronousFlush&
!a;return i.synchronousFlush=!1,newHttpRequest(e,n,t,r,o)}}i.httpAllowsPost=function(){return void 0===n$jscomp$0&&(n$jscomp$0=!!window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest),n$jscomp$0};i.httpFallbackPing=function(e){(new window.Image).src=e};var r$jscomp$0,t$jscomp$0=e$jscomp$0&&e$jscomp$0.eventUrlTransformer;i.getCurrentUrl=function(){return t$jscomp$0?t$jscomp$0(window.location.href):window.location.href};i.isDoNotTrack=function(){var e;return 1===(e=window.navigator&&
void 0!==window.navigator.doNotTrack?window.navigator.doNotTrack:window.navigator&&void 0!==window.navigator.msDoNotTrack?window.navigator.msDoNotTrack:window.doNotTrack)||!0===e||"1"===e||"yes"===e};try{window.localStorage&&(i.localStorage={get:function(n){return new Promise(function(e){e(window.localStorage.getItem(n))})},set:function(n,t){return new Promise(function(e){window.localStorage.setItem(n,t);e()})},clear:function(n){return new Promise(function(e){window.localStorage.removeItem(n);e()})}})}catch(e){i.localStorage=
null}if(r$jscomp$0=e$jscomp$0&&e$jscomp$0.useReport&&"function"==typeof window.EventSourcePolyfill&&window.EventSourcePolyfill.supportedOptions&&window.EventSourcePolyfill.supportedOptions.method?(i.eventSourceAllowsReport=!0,window.EventSourcePolyfill):(i.eventSourceAllowsReport=!1,window.EventSource),window.EventSource)i.eventSourceFactory=function(e,n){n=_objectSpread2(_objectSpread2({},{heartbeatTimeout:3E5,silentTimeout:3E5,skipDefaultHeaders:!0}),n);return new r$jscomp$0(e,n)},i.eventSourceIsActive=
function(e){return e.readyState===window.EventSource.OPEN||e.readyState===window.EventSource.CONNECTING};return i.userAgent="JSClient",i.version="2.20.0",i.diagnosticSdkData={name:"js-client-sdk",version:"2.20.0"},i.diagnosticPlatformData={name:"JS"},i.diagnosticUseCombinedEvent=!0,i}function doesUrlMatch(e,n,t,r){t=("substring"!==e.kind&&"regex"!==e.kind||!r.includes("/")?n.replace(r,""):n).replace(t,"");switch(e.kind){case "exact":e=new RegExp("^"+escapeStringRegexp(e.url)+"/?$");break;case "canonical":n=
t;e=new RegExp("^"+escapeStringRegexp(e.url)+"/?$");break;case "substring":n=t;e=new RegExp(".*"+escapeStringRegexp(e.substring)+".*$");break;case "regex":n=t;e=new RegExp(e.pattern);break;default:return!1}return e.test(n)}function GoalTracker(e$jscomp$0,r$jscomp$0){for(var n={},t$jscomp$0=null,o$jscomp$0=[],i$jscomp$0=0;i$jscomp$0<e$jscomp$0.length;i$jscomp$0++)for(var a=e$jscomp$0[i$jscomp$0],u$jscomp$0=a.urls||[],s$jscomp$0=0;s$jscomp$0<u$jscomp$0.length;s$jscomp$0++)if(doesUrlMatch(u$jscomp$0[s$jscomp$0],
window.location.href,window.location.search,window.location.hash)){"pageview"===a.kind?r$jscomp$0("pageview",a):(o$jscomp$0.push(a),r$jscomp$0("click_pageview",a));break}return 0<o$jscomp$0.length&&(t$jscomp$0=function(e){for(var t=[],r=0;r<o$jscomp$0.length;r++)for(var o=e.target,i=o$jscomp$0[r],u=document.querySelectorAll(i.selector);o&&0<u.length;){for(var s=0;s<u.length;s++)o===u[s]&&t.push(i);o=o.parentNode}for(e=0;e<t.length;e++)r$jscomp$0("click",t[e])},document.addEventListener("click",t$jscomp$0)),
n.dispose=function(){document.removeEventListener("click",t$jscomp$0)},n}function GoalManager(o$jscomp$0,n$jscomp$1){function i(){r$jscomp$0&&r$jscomp$0.dispose();t$jscomp$1&&t$jscomp$1.length&&(r$jscomp$0=GoalTracker(t$jscomp$1,a))}function a(e,n){var t=o$jscomp$0.ident.getUser(),r={kind:e,key:n.key,data:null,url:window.location.href,user:t,creationDate:(new Date).getTime()};return t&&t.anonymous&&(r.contextKind="anonymousUser"),"click"===e&&(r.selector=n.selector),o$jscomp$0.enqueueEvent(r)}function u(e$jscomp$0,
n$jscomp$0){function o(){(t$jscomp$0=window.location.href)!==r&&(r=t$jscomp$0,n$jscomp$0())}var t$jscomp$0,r=window.location.href;!function e(n,t){n();setTimeout(function(){e(n,t)},t)}(o,e$jscomp$0);window.history&&window.history.pushState?window.addEventListener("popstate",o):window.addEventListener("hashchange",o)}var t$jscomp$1,r$jscomp$0;return o$jscomp$0.requestor.fetchJSON("/sdk/goals/"+o$jscomp$0.getEnvironmentId()).then(function(e){e&&0<e.length&&(r$jscomp$0=GoalTracker(t$jscomp$1=e,a),u(300,
i));n$jscomp$1()}).catch(function(e){o$jscomp$0.emitter.maybeReportError(new v$jscomp$1.LDUnexpectedResponseError((e&&e.message,e.message)));n$jscomp$1()}),{}}function initialize(e$jscomp$0,n$jscomp$0){function c(){r.synchronousFlush=!0;i.flush().catch(function(){});r.synchronousFlush=!1}var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=makeBrowserPlatform(t);t=Xe(e$jscomp$0,n$jscomp$0,t,r,extraOptionDefs);var i=t.client,a=t.options,u=t.emitter,s=new Promise(function(e){var n=u.on("goalsReady",
function(){u.off("goalsReady",n);e()})});i.waitUntilGoalsReady=function(){return s};a.fetchGoals?GoalManager(t,function(){return u.emit("goalsReady")}):u.emit("goalsReady");"complete"!==document.readyState?window.addEventListener("load",t.start):t.start();return window.addEventListener("beforeunload",c),window.addEventListener("unload",c),i}Object.defineProperty(exports,"__esModule",{value:!0});for(var o$jscomp$1=i$jscomp$1("LaunchDarklyUnexpectedResponseError"),a$jscomp$1=i$jscomp$1("LaunchDarklyInvalidEnvironmentIdError"),
u$jscomp$1=i$jscomp$1("LaunchDarklyInvalidUserError"),s$jscomp$1=i$jscomp$1("LaunchDarklyInvalidEventKeyError"),c$jscomp$1=i$jscomp$1("LaunchDarklyInvalidArgumentError"),l$jscomp$0=i$jscomp$1("LaunchDarklyFlagFetchError"),v$jscomp$1=Object.freeze({__proto__:null,LDUnexpectedResponseError:o$jscomp$1,LDInvalidEnvironmentIdError:a$jscomp$1,LDInvalidUserError:u$jscomp$1,LDInvalidEventKeyError:s$jscomp$1,LDInvalidArgumentError:c$jscomp$1,LDFlagFetchError:l$jscomp$0,isHttpErrorRecoverable:f$jscomp$1}),
g$jscomp$1=[],y$jscomp$1=0;64>y$jscomp$1;++y$jscomp$1)g$jscomp$1[y$jscomp$1]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[y$jscomp$1],"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(y$jscomp$1);var k$jscomp$1=Array.isArray,E$jscomp$1=Object.keys,w$jscomp$1=Object.prototype.hasOwnProperty,D$jscomp$0="key secondary ip country email firstName lastName avatar name".split(" ");Object.freeze({__proto__:null,btoa:S$jscomp$1,base64URLEncode:O$jscomp$1,clone:P,
deepEquals:U,onNextTick:I,wrapPromiseCallback:j,transformValuesToVersionedValues:R,transformVersionedValuesToValues:T,chunkUserEventsForUrl:N$jscomp$0,getLDUserAgentString:F$jscomp$0,getLDHeaders:C$jscomp$0,transformHeaders:L$jscomp$0,extend:A,objectHasOwnProperty:x,sanitizeUser:q});for(var _$jscomp$0=function(e$jscomp$1,n$jscomp$1){return function(e$jscomp$0){var n$jscomp$0="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==
typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n$jscomp$0){var t=new Uint8Array(16);e$jscomp$0.exports=function(){return n$jscomp$0(t),t}}else{var r=Array(16);e$jscomp$0.exports=function(){for(var e,n=0;16>n;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255;return r}}}(n$jscomp$1={exports:{}}),n$jscomp$1.exports}(),J$jscomp$0=[],z$jscomp$0=0;256>z$jscomp$0;++z$jscomp$0)J$jscomp$0[z$jscomp$0]=(z$jscomp$0+256).toString(16).substr(1);var M$jscomp$0,
K$jscomp$0,B$jscomp$0=0,$=0,G$jscomp$0=function(e,n,t){var r=n&&t||0;t=n||[];var i=(e=e||{}).node||M$jscomp$0,a=void 0!==e.clockseq?e.clockseq:K$jscomp$0;if(null==i||null==a){var u=_$jscomp$0();null==i&&(i=M$jscomp$0=[1|u[0],u[1],u[2],u[3],u[4],u[5]]);null==a&&(a=K$jscomp$0=16383&(u[6]<<8|u[7]))}u=void 0!==e.msecs?e.msecs:(new Date).getTime();var c=void 0!==e.nsecs?e.nsecs:$+1,l=u-B$jscomp$0+(c-$)/1E4;if(0>l&&void 0===e.clockseq&&(a=a+1&16383),(0>l||B$jscomp$0<u)&&void 0===e.nsecs&&(c=0),1E4<=c)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");
B$jscomp$0=u;K$jscomp$0=a;e=(1E4*(268435455&(u+=122192928E5))+($=c))%4294967296;t[r++]=e>>>24&255;t[r++]=e>>>16&255;t[r++]=e>>>8&255;t[r++]=255&e;e=u/4294967296*1E4&268435455;t[r++]=e>>>8&255;t[r++]=255&e;t[r++]=e>>>24&15|16;t[r++]=e>>>16&255;t[r++]=a>>>8|128;t[r++]=255&a;for(a=0;6>a;++a)t[r+a]=i[a];n||(n=0,n=[J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],"-",J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],"-",J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],"-",J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],
"-",J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]],J$jscomp$0[t[n++]]].join(""));return n},re$jscomp$0=function(e){return'Expected application/json content type but got "'+e+'"'},ae$jscomp$0=function(e){return"network error"+(e?" ("+e+")":"")},ue=function(e){return'Custom event "'+e+'" does not exist'},se$jscomp$0=function(){return"Environment not found. Double check that you specified a valid environment/client-side ID. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},
ce=function(){return"No environment/client-side ID was specified. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},le=function(e){return"Error fetching flag settings: "+Y$jscomp$0(e)},fe$jscomp$0=function(){return"No user specified. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},ve$jscomp$0=function(){return"Invalid user specified. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},
de=function(){return"LaunchDarkly client was initialized with bootstrap data that did not include flag metadata. Events may not be sent correctly. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},me=function(e,n){return n?'"'+e+'" is deprecated, please use "'+n+'"':'"'+e+'" is deprecated'},pe=function(e,n,t){return"Received error "+e+(401===e?" (invalid SDK key)":"")+" for "+n+" - "+(f$jscomp$1(e)?t:"giving up permanently")},
ye$jscomp$0=function(){return"Cannot make HTTP requests in this environment. Please see https://docs.launchdarkly.com/sdk/client-side/javascript#initializing-the-client for instructions on SDK initialization."},ke=function(e){return"Opening stream connection to "+e},Ee=function(e,n){return"Error on stream connection: "+Y$jscomp$0(e)+", will continue retrying every "+n+" milliseconds."},we$jscomp$0=function(e){return'Ignoring unknown config option "'+e+'"'},De=function(e,n,t){return'Config option "'+
e+'" should be of type '+n+", got "+t+", using default value"},Se=function(e,n){return'Config option "'+e+'" should be a boolean, got '+n+", converting to boolean"},Oe=function(e,n,t){return'Config option "'+e+'" was set to '+n+", changing to minimum value of "+t},Pe=function(e){return"polling for feature flags at "+e},je=function(e){return'received streaming update for flag "'+e+'"'},Re=function(e){return'received streaming update for flag "'+e+'" but ignored due to version check'},Te=function(e){return'received streaming deletion for flag "'+
e+'"'},Ne=function(e){return'received streaming deletion for flag "'+e+'" but ignored due to version check'},Fe=function(e){return'enqueueing "'+e+'" event'},Ce=function(e){return"sending "+e+" events"},Le=Object.freeze({__proto__:null,clientInitialized:function(){return"LaunchDarkly client initialized"},clientNotReady:function(){return"LaunchDarkly client is not ready"},eventCapacityExceeded:function(){return"Exceeded event queue capacity. Increase capacity to avoid dropping events."},eventWithoutUser:function(){return"Be sure to call `identify` in the LaunchDarkly client: https://docs.launchdarkly.com/sdk/features/identify#javascript"},
invalidContentType:re$jscomp$0,invalidKey:function(){return"Event key must be a string"},localStorageUnavailable:function(){return"localStorage is unavailable"},localStorageUnavailableForUserId:function(){return"localStorage is unavailable, so anonymous user ID cannot be cached"},networkError:ae$jscomp$0,unknownCustomEventKey:ue,environmentNotFound:se$jscomp$0,environmentNotSpecified:ce,errorFetchingFlags:le,userNotSpecified:fe$jscomp$0,invalidUser:ve$jscomp$0,bootstrapOldFormat:de,bootstrapInvalid:function(){return"LaunchDarkly bootstrap data is not available because the back end could not read the flags."},
deprecated:me,httpErrorMessage:pe,httpUnavailable:ye$jscomp$0,identifyDisabled:function(){return"identify() has no effect here; it must be called on the main client instance"},streamClosing:function(){return"Closing stream connection"},streamConnecting:ke,streamError:Ee,unknownOption:we$jscomp$0,wrongOptionType:De,wrongOptionTypeBoolean:Se,optionBelowMinimum:Oe,debugPolling:Pe,debugStreamPing:function(){return"received ping message from stream"},debugStreamPut:function(){return"received streaming update for all flags"},
debugStreamPatch:je,debugStreamPatchIgnored:Re,debugStreamDelete:Te,debugStreamDeleteIgnored:Ne,debugEnqueueingEvent:Fe,debugPostingEvents:Ce,debugPostingDiagnosticEvent:function(e){return"sending diagnostic event ("+e.kind+")"}}),xe=function(r){var n$jscomp$1=!1,t$jscomp$0=!1,o=null,e$jscomp$0=null,i=(new Promise(function(n){r.on("ready",function e(){r.off("ready",e);n()})})).catch(function(){});return{getInitializationPromise:function(){return e$jscomp$0||(n$jscomp$1?Promise.resolve():t$jscomp$0?
Promise.reject(o):e$jscomp$0=new Promise(function(n$jscomp$0,t){r.on("initialized",function e(){r.off("initialized",e);n$jscomp$0()});r.on("failed",function e(n){r.off("failed",e);t(n)})}))},getReadyPromise:function(){return i},signalSuccess:function(){n$jscomp$1||t$jscomp$0||(n$jscomp$1=!0,r.emit("initialized"),r.emit("ready"))},signalFailure:function(e){n$jscomp$1||t$jscomp$0||(t$jscomp$0=!0,o=e,r.emit("failed",e),r.emit("ready"));r.maybeReportError(e)}}},ze={baseUrl:{default:"https://app.launchdarkly.com"},
streamUrl:{default:"https://clientstream.launchdarkly.com"},eventsUrl:{default:"https://events.launchdarkly.com"},sendEvents:{default:!0},streaming:{type:"boolean"},sendLDHeaders:{default:!0},requestHeaderTransform:{type:"function"},inlineUsersInEvents:{default:!1},allowFrequentDuplicateEvents:{default:!1},sendEventsOnlyForVariation:{default:!1},useReport:{default:!1},evaluationReasons:{default:!1},eventCapacity:{default:100,minimum:1},flushInterval:{default:2E3,minimum:2E3},samplingInterval:{default:0,
minimum:0},streamReconnectDelay:{default:1E3,minimum:0},allAttributesPrivate:{default:!1},privateAttributeNames:{default:[]},bootstrap:{type:"string|object"},diagnosticRecordingInterval:{default:9E5,minimum:2E3},diagnosticOptOut:{default:!1},wrapperName:{type:"string"},wrapperVersion:{type:"string"},stateProvider:{type:"object"},autoAliasingOptOut:{default:!1}},Ke=Object.freeze({__proto__:null,baseOptionDefs:ze,validate:Me}).baseOptionDefs,He=function(e){var n={diagnosticId:G$jscomp$0()};return e&&
(n.sdkKeySuffix=6<e.length?e.substring(e.length-6):e),n},Be=function(e$jscomp$0){function i(e){n$jscomp$0=e;r=t$jscomp$0=0;o=[]}var n$jscomp$0,t$jscomp$0,r,o;return i(e$jscomp$0),{getProps:function(){return{dataSinceDate:n$jscomp$0,droppedEvents:t$jscomp$0,eventsInLastBatch:r,streamInits:o}},setProps:function(e){n$jscomp$0=e.dataSinceDate;t$jscomp$0=e.droppedEvents||0;r=e.eventsInLastBatch||0;o=e.streamInits||[]},incrementDroppedEvents:function(){t$jscomp$0++},setEventsInLastBatch:function(e){r=e},
recordStreamInit:function(e,n,t){o.push({timestamp:e,failed:n,durationMillis:t})},reset:i}},$e=function(o,e$jscomp$1,n$jscomp$0,t$jscomp$0,i,a){function m(){var e=r$jscomp$1({},o.diagnosticSdkData);return{sdk:(i.wrapperName&&(e.wrapperName=i.wrapperName),i.wrapperVersion&&(e.wrapperVersion=i.wrapperVersion),e),configuration:(e$jscomp$0={customBaseURI:i.baseUrl!==Ke.baseUrl.default,customStreamURI:i.streamUrl!==Ke.streamUrl.default,customEventsURI:i.eventsUrl!==Ke.eventsUrl.default,eventsCapacity:i.eventCapacity,
eventsFlushIntervalMillis:i.flushInterval,reconnectTimeMillis:i.streamReconnectDelay,streamingDisabled:!g,allAttributesPrivate:!!i.allAttributesPrivate,inlineUsersInEvents:!!i.inlineUsersInEvents,diagnosticRecordingIntervalMillis:i.diagnosticRecordingInterval,usingSecureMode:!!i.hash,bootstrapMode:!!i.bootstrap,fetchGoalsDisabled:!i.fetchGoals,allowFrequentDuplicateEvents:!!i.allowFrequentDuplicateEvents,sendEventsOnlyForVariation:!!i.sendEventsOnlyForVariation,autoAliasingOptOut:!!i.autoAliasingOptOut},
e$jscomp$0),platform:o.diagnosticPlatformData};var e$jscomp$0}function h(e){i.logger&&i.logger.debug(Le.debugPostingDiagnosticEvent(e));n$jscomp$0.sendEvents(e,f,!0).then(function(){}).catch(function(){})}function y(){var e$jscomp$0,n;h((e$jscomp$0=(new Date).getTime(),n=r$jscomp$1({kind:c?"diagnostic-combined":"diagnostic",id:a,creationDate:e$jscomp$0},v.getProps()),c&&(n=r$jscomp$1({},n,{},m())),v.reset(e$jscomp$0),n));s=setTimeout(y,d);u=(new Date).getTime();c&&function(){if(o.localStorage){var e=
r$jscomp$1({},v.getProps());o.localStorage.set(l,JSON.stringify(e),function(){})}}()}var u,s,c=!!o.diagnosticUseCombinedEvent,l="ld:"+t$jscomp$0+":$diagnostics",f=i.eventsUrl+"/events/diagnostic/"+t$jscomp$0,d=i.diagnosticRecordingInterval,v=e$jscomp$1,g=!!i.streaming;e$jscomp$1={};return e$jscomp$1.start=function(){c?function(t){if(!o.localStorage)return t(!1);o.localStorage.get(l).then(function(e$jscomp$0){if(e$jscomp$0)try{var n=JSON.parse(e$jscomp$0);v.setProps(n);u=n.dataSinceDate}catch(e){}t(!0)}).catch(function(){t(!1)})}(function(e){if(e){e=
(u||0)+d;var t=(new Date).getTime();e<=t?y():s=setTimeout(y,e-t)}else 0===Math.floor(4*Math.random())?y():s=setTimeout(y,d)}):(h(r$jscomp$1({kind:"diagnostic-init",id:a,creationDate:v.getProps().dataSinceDate},m())),s=setTimeout(y,d))},e$jscomp$1.stop=function(){s&&clearTimeout(s)},e$jscomp$1.setStreaming=function(e){g=e},e$jscomp$1},emptyResult={promise:Promise.resolve({status:200,header:function(){return null},body:null})},matchOperatorsRe=/[|\\{}()[\]^$+*?.]/g,escapeStringRegexp=function(e){if("string"!=
typeof e)throw new TypeError("Expected a string");return e.replace(matchOperatorsRe,"\\$\x26")},extraOptionDefs={fetchGoals:{default:!0},hash:{type:"string"},eventProcessor:{type:"object"},eventUrlTransformer:{type:"function"},disableSyncEventPost:{default:!1}};exports.createConsoleLogger=Ge;exports.default={initialize:function(e,n){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return console&&console.warn&&console.warn(Le.deprecated("default export","named LDClient export")),initialize(e,
n,t)},version:"2.20.0"};exports.initialize=initialize;exports.version="2.20.0"}
//# sourceMappingURL=module$node_modules$launchdarkly_js_client_sdk$dist$ldclient_cjs.js.map
