{"version":3,"sources":["webapp/tasks/views/tasks_list.cljs"],"mappings":";AAOA,0CAAA,1CAAMA,4FACHC;AADH,AAEE,IAAMC,cAAY,4CAAA,AAAAC,2QAAA,vTAACC,4DAAK,sDAAA,mFAAA,zIAACC;IACnBC,WAAS,oOAAA,AAAA,4DAAA,9RAAM,AAACC,6CAAE,AAAA,gFAAKL,aAAa,AAAA,gFAAKD;AAD/C,AAEE,OAACO,qEAAoBF,SAASL;;AAElC,2CAAA,3CAAMQ,8FACHC;AADH,AAEE,eAAA,AAAAP,XAAMQ,2BAAU,sDAAA,mFAAA,zIAACN;0BAAjB,AAAAF,tBACMS,sCAAqB,sDAAA,mFAAA,zIAACP;AAD5B,AAAA,0FAAA,y2CAAA,mFAAA,gQAAA,mFAAA,iGAAA,mFAAA,4FAAA,2CAAA,qDAAA,IAAA,6DAAA,hlEAGG,2NAAA,whCAAA,jvCAAM,0JAAA,1JAACE,6CAAE,AAAA,wFAASK,oFAChB,qEAAA,6DAAA,2CAAA,kDAAA,WAAA,0DAAA,GAAA,2DAAA,WAAA,6SAAA,oEAAA,GAAA,juBAACJ,qaAImB,2HAAA,zHAAI,AAACK,uBAAO,AAAA,sFAASF,qCAEnB,AAAA,sFAASA,4IAEX,6HAAA,3HAAI,AAACE,uBAAO,AAAA,wFAASF,gCAEnB,AAAA,wFAASA,2NAEhC,AAACG,8CAAM,AAACC,4CAAIf,wCAAUU;AAhB1B,AAoBiB,8BAAA,mFAAA,1GAACM;WApBlB","names":["webapp.tasks.views.tasks-list/list-item","task","active-task","cljs.core/deref","cljs.core.get","re_frame.core.subscribe","selected","cljs.core._EQ_","webapp.tasks.views.task-item/task-item","webapp.tasks.views.tasks-list/tasks-list","tasks","new-task","active-task-details","cljs.core/empty?","cljs.core.doall","cljs.core.map","re-frame.core/dispatch"],"sourcesContent":["(ns webapp.tasks.views.tasks-list\n  (:require\n   [re-frame.core :as rf]\n   [webapp.subs :as subs]\n   [webapp.tasks.views.task-item :as task-item]\n   [webapp.tasks.events :as events]))\n\n(defn list-item\n  [task]\n  (let [active-task (get @(rf/subscribe [::subs/active-task-details]) :task)\n        selected (when (= (:id active-task) (:id task)) :selected)]\n    (task-item/task-item selected task)))\n\n(defn tasks-list\n  [tasks]\n  (let [new-task @(rf/subscribe [::subs/new-task])\n        active-task-details @(rf/subscribe [::subs/active-task-details])]\n    [:div.border-r.relative.h-tasks-list\n     (when (= (:status active-task-details) :new-task)\n       (task-item/task-item\n        :new-task {:id \"New task\"\n                   :status \"\"\n                   :created \"Just now\"\n                   :target (if (empty? (:target new-task))\n                             \"No target selected yet\"\n                             (:target new-task))\n                   :description \"\"\n                   :script (if (empty? (:script new-task))\n                             \"No script present\"\n                             (:script new-task))}) )\n     [:div.overflow-auto.h-full.relative\n      (doall (map list-item tasks))]\n     [:div.py-regular.text-center\n      [:a.text-sm.text-blue-500\n       {:href \"#\"\n        :on-click #(rf/dispatch [::events/get-next-page])}\n       \"Load more tasks\"]]]))\n\n"]}