{"version":3,"sources":["webapp/components/codemirror_editor.cljs"],"mappings":";;;;;;;;;AAaA,6CAAA,qDAAAA,lGAAMI;AAAN,AAAA,IAAAH,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;YAAA,AAAAE,4CAAAF,eAAA,nEACWI;AADX,AAEE,IAAME,oBAAa,6CAAA,2CAAA,4DAAA,pJAACC;IACdC,eAAa,CAACJ,sCAAAA,wCAAAA;kBADpB,WAAAC,zBAEMI;AAFN,AAEmB,YAAKC,sEACA,qBAAA,2CAAA,qEAAA,yDAAAL,9LAACM,wHAAgBH;;IAEnCI,YAAU;AAAA,AACE,+DAAA,2CAAA,oEAAA,oBAAA,3LAACC,+QAGC;AAAA,AACE,4FAAA,rFAACC,mDAAMR,kBAAaS,4EAAe,AAACN,YAAY,AAAA,0FAAA,AAAAO,gBAAWV;GAJ/D,yEAME;AAAA,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,oCAAA,mDAAA,WAAAW;AAAA,AAEe,4FAAA,4DAAAA,jJAACH,mDAAMR,kBAAaS;;;;AAdvD,AAAA,kDAAA,iFAAA,uFAAA,pGAgBiBP,0FACII,8EACLN","names":["p__30316","map__30317","cljs.core/--destructure-map","cljs.core.get","webapp.components.codemirror-editor/editor","state","p1__30310#","!editor-view","cljs.core.atom","editor-state","lambda-view","js/module$node_modules$$codemirror$basic_setup$dist$index_cjs.EditorView","cljs.core/clj->js","component","reagent.core.create_class","cljs.core.swap_BANG_","cljs.core/assoc","cljs.core/deref","p1__30311#"],"sourcesContent":["(ns webapp.components.codemirror-editor\n  (:require\n   [reagent.core :as r]\n   [\"@codemirror/basic-setup\" :as cm]\n   [\"@codemirror/state\" :as cm-state]\n   [\"@codemirror/view\" :as cm-view]\n   [\"@codemirror/lang-javascript\" :as cm-js]\n   [\"@codemirror/lang-sql\" :as cm-sql]\n   [\"@codemirror/lang-python\" :as cm-python]\n   [\"@codemirror/stream-parser\" :as cm-sp]\n   [\"@codemirror/legacy-modes/mode/shell\" :as cm-shell]\n   ))\n\n(defn editor\n  [{:keys [state]}]\n  (let [!editor-view (atom {:current nil})\n        editor-state (state)\n        lambda-view #(new cm/EditorView\n                          (clj->js {:state editor-state\n                                    :parent %}))\n        component (fn []\n                    (r/create-class\n                     {:display-name \"codemirror-editor\"\n                      :component-did-mount\n                      (fn []\n                        (swap! !editor-view assoc :current (lambda-view (:current @!editor-view ))))\n                      :reagent-render\n                      (fn []\n                        [:div {:class \"rounded-lg overflow-scroll border\"\n                               :ref #(swap! !editor-view assoc :current %)}])}))\n        ]\n    {:editor-state editor-state\n     :editor-component component\n     :editor-view !editor-view}\n  ))\n"]}