{
"version":3,
"file":"module$node_modules$$sentry$tracing$dist$browser$backgroundtab.js",
"lineCount":3,
"mappings":"AAAAA,cAAA,CAAA,8DAAA,CAAmF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAC3HC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,8CAAR,CAAd,CACIO,YAAcP,OAAA,CAAQ,oDAAR,CADlB,CAEIQ,aAAeR,OAAA,CAAQ,qDAAR,CAFnB,CAGIS,QAAUT,OAAA,CAAQ,gDAAR,CACVD,OAAJ,CAAaO,OAAQI,CAAAA,eAAR,EA0BbR,QAAQS,CAAAA,8BAAR;AArBAA,QAAuC,EAAG,CAClCZ,MAAJ,EAAcA,MAAOa,CAAAA,QAArB,CACIb,MAAOa,CAAAA,QAASC,CAAAA,gBAAhB,CAAiC,kBAAjC,CAAqD,QAAS,EAAG,CAC7D,IAAIC,kBAAoBL,OAAQM,CAAAA,oBAAR,EACpBhB,OAAOa,CAAAA,QAASI,CAAAA,MAApB,EAA8BF,iBAA9B,GACIR,OAAQW,CAAAA,MAAOC,CAAAA,GAAf,CAAmB,yBAAnB,CAA+CV,YAAaW,CAAAA,UAAWC,CAAAA,SAAvE,CAAmF,gDAAnF,CAAmIN,iBAAkBO,CAAAA,EAArJ,CAQA,CALKP,iBAAkBQ,CAAAA,MAKvB,EAJIR,iBAAkBS,CAAAA,SAAlB,CAA4Bf,YAAaW,CAAAA,UAAWC,CAAAA,SAApD,CAIJ,CAFAN,iBAAkBU,CAAAA,MAAlB,CAAyB,kBAAzB,CAA6C,iBAA7C,CAEA,CADAV,iBAAkBU,CAAAA,MAAlB,CAAyBjB,WAAYkB,CAAAA,iBAArC;AAAwDlB,WAAYmB,CAAAA,+BAAZ,CAA4C,CAA5C,CAAxD,CACA,CAAAZ,iBAAkBa,CAAAA,MAAlB,EATJ,CAF6D,CAAjE,CADJ,CAiBIrB,OAAQW,CAAAA,MAAOW,CAAAA,IAAf,CAAoB,oFAApB,CAlBkC,CAXiF;",
"sources":["node_modules/@sentry/tracing/dist/browser/backgroundtab.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$tracing$dist$browser$backgroundtab\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar utils_1 = require(\"@sentry/utils\");\nvar constants_1 = require(\"../constants\");\nvar spanstatus_1 = require(\"../spanstatus\");\nvar utils_2 = require(\"../utils\");\nvar global = utils_1.getGlobalObject();\n/**\n * Add a listener that cancels and finishes a transaction when the global\n * document is hidden.\n */\nfunction registerBackgroundTabDetection() {\n    if (global && global.document) {\n        global.document.addEventListener('visibilitychange', function () {\n            var activeTransaction = utils_2.getActiveTransaction();\n            if (global.document.hidden && activeTransaction) {\n                utils_1.logger.log(\"[Tracing] Transaction: \" + spanstatus_1.SpanStatus.Cancelled + \" -> since tab moved to the background, op: \" + activeTransaction.op);\n                // We should not set status if it is already set, this prevent important statuses like\n                // error or data loss from being overwritten on transaction.\n                if (!activeTransaction.status) {\n                    activeTransaction.setStatus(spanstatus_1.SpanStatus.Cancelled);\n                }\n                activeTransaction.setTag('visibilitychange', 'document.hidden');\n                activeTransaction.setTag(constants_1.FINISH_REASON_TAG, constants_1.IDLE_TRANSACTION_FINISH_REASONS[2]);\n                activeTransaction.finish();\n            }\n        });\n    }\n    else {\n        utils_1.logger.warn('[Tracing] Could not set up background tab detection due to lack of global document');\n    }\n}\nexports.registerBackgroundTabDetection = registerBackgroundTabDetection;\n//# sourceMappingURL=backgroundtab.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","utils_1","constants_1","spanstatus_1","utils_2","getGlobalObject","registerBackgroundTabDetection","document","addEventListener","activeTransaction","getActiveTransaction","hidden","logger","log","SpanStatus","Cancelled","op","status","setStatus","setTag","FINISH_REASON_TAG","IDLE_TRANSACTION_FINISH_REASONS","finish","warn"]
}
