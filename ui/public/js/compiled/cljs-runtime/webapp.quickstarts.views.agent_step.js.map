{"version":3,"sources":["webapp/quickstarts/views/agent_step.cljs"],"mappings":";AAUA;;;+CAAA,/CAAMA,sGAAmCC,IAAIC,QAAQC,gBAAgBC;AAArE,AACE,IAAAC,WAAMJ;AAAN,AAAA,QAAAI;KAAA;AAAA,0FAAA,mDAAA,8HAAA,2CAAA,0DAAA,2DAAA,oOAAA,/aAEuBE,gQAEO,4DAAA,5DAACC,oIAAuCN,QAAQC,gBAAgBC;;;KAJ9F;AAAA,0FAAA,mDAAA,8HAAA,2CAAA,0DAAA,2DAAA,qOAAA,hbAMuBG,gQAEO,4DAAA,5DAACC,qIAAuCN,QAAQC,gBAAgBC;;;KAR9F;AAAA,0FAAA,mDAAA,8HAAA,2CAAA,0DAAA,2DAAA,mPAAA,9bAU8BG,gQAEO,4DAAA,5DAACC,mJAA8CN,QAAQC,gBAAgBC;;;;AAZ5G,MAAA,KAAAE,MAAA,CAAA,mEAAAD;;;;AAcF,2CAAA,3CAAMI,8FACHC,4BAAyBC,EAAEC;AAD9B,AAEE,IAAMC,cAAY,gDAAA,hDAACC;AAAnB,AACE,kBAAKH,MAAET,QAAQS,MAAER,gBAAgBC,UAAUgB,YAAYC;AAAvD,AAAA,0FAAA,sDAAA,2CAAA,+DAEe,WAAKC;AAAL,AACE,AAAiBA;;AACjB,QAACV,mDAAAA,qDAAAA;WAJlB,mFAAA,mDAAA,2CAAA,wDAAA,qBAAA,mFAAA,mDAAA,2CAAA,wDAAA,yCAAA,iHAAA,2CAAA,uDAAA,sCAAA,mEAAA,gBAAA,+DAAA,WAAAG,nUAOMQ;AAPN,AAS+B,OAACC,sBAAOJ,YAAY,AAAA,AAAAL;GATnD,6DAAA,KAAA,sDAAA,AAAAC,qxCAAA,iHAAA,uCAAA,mFAAA,uDAAA,2CAAA,wDAAA,yCAAA,kHAAA,mFAAA,mDAAA,2CAAA,wDAAA,yCAAA,iHAAA,2CAAA,uDAAA,2CAAA,+DAAA,WAAAC,/3EAW2BG,qCAEvB,qLAAA,AAAA,mFAAA,mDAAA,2CAAA,wDAAA,qBAAA,mFAAA,uDAAA,2CAAA,wDAAA,2DAAA,0DAAA,mFAAA,mDAAA,2CAAA,wDAAA,4NAAA,xtCAAM,AAACK,cAAI,CAACf,4DAAAA,8DAAAA,45BAKR,CAACA,4DAAAA,8DAAAA,iJAEJgB,kzBAKCH;AAzBN,AA0B+B,OAACC,sBAAOrB,gBAAgB,AAAA,AAAAc;GA1BvD,6DAAA,KAAA,sDAAA,AAAAD,iDAAA,iHAAA,2CAAA,uDAAA,iBAAA,mEAAA,kBAAA,+DAAA,WAAAE,paA4B2Bf,oHACrBoB;AA7BN,AA+B+B,OAACC,sBAAOpB,UAAU,AAAA,AAAAc;GA/BjD,6DAAA,MAAA,sDAAA,AAAAF,2DAAA,mFAAA,mDAAA,2CAAA,wDAAA,qBAAA,iHAAA,qBAAA,mFAAA,uDAAA,2CAAA,wDAAA,8BAAA,oFAAA,+GAAA,2CAAA,+DAAA,WAAAG,l/BAiC2Bf,4XAGtBsB,qeAIAC;AAxCL,AAwC4B,yCAAAR,lCAACK,sBAAOX;GAxCpC,qDAAA,mFAAA,mBAAA,mBAAA,kDAAA,gIAAA,AAAAG,qCAAA,AAAAA,iCAAA,AAAAA,4EAAA,mFAAA,mDAAA,2CAAA,wDAAA,+DAAA,mFAAA,yEAAA,mFAAA,uDAAA,2CAAA,wDAAA,8BAAA,0KAAA,mFAAA,3oCA0CKhB,6DAAUa,aAAYX,wBAASC,iCAAiBC,2BAClD,AAACwB,sjCAMC,iCAAA,2CAAA,sDAAA,oBAAA,oWAAA,qDAAA,/iBAACC,oNAC0B,0RAAA,1RAACC,6CAAE,AAAA,wFAAS,CAACT,uDAAAA,yDAAAA","names":["webapp.quickstarts.views.agent-step/tab-view","tab","configs","secret-path-env","agent-tag","G__31547","js/Error","webapp.components.logs-container/container","webapp.utilities/script-agent","webapp.quickstarts.views.agent-step/main","component->config-inputs","_","request-agent-list","script-view","reagent.core.atom","p1__31551#","cljs.core/deref","p1__31552#","p1__31553#","p1__31554#","target-name","get-current-step-infos","e","webapp.components.forms/input","cljs.core/reset!","cljs.core/seq","webapp.components.headings/h4","webapp.components.tabs/tabs","webapp.components.divider/main","webapp.components.button/primary","cljs.core._EQ_"],"sourcesContent":["(ns webapp.quickstarts.views.agent-step\n  (:require [reagent.core :as r]\n            [webapp.components.headings :as headings]\n            [webapp.components.divider :as divider]\n            [webapp.components.button :as button]\n            [webapp.components.logs-container :as logs]\n            [webapp.components.tabs :as tabs]\n            [webapp.utilities :as utilities]\n            [webapp.components.forms :as forms]))\n\n(defn tab-view \"Kubernets - Raw Script\" [tab configs secret-path-env agent-tag]\n  (case tab\n    \"Kubernets - Bash\" [:div\n                        [logs/container\n                         {:status :success\n                          :logs (utilities/script-agent :kubernets-bash configs secret-path-env agent-tag)} \"\"]]\n    \"Kubernets - Helm\" [:div\n                        [logs/container\n                         {:status :success\n                          :logs (utilities/script-agent :kubernets-heml configs secret-path-env agent-tag)} \"\"]]\n    \"Localhost - Docker/Bash\" [:div\n                               [logs/container\n                                {:status :success\n                                 :logs (utilities/script-agent :localhost-docker-bash configs secret-path-env agent-tag)} \"\"]]))\n\n(defn main\n  [component->config-inputs _ request-agent-list]\n  (let [script-view (r/atom \"Kubernets - Helm\")]\n    (fn [_ configs _ secret-path-env agent-tag target-name get-current-step-infos]\n      [:form\n       {:on-submit (fn [e]\n                     (.preventDefault e)\n                     (request-agent-list))}\n       [:div {:class \"my-regular\"}\n        [:div {:class \"grid grid-cols-2 gap-x-regular\"}\n         [forms/input {:label \"Give a nickname for your connection\"\n                       :placeholder \"my-mysql-test\"\n                       :on-change #(reset! target-name (-> % .-target .-value))\n                       :required true\n                       :value @target-name}]]\n\n        (when (seq (component->config-inputs))\n          [:div {:class \"my-regular\"}\n           [:label {:class \"mb-small block text-sm font-medium text-gray-700\"}\n            \"Complete the configurations of your connection:\"]\n           [:div {:class \"grid grid-cols-2 gap-x-regular\"}\n            (component->config-inputs)]])\n\n        [headings/h4 \"Environment's configurations\"]\n        [:small {:class \"block mb-regular text-gray-600\"}\n         \"Here we will configure the environment which will run your connection. We named this environment Agent.\"]\n\n        [:div {:class \"grid grid-cols-2 gap-x-regular\"}\n         [forms/input {:label \"Environment variable for your connection\"\n                       :on-change #(reset! secret-path-env (-> % .-target .-value))\n                       :required true\n                       :value @secret-path-env}]\n         [forms/input {:label \"Agent nickname\"\n                       :placeholder \"(empty allowed)\"\n                       :on-change #(reset! agent-tag (-> % .-target .-value))\n                       :required false\n                       :value @agent-tag}]]]\n\n       [:div {:class \"my-regular\"}\n        [headings/h4 \"Run Script\"]\n        [:small {:class \"block text-gray-600\"}\n         \"Here's everything you need to get the environment (Agent) up and running.\"]\n\n        [tabs/tabs {:on-change #(reset! script-view %)\n                    :tabs [\"Kubernets - Helm\" \"Kubernets - Bash\" \"Localhost - Docker/Bash\"]}]\n        [tab-view @script-view configs @secret-path-env @agent-tag]]\n       (divider/main)\n       [:div {:class \"grid grid-cols-4 gap-regular items-center my-regular\"}\n        [:div.col-span-3\n         [:small {:class \"block text-gray-600\"}\n          \"After configuring your agent, verify here if everything is ok and go to the next step. If everything is ok it will create your connection (target) too!\"]]\n        [:div.col-span-1\n         (button/primary {:text \"Verify and Create\"\n                          :disabled (= (:status (get-current-step-infos)) \"complete\")\n                          :type \"submit\"})]]])))\n"]}