{
"version":3,
"file":"module$node_modules$$sentry$hub$dist$session.js",
"lineCount":5,
"mappings":"AAAAA,cAAA,CAAA,4CAAA,CAAiE,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CACzGC,MAAOC,CAAAA,cAAP,CAAsBF,OAAtB,CAA+B,YAA/B,CAA6C,CAAEG,MAAO,CAAA,CAAT,CAA7C,CACA,KAAIC,QAAUN,OAAA,CAAQ,8CAAR,CAAd,CACIO,QAAUP,OAAA,CAAQ,8CAAR,CAIVQ,OAAAA,CAAyB,QAAS,EAAG,CACrCA,QAASA,QAAO,CAACC,OAAD,CAAU,CACtB,IAAKC,CAAAA,MAAL,CAAc,CACd,KAAKC,CAAAA,GAAL,CAAWJ,OAAQK,CAAAA,KAAR,EACX,KAAKC,CAAAA,QAAL,CAAgB,CAChB,KAAKC,CAAAA,MAAL,CAAcR,OAAQS,CAAAA,aAAcC,CAAAA,EACpC,KAAKC,CAAAA,IAAL,CAAY,CAAA,CACZ,KAAKC,CAAAA,cAAL,CAAsB,CAAA,CAEtB,KAAIC,aAAeZ,OAAQa,CAAAA,kBAAR,EAEnB;IAAKC,CAAAA,OAAL,CADA,IAAKC,CAAAA,SACL,CADiBH,YAEbV,QAAJ,EACI,IAAKc,CAAAA,MAAL,CAAYd,OAAZ,CAZkB,CAiB1BD,OAAQgB,CAAAA,SAAUD,CAAAA,MAAlB,CAA2BE,QAAS,CAAChB,OAAD,CAAU,CAC1B,IAAK,EAArB,GAAIA,OAAJ,GAA0BA,OAA1B,CAAoC,EAApC,CACIA,QAAQiB,CAAAA,IAAZ,GACQ,CAAC,IAAKC,CAAAA,SAGV,EAHuBlB,OAAQiB,CAAAA,IAAKE,CAAAA,UAGpC,GAFI,IAAKD,CAAAA,SAET,CAFqBlB,OAAQiB,CAAAA,IAAKE,CAAAA,UAElC,EAAK,IAAKC,CAAAA,GAAV,EAAkBpB,OAAQoB,CAAAA,GAA1B,GACI,IAAKA,CAAAA,GADT,CACepB,OAAQiB,CAAAA,IAAKI,CAAAA,EAD5B,EACkCrB,OAAQiB,CAAAA,IAAKK,CAAAA,KAD/C,EACwDtB,OAAQiB,CAAAA,IAAKM,CAAAA,QADrE,CAJJ,CAQA,KAAKV,CAAAA,SAAL,CAAiBb,OAAQa,CAAAA,SAAzB,EAAsCf,OAAQa,CAAAA,kBAAR,EAClCX,QAAQS,CAAAA,cAAZ,GACI,IAAKA,CAAAA,cADT,CAC0BT,OAAQS,CAAAA,cADlC,CAGIT,QAAQE,CAAAA,GAAZ,GAEI,IAAKA,CAAAA,GAFT,CAEsC,EAAvB,GAAAF,OAAQE,CAAAA,GAAIsB,CAAAA,MAAZ;AAA4BxB,OAAQE,CAAAA,GAApC,CAA0CJ,OAAQK,CAAAA,KAAR,EAFzD,CAIqBsB,KAAAA,EAArB,GAAIzB,OAAQQ,CAAAA,IAAZ,GACI,IAAKA,CAAAA,IADT,CACgBR,OAAQQ,CAAAA,IADxB,CAGI,EAAC,IAAKY,CAAAA,GAAV,EAAiBpB,OAAQoB,CAAAA,GAAzB,GACI,IAAKA,CAAAA,GADT,CACe,EADf,CACoBpB,OAAQoB,CAAAA,GAD5B,CAG+B,SAA/B,GAAI,MAAOpB,QAAQY,CAAAA,OAAnB,GACI,IAAKA,CAAAA,OADT,CACmBZ,OAAQY,CAAAA,OAD3B,CAGA,IAAI,IAAKH,CAAAA,cAAT,CACI,IAAKL,CAAAA,QAAL,CAAgBqB,IAAAA,EADpB,KAGK,IAAgC,QAAhC,GAAI,MAAOzB,QAAQI,CAAAA,QAAnB,CACD,IAAKA,CAAAA,QAAL,CAAgBJ,OAAQI,CAAAA,QADvB,KAGA,CACD,IAAIA,SAAW,IAAKS,CAAAA,SAAhBT,CAA4B,IAAKQ,CAAAA,OACrC,KAAKR,CAAAA,QAAL,CAA4B,CAAZ,EAAAA,QAAA,CAAgBA,QAAhB,CAA2B,CAF1C,CAIDJ,OAAQ0B,CAAAA,OAAZ,GACI,IAAKA,CAAAA,OADT,CACmB1B,OAAQ0B,CAAAA,OAD3B,CAGI1B,QAAQ2B,CAAAA,WAAZ,GACI,IAAKA,CAAAA,WADT,CACuB3B,OAAQ2B,CAAAA,WAD/B,CAGI;CAAC,IAAKT,CAAAA,SAAV,EAAuBlB,OAAQkB,CAAAA,SAA/B,GACI,IAAKA,CAAAA,SADT,CACqBlB,OAAQkB,CAAAA,SAD7B,CAGI,EAAC,IAAKU,CAAAA,SAAV,EAAuB5B,OAAQ4B,CAAAA,SAA/B,GACI,IAAKA,CAAAA,SADT,CACqB5B,OAAQ4B,CAAAA,SAD7B,CAG8B,SAA9B,GAAI,MAAO5B,QAAQC,CAAAA,MAAnB,GACI,IAAKA,CAAAA,MADT,CACkBD,OAAQC,CAAAA,MAD1B,CAGID,QAAQK,CAAAA,MAAZ,GACI,IAAKA,CAAAA,MADT,CACkBL,OAAQK,CAAAA,MAD1B,CApD0C,CAyD9CN,QAAQgB,CAAAA,SAAUc,CAAAA,KAAlB,CAA0BC,QAAS,CAACzB,MAAD,CAAS,CACpCA,MAAJ,CACI,IAAKS,CAAAA,MAAL,CAAY,CAAUT,MAAV,CAAZ,CADJ,CAGS,IAAKA,CAAAA,MAAT,GAAoBR,OAAQS,CAAAA,aAAcC,CAAAA,EAA1C,CACD,IAAKO,CAAAA,MAAL,CAAY,CAAET,OAAQR,OAAQS,CAAAA,aAAcyB,CAAAA,MAAhC,CAAZ,CADC,CAID,IAAKjB,CAAAA,MAAL,EARoC,CAY5Cf,QAAQgB,CAAAA,SAAUiB,CAAAA,MAAlB,CAA2BC,QAAS,EAAG,CACnC,MAAOnC,QAAQoC,CAAAA,iBAAR,CAA0B,CAC7BhC,IAAK,EAALA;AAAU,IAAKA,CAAAA,GADc,CAE7BM,KAAM,IAAKA,CAAAA,IAFkB,CAI7BI,QAAuCuB,CAA9B,IAAIC,IAAJ,CAAwB,GAAxB,CAAS,IAAKxB,CAAAA,OAAd,CAA8BuB,EAAAA,WAA9B,EAJoB,CAK7BtB,UAA2CsB,CAAhC,IAAIC,IAAJ,CAA0B,GAA1B,CAAS,IAAKvB,CAAAA,SAAd,CAAgCsB,EAAAA,WAAhC,EALkB,CAM7B9B,OAAQ,IAAKA,CAAAA,MANgB,CAO7BJ,OAAQ,IAAKA,CAAAA,MAPgB,CAQ7BmB,IAAyB,QAApB,GAAA,MAAO,KAAKA,CAAAA,GAAZ,EAAoD,QAApD,GAAgC,MAAO,KAAKA,CAAAA,GAA5C,CAA+D,EAA/D,CAAoE,IAAKA,CAAAA,GAAzE,CAA+EK,IAAAA,EARvD,CAS7BrB,SAAU,IAAKA,CAAAA,QATc,CAU7BiC,MAAOvC,OAAQoC,CAAAA,iBAAR,CAA0B,CAC7BR,QAAS,IAAKA,CAAAA,OADe,CAE7BC,YAAa,IAAKA,CAAAA,WAFW,CAG7BR,WAAY,IAAKD,CAAAA,SAHY,CAI7BoB,WAAY,IAAKV,CAAAA,SAJY,CAA1B,CAVsB,CAA1B,CAD4B,CAmBvC,OAAO7B,QA1G8B,CAAZ,EA4G7BN,QAAQM,CAAAA,OAAR,CAAkBA,MAnHuF;",
"sources":["node_modules/@sentry/hub/dist/session.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$sentry$hub$dist$session\"] = function(global,require,module,exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar types_1 = require(\"@sentry/types\");\nvar utils_1 = require(\"@sentry/utils\");\n/**\n * @inheritdoc\n */\nvar Session = /** @class */ (function () {\n    function Session(context) {\n        this.errors = 0;\n        this.sid = utils_1.uuid4();\n        this.duration = 0;\n        this.status = types_1.SessionStatus.Ok;\n        this.init = true;\n        this.ignoreDuration = false;\n        // Both timestamp and started are in seconds since the UNIX epoch.\n        var startingTime = utils_1.timestampInSeconds();\n        this.timestamp = startingTime;\n        this.started = startingTime;\n        if (context) {\n            this.update(context);\n        }\n    }\n    /** JSDoc */\n    // eslint-disable-next-line complexity\n    Session.prototype.update = function (context) {\n        if (context === void 0) { context = {}; }\n        if (context.user) {\n            if (!this.ipAddress && context.user.ip_address) {\n                this.ipAddress = context.user.ip_address;\n            }\n            if (!this.did && !context.did) {\n                this.did = context.user.id || context.user.email || context.user.username;\n            }\n        }\n        this.timestamp = context.timestamp || utils_1.timestampInSeconds();\n        if (context.ignoreDuration) {\n            this.ignoreDuration = context.ignoreDuration;\n        }\n        if (context.sid) {\n            // Good enough uuid validation. \u2014 Kamil\n            this.sid = context.sid.length === 32 ? context.sid : utils_1.uuid4();\n        }\n        if (context.init !== undefined) {\n            this.init = context.init;\n        }\n        if (!this.did && context.did) {\n            this.did = \"\" + context.did;\n        }\n        if (typeof context.started === 'number') {\n            this.started = context.started;\n        }\n        if (this.ignoreDuration) {\n            this.duration = undefined;\n        }\n        else if (typeof context.duration === 'number') {\n            this.duration = context.duration;\n        }\n        else {\n            var duration = this.timestamp - this.started;\n            this.duration = duration >= 0 ? duration : 0;\n        }\n        if (context.release) {\n            this.release = context.release;\n        }\n        if (context.environment) {\n            this.environment = context.environment;\n        }\n        if (!this.ipAddress && context.ipAddress) {\n            this.ipAddress = context.ipAddress;\n        }\n        if (!this.userAgent && context.userAgent) {\n            this.userAgent = context.userAgent;\n        }\n        if (typeof context.errors === 'number') {\n            this.errors = context.errors;\n        }\n        if (context.status) {\n            this.status = context.status;\n        }\n    };\n    /** JSDoc */\n    Session.prototype.close = function (status) {\n        if (status) {\n            this.update({ status: status });\n        }\n        else if (this.status === types_1.SessionStatus.Ok) {\n            this.update({ status: types_1.SessionStatus.Exited });\n        }\n        else {\n            this.update();\n        }\n    };\n    /** JSDoc */\n    Session.prototype.toJSON = function () {\n        return utils_1.dropUndefinedKeys({\n            sid: \"\" + this.sid,\n            init: this.init,\n            // Make sure that sec is converted to ms for date constructor\n            started: new Date(this.started * 1000).toISOString(),\n            timestamp: new Date(this.timestamp * 1000).toISOString(),\n            status: this.status,\n            errors: this.errors,\n            did: typeof this.did === 'number' || typeof this.did === 'string' ? \"\" + this.did : undefined,\n            duration: this.duration,\n            attrs: utils_1.dropUndefinedKeys({\n                release: this.release,\n                environment: this.environment,\n                ip_address: this.ipAddress,\n                user_agent: this.userAgent,\n            }),\n        });\n    };\n    return Session;\n}());\nexports.Session = Session;\n//# sourceMappingURL=session.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","types_1","utils_1","Session","context","errors","sid","uuid4","duration","status","SessionStatus","Ok","init","ignoreDuration","startingTime","timestampInSeconds","started","timestamp","update","prototype","Session.prototype.update","user","ipAddress","ip_address","did","id","email","username","length","undefined","release","environment","userAgent","close","Session.prototype.close","Exited","toJSON","Session.prototype.toJSON","dropUndefinedKeys","toISOString","Date","attrs","user_agent"]
}
