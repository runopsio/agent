{"version":3,"sources":["webapp/auth/views/login_panel.cljs"],"mappings":";AASA,uCAAA,vCAAMA,sFAAQC;AAAd,AACE,qBAAA,rBAAUC,wCAAmCD;;AAC7C,8BAAA,mFAAA,1GAACE,oNAAoCF;;AAEvC,AAAKG,sCAAM,AAACC,gDAAO,iBAAAC,mBAAI,qBAAA,rBAAUJ;AAAd,AAAA,oBAAAI;AAAAA;;AAAA;;;AACnB,AAAKC,wCAAQ,gDAAA,hDAACF;AAEd,sCAAA,tCAAMK;AAAN,AAAA,0FAAA,gGAAA,mFAAA,2HAAA,mFAAA,oFAAA,mFAAA,mDAAA,2CAAA,oDAAA,wDAAA,iHAAA,0CAAA,mFAAA,yJAAA,mFAAA,sDAAA,2CAAA,xeAKKC,uiBAGY,WAAKC;AAAL,AACE,AAAiBA;;AACjB,AAACC,sBAAON,sCAAQ,cAAA,AAAAE,dAACK,8BAAKP;;AACtB,4CAAA,AAAAE,rCAACT,qDAAQI;WAX5B,mFAAA,mDAAA,iHAAA,2CAAA,uDAAA,QAAA,+DAAA,WAAAI,lNAaOO;AAbP,AAcgC,OAACF,sBAAOT,oCAAM,AAAA,AAAAI;GAd9C,qDAAA,QAAA,mEAAA,kBAAA,sDAAA,AAAAC,qDAAA,6DAAA,6BAAA,mFAAA,siBAAA,mFAAA,+FAAA,mFAAA,4FAAA,2CAAA,qDAAA,kBAAA,3sCAiB4BL,oRAGtB,iCAAA,2CAAA,sDAAA,QAAA,qMAAA,iEAAA,KAAA,qDAAA,1cAACY,oMACwB,kBAAA,AAAAP,wDAAA,AAAA,2DAAA,nGAAOF","names":["webapp.auth.views.login-panel/submit","email","js/localStorage","re-frame.core/dispatch","webapp.auth.views.login-panel/email","reagent.core.atom","or__4253__auto__","webapp.auth.views.login-panel/loading","p1__32083#","cljs.core/deref","webapp.auth.views.login-panel/panel","webapp.components.headings/h2","e","cljs.core/reset!","cljs.core/not","webapp.components.forms/input","webapp.components.button/primary"],"sourcesContent":["(ns webapp.auth.views.login-panel\n  (:require\n   [reagent.core :as r]\n   [re-frame.core :as rf]\n   [webapp.auth.events :as events]\n   [webapp.components.button :as button]\n   [webapp.components.forms :as forms]\n   [webapp.components.headings :as h]))\n\n(defn submit [email]\n  (.setItem js/localStorage \"user_email_login\" email)\n  (rf/dispatch [::events/get-auth-link email]))\n\n(def email (r/atom (or (.getItem js/localStorage \"user_email_login\") \"\")))\n(def loading (r/atom false))\n\n(defn panel []\n  [:div.md:w-96.w-full.m-auto\n   [:header.grid.place-items-center.mb-large\n    [:figure.w-16.mb-large\n    [:img {:src \"/images/runops-icon-black.svg\"}]]\n    [h/h2 \"Sign in to your account\"]]\n   [:section.px-regular.py-large.rounded-lg.bg-white.border\n    [:form\n     {:on-submit (fn [e]\n                   (.preventDefault e)\n                   (reset! loading (not @loading))\n                   (submit @email))}\n     [:div\n      [forms/input {:label \"Email\"\n                    :on-change #(reset! email (-> % .-target .-value))\n                    :type \"email\"\n                    :placeholder \"Type your email\"\n                    :value @email\n                    :required true}]]\n     [:div.w-full\n      (button/primary {:text \"Login\"\n                       :status (when @loading :loading)\n                       :full-width true\n                       :type \"submit\"})]\n     [:div.pt-regular.text-right\n      [:a.text-blue-500.text-sm\n       {:href \"/signup\"}\n       \"I do not have an account\"]]]]])\n"]}