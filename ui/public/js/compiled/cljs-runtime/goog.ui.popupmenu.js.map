{
"version":3,
"file":"goog.ui.popupmenu.js",
"lineCount":228,
"mappings":"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",
"sources":["goog/ui/popupmenu.js"],
"sourcesContent":["// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A menu class for showing popups.  A single popup can be\n * attached to multiple anchor points.  The menu will try to reposition itself\n * if it goes outside the viewport.\n *\n * Decoration is the same as goog.ui.Menu except that the outer DIV can have a\n * 'for' property, which is the ID of the element which triggers the popup.\n *\n * Decorate Example:\n * <button id=\"dButton\">Decorated Popup</button>\n * <div id=\"dMenu\" for=\"dButton\" class=\"goog-menu\">\n *   <div class=\"goog-menuitem\">A a</div>\n *   <div class=\"goog-menuitem\">B b</div>\n *   <div class=\"goog-menuitem\">C c</div>\n *   <div class=\"goog-menuitem\">D d</div>\n *   <div class=\"goog-menuitem\">E e</div>\n *   <div class=\"goog-menuitem\">F f</div>\n * </div>\n *\n * TESTED=FireFox 2.0, IE6, Opera 9, Chrome.\n * TODO(user): Key handling is flakey in Opera and Chrome\n *\n * @see ../demos/popupmenu.html\n */\n\ngoog.provide('goog.ui.PopupMenu');\n\ngoog.require('goog.events');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserEvent.MouseButton');\ngoog.require('goog.events.EventType');\ngoog.require('goog.events.KeyCodes');\ngoog.require('goog.positioning.AnchoredViewportPosition');\ngoog.require('goog.positioning.Corner');\ngoog.require('goog.positioning.MenuAnchoredPosition');\ngoog.require('goog.positioning.Overflow');\ngoog.require('goog.positioning.ViewportClientPosition');\ngoog.require('goog.structs.Map');\ngoog.require('goog.style');\ngoog.require('goog.ui.Component');\ngoog.require('goog.ui.Menu');\ngoog.require('goog.ui.PopupBase');\n\n\n\n/**\n * A basic menu class.\n * @param {?goog.dom.DomHelper=} opt_domHelper Optional DOM helper.\n * @param {?goog.ui.MenuRenderer=} opt_renderer Renderer used to render or\n *     decorate the container; defaults to {@link goog.ui.MenuRenderer}.\n * @extends {goog.ui.Menu}\n * @constructor\n */\ngoog.ui.PopupMenu = function(opt_domHelper, opt_renderer) {\n  goog.ui.Menu.call(this, opt_domHelper, opt_renderer);\n\n  this.setAllowAutoFocus(true);\n\n  // Popup menus are hidden by default.\n  this.setVisible(false, true);\n\n  /**\n   * Map of attachment points for the menu.  Key -> Object\n   * @type {!goog.structs.Map}\n   * @private\n   */\n  this.targets_ = new goog.structs.Map();\n};\ngoog.inherits(goog.ui.PopupMenu, goog.ui.Menu);\ngoog.tagUnsealableClass(goog.ui.PopupMenu);\n\n\n/**\n * If true, then if the menu will toggle off if it is already visible.\n * @type {boolean}\n * @private\n */\ngoog.ui.PopupMenu.prototype.toggleMode_ = false;\n\n/**\n * If true, then the browser context menu will override the menu activation when\n * the shift key is held down.\n * @type {boolean}\n * @private\n */\ngoog.ui.PopupMenu.prototype.shiftOverride_ = false;\n\n\n/**\n * Time that the menu was last shown.\n * @type {number}\n * @private\n */\ngoog.ui.PopupMenu.prototype.lastHide_ = 0;\n\n\n/**\n * Current element where the popup menu is anchored.\n * @type {?Element}\n * @private\n */\ngoog.ui.PopupMenu.prototype.currentAnchor_ = null;\n\n\n/**\n * Decorate an existing HTML structure with the menu. Menu items will be\n * constructed from elements with classname 'goog-menuitem', separators will be\n * made from HR elements.\n * @param {?Element} element Element to decorate.\n * @override\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.decorateInternal = function(element) {\n  goog.ui.PopupMenu.superClass_.decorateInternal.call(this, element);\n  // 'for' is a custom attribute for attaching the menu to a click target\n  var htmlFor = element.getAttribute('for') || element.htmlFor;\n  if (htmlFor) {\n    this.attach(\n        this.getDomHelper().getElement(htmlFor),\n        goog.positioning.Corner.BOTTOM_LEFT);\n  }\n};\n\n\n/** @override */\ngoog.ui.PopupMenu.prototype.enterDocument = function() {\n  goog.ui.PopupMenu.superClass_.enterDocument.call(this);\n\n  this.targets_.forEach(this.attachEvent_, this);\n\n  var handler = this.getHandler();\n  handler.listen(this, goog.ui.Component.EventType.ACTION, this.onAction_);\n  handler.listen(\n      this.getDomHelper().getDocument(), goog.events.EventType.MOUSEDOWN,\n      this.onDocClick, true);\n};\n\n\n/**\n * Attaches the menu to a new popup position and anchor element.  A menu can\n * only be attached to an element once, since attaching the same menu for\n * multiple positions doesn't make sense.\n *\n * @param {?Element} element Element whose click event should trigger the menu.\n * @param {?goog.positioning.Corner=} opt_targetCorner Corner of the target that\n *     the menu should be anchored to.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n * @param {boolean=} opt_contextMenu Whether the menu should show on\n *     {@link goog.events.EventType.CONTEXTMENU} events, false if it should\n *     show on {@link goog.events.EventType.MOUSEDOWN} events. Default is\n *     MOUSEDOWN.\n * @param {?goog.math.Box=} opt_margin Margin for the popup used in positioning\n *     algorithms.\n */\ngoog.ui.PopupMenu.prototype.attach = function(\n    element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin) {\n\n  if (this.isAttachTarget(element)) {\n    // Already in the popup, so just return.\n    return;\n  }\n\n  var target = this.createAttachTarget(\n      element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin);\n\n  if (this.isInDocument()) {\n    this.attachEvent_(target);\n  }\n\n  // Add a listener for keyboard actions on the menu.\n  var handler = goog.partial(this.onMenuKeyboardAction_, element);\n  if (this.getElement()) {\n    this.getHandler().listen(\n        this.getElement(), goog.events.EventType.KEYDOWN, handler);\n  }\n};\n\n\n/**\n * Handles keyboard actions on the PopupMenu, according to\n * http://www.w3.org/WAI/PF/aria-practices/#menubutton.\n *\n * <p>If the ESC key is pressed, the menu is hidden (which is handled by\n * this.onAction_), and the focus is returned to the element whose click event\n * triggered opening of the menu.\n *\n * <p>If the SPACE or ENTER keys are pressed, the highlighted menu item's\n * listeners are fired.\n *\n * @param {Element} element Element whose click event triggered the menu.\n * @param {!goog.events.BrowserEvent} e The key down event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onMenuKeyboardAction_ = function(element, e) {\n  if (e.keyCode == goog.events.KeyCodes.ESC) {\n    element.focus();\n    return;\n  }\n  var highlightedItem = this.getChildAt(this.getHighlightedIndex());\n  if (!highlightedItem) {\n    return;\n  }\n  var targetElement = highlightedItem.getElement();\n  // Create an event to pass to the menu item's listener.\n  var event = new goog.events.BrowserEvent(e.getBrowserEvent(), targetElement);\n  event.target = targetElement;\n  // If an item is highlighted and the user presses the SPACE/ENTER key, the\n  // event target is the menu rather than the menu item, so we manually fire\n  // the listener of the correct menu item.\n  if (e.keyCode == goog.events.KeyCodes.SPACE ||\n      e.keyCode == goog.events.KeyCodes.ENTER) {\n    goog.events.fireListeners(\n        targetElement, goog.events.EventType.KEYDOWN, false, event);\n  }\n  // After activating a menu item the PopupMenu should be hidden (already\n  // implemented in this.onAction_ for ENTER/MOUSEDOWN).\n  if (e.keyCode == goog.events.KeyCodes.SPACE) {\n    this.hide();\n  }\n};\n\n\n/**\n * Creates an object describing how the popup menu should be attached to the\n * anchoring element based on the given parameters. The created object is\n * stored, keyed by `element` and is retrievable later by invoking\n * {@link #getAttachTarget(element)} at a later point.\n *\n * Subclass may add more properties to the returned object, as needed.\n *\n * @param {?Element} element Element whose click event should trigger the menu.\n * @param {?goog.positioning.Corner=} opt_targetCorner Corner of the target that\n *     the menu should be anchored to.\n * @param {?goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n * @param {boolean=} opt_contextMenu Whether the menu should show on\n *     {@link goog.events.EventType.CONTEXTMENU} events, false if it should\n *     show on {@link goog.events.EventType.MOUSEDOWN} events. Default is\n *     MOUSEDOWN.\n * @param {?goog.math.Box=} opt_margin Margin for the popup used in positioning\n *     algorithms.\n *\n * @return {?Object} An object that describes how the popup menu should be\n *     attached to the anchoring element.\n *\n * @protected\n */\ngoog.ui.PopupMenu.prototype.createAttachTarget = function(\n    element, opt_targetCorner, opt_menuCorner, opt_contextMenu, opt_margin) {\n  if (!element) {\n    return null;\n  }\n\n  var target = {\n    element_: element,\n    targetCorner_: opt_targetCorner,\n    menuCorner_: opt_menuCorner,\n    eventType_: opt_contextMenu ? goog.events.EventType.CONTEXTMENU :\n                                  goog.events.EventType.MOUSEDOWN,\n    margin_: opt_margin\n  };\n\n  this.targets_.set(goog.getUid(element), target);\n\n  return target;\n};\n\n\n/**\n * Returns the object describing how the popup menu should be attach to given\n * element or `null`. The object is created and the association is formed\n * when {@link #attach} is invoked.\n *\n * @param {?Element} element DOM element.\n * @return {?Object} The object created when {@link attach} is invoked on\n *     `element`. Returns `null` if the element does not trigger\n *     the menu (i.e. {@link attach} has never been invoked on\n *     `element`).\n * @protected\n */\ngoog.ui.PopupMenu.prototype.getAttachTarget = function(element) {\n  return element ?\n      /** @type {?Object} */ (this.targets_.get(goog.getUid(element))) :\n                             null;\n};\n\n\n/**\n * @param {?Element} element Any DOM element.\n * @return {boolean} Whether clicking on the given element will trigger the\n *     menu.\n *\n * @protected\n */\ngoog.ui.PopupMenu.prototype.isAttachTarget = function(element) {\n  return element ? this.targets_.containsKey(goog.getUid(element)) : false;\n};\n\n\n/**\n * @return {?Element} The current element where the popup is anchored, if it's\n *     visible.\n */\ngoog.ui.PopupMenu.prototype.getAttachedElement = function() {\n  return this.currentAnchor_;\n};\n\n\n/**\n * Attaches two event listeners to a target. One with corresponding event type,\n * and one with the KEYDOWN event type for accessibility purposes.\n * @param {?Object} target The target to attach an event to.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.attachEvent_ = function(target) {\n  this.getHandler().listen(\n      target.element_, target.eventType_, this.onTargetClick_);\n  if (target.eventType_ != goog.events.EventType.CONTEXTMENU) {\n    this.getHandler().listen(\n        target.element_, goog.events.EventType.KEYDOWN,\n        this.onTargetKeyboardAction_);\n  }\n};\n\n\n/**\n * Detaches all listeners\n */\ngoog.ui.PopupMenu.prototype.detachAll = function() {\n  if (this.isInDocument()) {\n    var keys = this.targets_.getKeys();\n    for (var i = 0; i < keys.length; i++) {\n      this.detachEvent_(/** @type {!Object} */ (this.targets_.get(keys[i])));\n    }\n  }\n\n  this.targets_.clear();\n};\n\n\n/**\n * Detaches a menu from a given element.\n * @param {?Element} element Element whose click event should trigger the menu.\n */\ngoog.ui.PopupMenu.prototype.detach = function(element) {\n  if (!this.isAttachTarget(element)) {\n    throw new Error('Menu not attached to provided element, unable to detach.');\n  }\n\n  var key = goog.getUid(element);\n  if (this.isInDocument()) {\n    this.detachEvent_(/** @type {!Object} */ (this.targets_.get(key)));\n  }\n\n  this.targets_.remove(key);\n};\n\n\n/**\n * Detaches an event listener to a target\n * @param {!Object} target The target to detach events from.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.detachEvent_ = function(target) {\n  this.getHandler().unlisten(\n      target.element_, target.eventType_, this.onTargetClick_);\n};\n\n\n/**\n * Sets whether the menu should toggle if it is already open.  For context\n * menus this should be false, for toolbar menus it makes more sense to be true.\n * @param {boolean} toggle The new toggle mode.\n */\ngoog.ui.PopupMenu.prototype.setToggleMode = function(toggle) {\n  this.toggleMode_ = toggle;\n};\n\n/**\n * Sets whether the browser context menu will override the menu activation when\n * the shift key is held down.\n * @param {boolean} shiftOverride\n */\ngoog.ui.PopupMenu.prototype.setShiftOverride = function(shiftOverride) {\n  this.shiftOverride_ = shiftOverride;\n};\n\n/**\n * Gets whether the menu is in toggle mode\n * @return {boolean} toggle.\n */\ngoog.ui.PopupMenu.prototype.getToggleMode = function() {\n  return this.toggleMode_;\n};\n\n/**\n * Gets whether the browser context menu will override the menu activation when\n * the shift key is held down.\n * @return {boolean}\n */\ngoog.ui.PopupMenu.prototype.getShiftOverride = function() {\n  return this.shiftOverride_;\n};\n\n\n/**\n * Show the menu using given positioning object.\n * @param {?goog.positioning.AbstractPosition} position The positioning\n *     instance.\n * @param {goog.positioning.Corner=} opt_menuCorner The corner of the menu to be\n *     positioned.\n * @param {?goog.math.Box=} opt_margin A margin specified in pixels.\n * @param {?Element=} opt_anchor The element which acts as visual anchor for\n *     this menu.\n */\ngoog.ui.PopupMenu.prototype.showWithPosition = function(\n    position, opt_menuCorner, opt_margin, opt_anchor) {\n  var isVisible = this.isVisible();\n  if (this.isOrWasRecentlyVisible() && this.toggleMode_) {\n    this.hide();\n    return;\n  }\n\n  // Set current anchor before dispatching BEFORE_SHOW. This is typically useful\n  // when we would need to make modifications based on the current anchor to the\n  // menu just before displaying it.\n  this.currentAnchor_ = opt_anchor || null;\n\n  // Notify event handlers that the menu is about to be shown.\n  if (!this.dispatchEvent(goog.ui.Component.EventType.BEFORE_SHOW)) {\n    return;\n  }\n\n  var menuCorner = typeof opt_menuCorner != 'undefined' ?\n      opt_menuCorner :\n      goog.positioning.Corner.TOP_START;\n\n  // This is a little hacky so that we can position the menu with minimal\n  // flicker.\n\n  if (!isVisible) {\n    // On IE, setting visibility = 'hidden' on a visible menu\n    // will cause a blur, forcing the menu to close immediately.\n    this.getElement().style.visibility = 'hidden';\n  }\n\n  goog.style.setElementShown(this.getElement(), true);\n  position.reposition(this.getElement(), menuCorner, opt_margin);\n\n  if (!isVisible) {\n    this.getElement().style.visibility = 'visible';\n  }\n\n  this.setHighlightedIndex(-1);\n\n  // setVisible dispatches a goog.ui.Component.EventType.SHOW event, which may\n  // be canceled to prevent the menu from being shown.\n  this.setVisible(true);\n};\n\n\n/**\n * Show the menu at a given attached target.\n * @param {!Object} target Popup target.\n * @param {number} x The client-X associated with the show event.\n * @param {number} y The client-Y associated with the show event.\n * @protected\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.showMenu = function(target, x, y) {\n  var position = (target.targetCorner_ !== undefined) ?\n      new goog.positioning.AnchoredViewportPosition(\n          target.element_, target.targetCorner_, true) :\n      new goog.positioning.ViewportClientPosition(x, y);\n  if (position.setLastResortOverflow) {\n    // This is a ViewportClientPosition, so we can set the overflow policy.\n    // Allow the menu to slide from the corner rather than clipping if it is\n    // completely impossible to fit it otherwise.\n    position.setLastResortOverflow(\n        goog.positioning.Overflow.ADJUST_X |\n        goog.positioning.Overflow.ADJUST_Y);\n  }\n  this.showWithPosition(\n      position, target.menuCorner_, target.margin_, target.element_);\n};\n\n\n/**\n * Shows the menu immediately at the given client coordinates.\n * @param {number} x The client-X associated with the show event.\n * @param {number} y The client-Y associated with the show event.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n */\ngoog.ui.PopupMenu.prototype.showAt = function(x, y, opt_menuCorner) {\n  this.showWithPosition(\n      new goog.positioning.ViewportClientPosition(x, y), opt_menuCorner);\n};\n\n\n/**\n * Shows the menu immediately attached to the given element\n * @param {?Element} element The element to show at.\n * @param {goog.positioning.Corner} targetCorner The corner of the target to\n *     anchor to.\n * @param {goog.positioning.Corner=} opt_menuCorner Corner of the menu that\n *     should be anchored.\n */\ngoog.ui.PopupMenu.prototype.showAtElement = function(\n    element, targetCorner, opt_menuCorner) {\n  this.showWithPosition(\n      new goog.positioning.MenuAnchoredPosition(element, targetCorner, true),\n      opt_menuCorner, null, element);\n};\n\n\n/**\n * Hides the menu.\n */\ngoog.ui.PopupMenu.prototype.hide = function() {\n  if (!this.isVisible()) {\n    return;\n  }\n\n  // setVisible dispatches a goog.ui.Component.EventType.HIDE event, which may\n  // be canceled to prevent the menu from being hidden.\n  this.setVisible(false);\n  if (!this.isVisible()) {\n    // HIDE event wasn't canceled; the menu is now hidden.\n    this.lastHide_ = goog.now();\n    this.currentAnchor_ = null;\n  }\n};\n\n\n/**\n * Returns whether the menu is currently visible or was visible within about\n * 150 ms ago.  This stops the menu toggling back on if the toggleMode == false.\n * @return {boolean} Whether the popup is currently visible or was visible\n *     within about 150 ms ago.\n */\ngoog.ui.PopupMenu.prototype.isOrWasRecentlyVisible = function() {\n  return this.isVisible() || this.wasRecentlyHidden();\n};\n\n\n/**\n * Used to stop the menu toggling back on if the toggleMode == false.\n * @return {boolean} Whether the menu was recently hidden.\n * @protected\n */\ngoog.ui.PopupMenu.prototype.wasRecentlyHidden = function() {\n  return goog.now() - this.lastHide_ < goog.ui.PopupBase.DEBOUNCE_DELAY_MS;\n};\n\n\n/**\n * Dismiss the popup menu when an action fires.\n * @param {?goog.events.Event=} opt_e The optional event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onAction_ = function(opt_e) {\n  this.hide();\n};\n\n\n/**\n * Handles a browser click event on one of the popup targets.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onTargetClick_ = function(e) {\n  if (this.shiftOverride_ && e.shiftKey &&\n      e.button == goog.events.BrowserEvent.MouseButton.RIGHT) {\n    return;\n  }\n  this.onTargetActivation_(e);\n};\n\n\n/**\n * Handles a KEYDOWN browser event on one of the popup targets.\n * @param {!goog.events.BrowserEvent} e The browser event.\n * @private\n */\ngoog.ui.PopupMenu.prototype.onTargetKeyboardAction_ = function(e) {\n  if (e.keyCode == goog.events.KeyCodes.SPACE ||\n      e.keyCode == goog.events.KeyCodes.ENTER ||\n      e.keyCode == goog.events.KeyCodes.DOWN) {\n    this.onTargetActivation_(e);\n  }\n  // If the popupmenu is opened using the DOWN key, the focus should be on the\n  // first menu item.\n  if (e.keyCode == goog.events.KeyCodes.DOWN) {\n    this.highlightFirst();\n  }\n};\n\n\n/**\n * Handles a browser event on one of the popup targets.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @private\n * @suppress {strictMissingProperties} Part of the go/strict_warnings_migration\n */\ngoog.ui.PopupMenu.prototype.onTargetActivation_ = function(e) {\n  var keys = this.targets_.getKeys();\n  for (var i = 0; i < keys.length; i++) {\n    var target = /** @type {!Object} */ (this.targets_.get(keys[i]));\n    if (target.element_ == e.currentTarget) {\n      this.showMenu(target, (e.clientX), (e.clientY));\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n  }\n};\n\n\n/**\n * Handles click events that propagate to the document.\n * @param {!goog.events.BrowserEvent} e The browser event.\n * @protected\n */\ngoog.ui.PopupMenu.prototype.onDocClick = function(e) {\n  if (this.isVisible() &&\n      !this.containsElement(/** @type {!Element} */ (e.target))) {\n    this.hide();\n  }\n};\n\n\n/**\n * Handles the key event target losing focus.\n * @param {?goog.events.BrowserEvent} e The browser event.\n * @protected\n * @override\n */\ngoog.ui.PopupMenu.prototype.handleBlur = function(e) {\n  goog.ui.PopupMenu.superClass_.handleBlur.call(this, e);\n  this.hide();\n};\n\n\n/** @override */\ngoog.ui.PopupMenu.prototype.disposeInternal = function() {\n  // Always call the superclass' disposeInternal() first (Bug 715885).\n  goog.ui.PopupMenu.superClass_.disposeInternal.call(this);\n\n  // Disposes of the attachment target map.\n  if (this.targets_) {\n    this.targets_.clear();\n    delete this.targets_;\n  }\n};\n"],
"names":["goog","provide","require","ui","PopupMenu","goog.ui.PopupMenu","opt_domHelper","opt_renderer","Menu","call","setAllowAutoFocus","setVisible","targets_","structs","Map","inherits","tagUnsealableClass","prototype","toggleMode_","shiftOverride_","lastHide_","currentAnchor_","decorateInternal","goog.ui.PopupMenu.prototype.decorateInternal","element","superClass_","htmlFor","getAttribute","attach","getDomHelper","getElement","positioning","Corner","BOTTOM_LEFT","enterDocument","goog.ui.PopupMenu.prototype.enterDocument","forEach","attachEvent_","handler","getHandler","listen","Component","EventType","ACTION","onAction_","getDocument","events","MOUSEDOWN","onDocClick","goog.ui.PopupMenu.prototype.attach","opt_targetCorner","opt_menuCorner","opt_contextMenu","opt_margin","isAttachTarget","target","createAttachTarget","isInDocument","partial","onMenuKeyboardAction_","KEYDOWN","goog.ui.PopupMenu.prototype.onMenuKeyboardAction_","e","keyCode","KeyCodes","ESC","focus","highlightedItem","getChildAt","getHighlightedIndex","targetElement","event","BrowserEvent","getBrowserEvent","SPACE","ENTER","fireListeners","hide","goog.ui.PopupMenu.prototype.createAttachTarget","element_","targetCorner_","menuCorner_","eventType_","CONTEXTMENU","margin_","set","getUid","getAttachTarget","goog.ui.PopupMenu.prototype.getAttachTarget","get","goog.ui.PopupMenu.prototype.isAttachTarget","containsKey","getAttachedElement","goog.ui.PopupMenu.prototype.getAttachedElement","goog.ui.PopupMenu.prototype.attachEvent_","onTargetClick_","onTargetKeyboardAction_","detachAll","goog.ui.PopupMenu.prototype.detachAll","keys","getKeys","i","length","detachEvent_","clear","detach","goog.ui.PopupMenu.prototype.detach","Error","key","remove","goog.ui.PopupMenu.prototype.detachEvent_","unlisten","setToggleMode","goog.ui.PopupMenu.prototype.setToggleMode","toggle","setShiftOverride","goog.ui.PopupMenu.prototype.setShiftOverride","shiftOverride","getToggleMode","goog.ui.PopupMenu.prototype.getToggleMode","getShiftOverride","goog.ui.PopupMenu.prototype.getShiftOverride","showWithPosition","goog.ui.PopupMenu.prototype.showWithPosition","position","opt_anchor","isVisible","isOrWasRecentlyVisible","dispatchEvent","BEFORE_SHOW","menuCorner","TOP_START","style","visibility","setElementShown","reposition","setHighlightedIndex","showMenu","goog.ui.PopupMenu.prototype.showMenu","x","y","undefined","AnchoredViewportPosition","ViewportClientPosition","setLastResortOverflow","Overflow","ADJUST_X","ADJUST_Y","showAt","goog.ui.PopupMenu.prototype.showAt","showAtElement","goog.ui.PopupMenu.prototype.showAtElement","targetCorner","MenuAnchoredPosition","goog.ui.PopupMenu.prototype.hide","now","goog.ui.PopupMenu.prototype.isOrWasRecentlyVisible","wasRecentlyHidden","goog.ui.PopupMenu.prototype.wasRecentlyHidden","PopupBase","DEBOUNCE_DELAY_MS","goog.ui.PopupMenu.prototype.onAction_","opt_e","goog.ui.PopupMenu.prototype.onTargetClick_","shiftKey","button","MouseButton","RIGHT","onTargetActivation_","goog.ui.PopupMenu.prototype.onTargetKeyboardAction_","DOWN","highlightFirst","goog.ui.PopupMenu.prototype.onTargetActivation_","currentTarget","clientX","clientY","preventDefault","stopPropagation","goog.ui.PopupMenu.prototype.onDocClick","containsElement","handleBlur","goog.ui.PopupMenu.prototype.handleBlur","disposeInternal","goog.ui.PopupMenu.prototype.disposeInternal"]
}
