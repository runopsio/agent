{
"version":3,
"file":"goog.ui.menu.js",
"lineCount":173,
"mappings":"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",
"sources":["goog/ui/menu.js"],
"sourcesContent":["// Copyright 2007 The Closure Library Authors. All Rights Reserved.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//      http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS-IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\n/**\n * @fileoverview A base menu class that supports key and mouse events. The menu\n * can be bound to an existing HTML structure or can generate its own DOM.\n *\n * To decorate, the menu should be bound to an element containing children\n * with the classname 'goog-menuitem'.  HRs will be classed as separators.\n *\n * Decorate Example:\n * <div id=\"menu\" class=\"goog-menu\" tabIndex=\"0\">\n *   <div class=\"goog-menuitem\">Google</div>\n *   <div class=\"goog-menuitem\">Yahoo</div>\n *   <div class=\"goog-menuitem\">MSN</div>\n *   <hr>\n *   <div class=\"goog-menuitem\">New...</div>\n * </div>\n * <script>\n *\n * var menu = new goog.ui.Menu();\n * menu.decorate(goog.dom.getElement('menu'));\n *\n * TESTED=FireFox 2.0, IE6, Opera 9, Chrome.\n * TODO(user): Key handling is flaky in Opera and Chrome\n * TODO(user): Rename all references of \"item\" to child since menu is\n * essentially very generic and could, in theory, host a date or color picker.\n *\n * @see ../demos/menu.html\n * @see ../demos/menus.html\n */\n\ngoog.provide('goog.ui.Menu');\ngoog.provide('goog.ui.Menu.EventType');\n\ngoog.require('goog.dom.TagName');\ngoog.require('goog.math.Coordinate');\ngoog.require('goog.string');\ngoog.require('goog.style');\ngoog.require('goog.ui.Component.EventType');\ngoog.require('goog.ui.Component.State');\ngoog.require('goog.ui.Container');\ngoog.require('goog.ui.Container.Orientation');\ngoog.require('goog.ui.MenuHeader');\ngoog.require('goog.ui.MenuItem');\ngoog.require('goog.ui.MenuRenderer');\ngoog.require('goog.ui.MenuSeparator');\n\n// The dependencies MenuHeader, MenuItem, and MenuSeparator are implicit.\n// There are no references in the code, but we need to load these\n// classes before goog.ui.Menu.\n\n\n\n// TODO(robbyw): Reverse constructor argument order for consistency.\n/**\n * A basic menu class.\n * @param {goog.dom.DomHelper=} opt_domHelper Optional DOM helper.\n * @param {goog.ui.MenuRenderer=} opt_renderer Renderer used to render or\n *     decorate the container; defaults to {@link goog.ui.MenuRenderer}.\n * @constructor\n * @extends {goog.ui.Container}\n */\ngoog.ui.Menu = function(opt_domHelper, opt_renderer) {\n  goog.ui.Container.call(\n      this, goog.ui.Container.Orientation.VERTICAL,\n      opt_renderer || goog.ui.MenuRenderer.getInstance(), opt_domHelper);\n\n  // Unlike Containers, Menus aren't keyboard-accessible by default.  This line\n  // preserves backwards compatibility with code that depends on menus not\n  // receiving focus - e.g. `goog.ui.MenuButton`.\n  this.setFocusable(false);\n};\ngoog.inherits(goog.ui.Menu, goog.ui.Container);\ngoog.tagUnsealableClass(goog.ui.Menu);\n\n\n// TODO(robbyw): Remove this and all references to it.\n// Please ensure that BEFORE_SHOW behavior is not disrupted as a result.\n/**\n * Event types dispatched by the menu.\n * @enum {string}\n * @deprecated Use goog.ui.Component.EventType.\n */\ngoog.ui.Menu.EventType = {\n  /** Dispatched before the menu becomes visible */\n  BEFORE_SHOW: goog.ui.Component.EventType.BEFORE_SHOW,\n\n  /** Dispatched when the menu is shown */\n  SHOW: goog.ui.Component.EventType.SHOW,\n\n  /** Dispatched before the menu becomes hidden */\n  BEFORE_HIDE: goog.ui.Component.EventType.HIDE,\n\n  /** Dispatched when the menu is hidden */\n  HIDE: goog.ui.Component.EventType.HIDE\n};\n\n\n// TODO(robbyw): Remove this and all references to it.\n/**\n * CSS class for menus.\n * @type {string}\n * @deprecated Use goog.ui.MenuRenderer.CSS_CLASS.\n */\ngoog.ui.Menu.CSS_CLASS = goog.ui.MenuRenderer.CSS_CLASS;\n\n\n/**\n * Coordinates of the mousedown event that caused this menu to be made visible.\n * Used to prevent the consequent mouseup event due to a simple click from\n * activating a menu item immediately. Considered protected; should only be used\n * within this package or by subclasses.\n * @type {goog.math.Coordinate|undefined}\n */\ngoog.ui.Menu.prototype.openingCoords;\n\n\n/**\n * Whether the menu can move the focus to its key event target when it is\n * shown.  Default = true\n * @type {boolean}\n * @private\n */\ngoog.ui.Menu.prototype.allowAutoFocus_ = true;\n\n\n/**\n * Whether the menu should use windows style behavior and allow disabled menu\n * items to be highlighted (though not selectable).  Defaults to false\n * @type {boolean}\n * @private\n */\ngoog.ui.Menu.prototype.allowHighlightDisabled_ = false;\n\n\n/**\n * Returns the CSS class applied to menu elements, also used as the prefix for\n * derived styles, if any.  Subclasses should override this method as needed.\n * Considered protected.\n * @return {string} The CSS class applied to menu elements.\n * @protected\n * @deprecated Use getRenderer().getCssClass().\n */\ngoog.ui.Menu.prototype.getCssClass = function() {\n  return this.getRenderer().getCssClass();\n};\n\n\n/**\n * Returns whether the provided element is to be considered inside the menu for\n * purposes such as dismissing the menu on an event.  This is so submenus can\n * make use of elements outside their own DOM.\n * @param {Element} element The element to test for.\n * @return {boolean} Whether the provided element is to be considered inside\n *     the menu.\n */\ngoog.ui.Menu.prototype.containsElement = function(element) {\n  if (this.getRenderer().containsElement(this, element)) {\n    return true;\n  }\n\n  for (var i = 0, count = this.getChildCount(); i < count; i++) {\n    var child = this.getChildAt(i);\n    if (typeof child.containsElement == 'function' &&\n        child.containsElement(element)) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Adds a new menu item at the end of the menu.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item Menu\n *     item to add to the menu.\n * @deprecated Use {@link #addChild} instead, with true for the second argument.\n */\ngoog.ui.Menu.prototype.addItem = function(item) {\n  this.addChild(item, true);\n};\n\n\n/**\n * Adds a new menu item at a specific index in the menu.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item Menu\n *     item to add to the menu.\n * @param {number} n Index at which to insert the menu item.\n * @deprecated Use {@link #addChildAt} instead, with true for the third\n *     argument.\n */\ngoog.ui.Menu.prototype.addItemAt = function(item, n) {\n  this.addChildAt(item, n, true);\n};\n\n\n/**\n * Removes an item from the menu and disposes of it.\n * @param {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator} item The\n *     menu item to remove.\n * @deprecated Use {@link #removeChild} instead.\n */\ngoog.ui.Menu.prototype.removeItem = function(item) {\n  var removedChild = this.removeChild(item, true);\n  if (removedChild) {\n    removedChild.dispose();\n  }\n};\n\n\n/**\n * Removes a menu item at a given index in the menu and disposes of it.\n * @param {number} n Index of item.\n * @deprecated Use {@link #removeChildAt} instead.\n */\ngoog.ui.Menu.prototype.removeItemAt = function(n) {\n  var removedChild = this.removeChildAt(n, true);\n  if (removedChild) {\n    removedChild.dispose();\n  }\n};\n\n\n/**\n * Returns a reference to the menu item at a given index.\n * @param {number} n Index of menu item.\n * @return {goog.ui.MenuHeader|goog.ui.MenuItem|goog.ui.MenuSeparator|null}\n *     Reference to the menu item.\n * @deprecated Use {@link #getChildAt} instead.\n */\ngoog.ui.Menu.prototype.getItemAt = function(n) {\n  return /** @type {goog.ui.MenuItem?} */ (this.getChildAt(n));\n};\n\n\n/**\n * Returns the number of items in the menu (including separators).\n * @return {number} The number of items in the menu.\n * @deprecated Use {@link #getChildCount} instead.\n */\ngoog.ui.Menu.prototype.getItemCount = function() {\n  return this.getChildCount();\n};\n\n\n/**\n * Returns an array containing the menu items contained in the menu.\n * @return {!Array<goog.ui.MenuItem>} An array of menu items.\n * @deprecated Use getChildAt, forEachChild, and getChildCount.\n */\ngoog.ui.Menu.prototype.getItems = function() {\n  // TODO(user): Remove reference to getItems and instead use getChildAt,\n  // forEachChild, and getChildCount\n  var children = [];\n  this.forEachChild(function(child) { children.push(child); });\n  return children;\n};\n\n\n/**\n * Sets the position of the menu relative to the view port.\n * @param {number|goog.math.Coordinate} x Left position or coordinate obj.\n * @param {number=} opt_y Top position.\n */\ngoog.ui.Menu.prototype.setPosition = function(x, opt_y) {\n  // NOTE(user): It is necessary to temporarily set the display from none, so\n  // that the position gets set correctly.\n  var visible = this.isVisible();\n  if (!visible) {\n    goog.style.setElementShown(this.getElement(), true);\n  }\n  goog.style.setPageOffset(this.getElement(), x, opt_y);\n  if (!visible) {\n    goog.style.setElementShown(this.getElement(), false);\n  }\n};\n\n\n/**\n * Gets the page offset of the menu, or null if the menu isn't visible\n * @return {goog.math.Coordinate?} Object holding the x-y coordinates of the\n *     menu or null if the menu is not visible.\n */\ngoog.ui.Menu.prototype.getPosition = function() {\n  return this.isVisible() ? goog.style.getPageOffset(this.getElement()) : null;\n};\n\n\n/**\n * Sets whether the menu can automatically move focus to its key event target\n * when it is set to visible.\n * @param {boolean} allow Whether the menu can automatically move focus to its\n *     key event target when it is set to visible.\n */\ngoog.ui.Menu.prototype.setAllowAutoFocus = function(allow) {\n  this.allowAutoFocus_ = allow;\n  if (allow) {\n    this.setFocusable(true);\n  }\n};\n\n\n/**\n * @return {boolean} Whether the menu can automatically move focus to its key\n *     event target when it is set to visible.\n */\ngoog.ui.Menu.prototype.getAllowAutoFocus = function() {\n  return this.allowAutoFocus_;\n};\n\n\n/**\n * Sets whether the menu will highlight disabled menu items or skip to the next\n * active item.\n * @param {boolean} allow Whether the menu will highlight disabled menu items or\n *     skip to the next active item.\n */\ngoog.ui.Menu.prototype.setAllowHighlightDisabled = function(allow) {\n  this.allowHighlightDisabled_ = allow;\n};\n\n\n/**\n * @return {boolean} Whether the menu will highlight disabled menu items or skip\n *     to the next active item.\n */\ngoog.ui.Menu.prototype.getAllowHighlightDisabled = function() {\n  return this.allowHighlightDisabled_;\n};\n\n\n/**\n * @override\n * @param {boolean} show Whether to show or hide the menu.\n * @param {boolean=} opt_force If true, doesn't check whether the menu\n *     already has the requested visibility, and doesn't dispatch any events.\n * @param {goog.events.Event=} opt_e Mousedown event that caused this menu to\n *     be made visible (ignored if show is false).\n */\ngoog.ui.Menu.prototype.setVisible = function(show, opt_force, opt_e) {\n  var visibilityChanged =\n      goog.ui.Menu.superClass_.setVisible.call(this, show, opt_force);\n  if (visibilityChanged && show && this.isInDocument() &&\n      this.allowAutoFocus_) {\n    this.getKeyEventTarget().focus();\n  }\n  if (show && opt_e && typeof opt_e.clientX === 'number') {\n    this.openingCoords = new goog.math.Coordinate(opt_e.clientX, opt_e.clientY);\n  } else {\n    this.openingCoords = null;\n  }\n  return visibilityChanged;\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.handleEnterItem = function(e) {\n  if (this.allowAutoFocus_) {\n    this.getKeyEventTarget().focus();\n  }\n\n  return goog.ui.Menu.superClass_.handleEnterItem.call(this, e);\n};\n\n\n/**\n * Highlights the next item that begins with the specified string.  If no\n * (other) item begins with the given string, the selection is unchanged.\n * @param {string} charStr The prefix to match.\n * @return {boolean} Whether a matching prefix was found.\n */\ngoog.ui.Menu.prototype.highlightNextPrefix = function(charStr) {\n  var re = new RegExp('^' + goog.string.regExpEscape(charStr), 'i');\n  return this.highlightHelper(function(index, max) {\n    // Index is >= -1 because it is set to -1 when nothing is selected.\n    var start = index < 0 ? 0 : index;\n    var wrapped = false;\n\n    // We always start looking from one after the current, because we\n    // keep the current selection only as a last resort. This makes the\n    // loop a little awkward in the case where there is no current\n    // selection, as we need to stop somewhere but can't just stop\n    // when index == start, which is why we need the 'wrapped' flag.\n    do {\n      ++index;\n      if (index == max) {\n        index = 0;\n        wrapped = true;\n      }\n      var name = this.getChildAt(index).getCaption();\n      if (name && name.match(re)) {\n        return index;\n      }\n    } while (!wrapped || index != start);\n    return this.getHighlightedIndex();\n  }, this.getHighlightedIndex());\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.canHighlightItem = function(item) {\n  return (this.allowHighlightDisabled_ || item.isEnabled()) &&\n      item.isVisible() && item.isSupportedState(goog.ui.Component.State.HOVER);\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.decorateInternal = function(element) {\n  this.decorateContent(element);\n  goog.ui.Menu.superClass_.decorateInternal.call(this, element);\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.handleKeyEventInternal = function(e) {\n  var handled = goog.ui.Menu.base(this, 'handleKeyEventInternal', e);\n  if (!handled) {\n    // Loop through all child components, and for each menu item call its\n    // key event handler so that keyboard mnemonics can be handled.\n    this.forEachChild(function(menuItem) {\n      if (!handled && menuItem.getMnemonic &&\n          menuItem.getMnemonic() == e.keyCode) {\n        if (this.isEnabled()) {\n          this.setHighlighted(menuItem);\n        }\n        // We still delegate to handleKeyEvent, so that it can handle\n        // enabled/disabled state.\n        handled = menuItem.handleKeyEvent(e);\n      }\n    }, this);\n  }\n  return handled;\n};\n\n\n/** @override */\ngoog.ui.Menu.prototype.setHighlightedIndex = function(index) {\n  goog.ui.Menu.base(this, 'setHighlightedIndex', index);\n\n  // Bring the highlighted item into view. This has no effect if the menu is not\n  // scrollable.\n  var child = this.getChildAt(index);\n  if (child) {\n    goog.style.scrollIntoContainerView(child.getElement(), this.getElement());\n  }\n};\n\n\n/**\n * Decorate menu items located in any descendant node which as been explicitly\n * marked as a 'content' node.\n * @param {Element} element Element to decorate.\n * @protected\n */\ngoog.ui.Menu.prototype.decorateContent = function(element) {\n  var renderer = this.getRenderer();\n  var contentElements = this.getDomHelper().getElementsByTagNameAndClass(\n      goog.dom.TagName.DIV, goog.getCssName(renderer.getCssClass(), 'content'),\n      element);\n\n  // Some versions of IE do not like it when you access this nodeList\n  // with invalid indices. See\n  // http://code.google.com/p/closure-library/issues/detail?id=373\n  var length = contentElements.length;\n  for (var i = 0; i < length; i++) {\n    renderer.decorateChildren(this, contentElements[i]);\n  }\n};\n"],
"names":["goog","provide","require","ui","Menu","goog.ui.Menu","opt_domHelper","opt_renderer","Container","call","Orientation","VERTICAL","MenuRenderer","getInstance","setFocusable","inherits","tagUnsealableClass","EventType","BEFORE_SHOW","Component","SHOW","BEFORE_HIDE","HIDE","CSS_CLASS","prototype","openingCoords","allowAutoFocus_","allowHighlightDisabled_","getCssClass","goog.ui.Menu.prototype.getCssClass","getRenderer","containsElement","goog.ui.Menu.prototype.containsElement","element","i","count","getChildCount","child","getChildAt","addItem","goog.ui.Menu.prototype.addItem","item","addChild","addItemAt","goog.ui.Menu.prototype.addItemAt","n","addChildAt","removeItem","goog.ui.Menu.prototype.removeItem","removedChild","removeChild","dispose","removeItemAt","goog.ui.Menu.prototype.removeItemAt","removeChildAt","getItemAt","goog.ui.Menu.prototype.getItemAt","getItemCount","goog.ui.Menu.prototype.getItemCount","getItems","goog.ui.Menu.prototype.getItems","children","forEachChild","push","setPosition","goog.ui.Menu.prototype.setPosition","x","opt_y","visible","isVisible","style","setElementShown","getElement","setPageOffset","getPosition","goog.ui.Menu.prototype.getPosition","getPageOffset","setAllowAutoFocus","goog.ui.Menu.prototype.setAllowAutoFocus","allow","getAllowAutoFocus","goog.ui.Menu.prototype.getAllowAutoFocus","setAllowHighlightDisabled","goog.ui.Menu.prototype.setAllowHighlightDisabled","getAllowHighlightDisabled","goog.ui.Menu.prototype.getAllowHighlightDisabled","setVisible","goog.ui.Menu.prototype.setVisible","show","opt_force","opt_e","visibilityChanged","superClass_","isInDocument","getKeyEventTarget","focus","clientX","math","Coordinate","clientY","handleEnterItem","goog.ui.Menu.prototype.handleEnterItem","e","highlightNextPrefix","goog.ui.Menu.prototype.highlightNextPrefix","charStr","re","RegExp","string","regExpEscape","highlightHelper","index","max","start","wrapped","name","getCaption","match","getHighlightedIndex","canHighlightItem","goog.ui.Menu.prototype.canHighlightItem","isEnabled","isSupportedState","State","HOVER","decorateInternal","goog.ui.Menu.prototype.decorateInternal","decorateContent","handleKeyEventInternal","goog.ui.Menu.prototype.handleKeyEventInternal","handled","base","menuItem","getMnemonic","keyCode","setHighlighted","handleKeyEvent","setHighlightedIndex","goog.ui.Menu.prototype.setHighlightedIndex","scrollIntoContainerView","goog.ui.Menu.prototype.decorateContent","renderer","contentElements","getDomHelper","getElementsByTagNameAndClass","dom","TagName","DIV","getCssName","length","decorateChildren"]
}
