shadow$provide.module$node_modules$readable_stream$lib$_stream_writable=function(global,require,module,exports){function CorkedRequest(state){var _this=this;this.entry=this.next=null;this.finish=function(){var entry=_this.entry;for(_this.entry=null;entry;){var cb=entry.callback;state.pendingcb--;cb(void 0);entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=_this:state.corkedRequestsFree=_this}}function nop(){}function WritableState(options,stream){Duplex=Duplex||require("module$node_modules$readable_stream$lib$_stream_duplex");
options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode;isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm;this.highWaterMark=Math.floor(this.highWaterMark);this.destroyed=this.finished=this.ended=this.ending=this.needDrain=this.finalCalled=
!1;this.decodeStrings=!1!==options.decodeStrings;this.defaultEncoding=options.defaultEncoding||"utf8";this.length=0;this.writing=!1;this.corked=0;this.sync=!0;this.bufferProcessing=!1;this.onwrite=function(er){var state=stream._writableState,sync=state.sync,cb=state.writecb;state.writing=!1;state.writecb=null;state.length-=state.writelen;state.writelen=0;er?(--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",
er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))):((er=needFinish(state))||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,er,cb):afterWrite(stream,state,er,cb))};this.writecb=null;this.writelen=0;this.lastBufferedRequest=this.bufferedRequest=null;this.pendingcb=0;this.errorEmitted=this.prefinished=!1;this.bufferedRequestCount=0;this.corkedRequestsFree=new CorkedRequest(this)}
function Writable(options){Duplex=Duplex||require("module$node_modules$readable_stream$lib$_stream_duplex");if(!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this);this.writable=!0;options&&("function"===typeof options.write&&(this._write=options.write),"function"===typeof options.writev&&(this._writev=options.writev),"function"===typeof options.destroy&&(this._destroy=options.destroy),"function"===typeof options.final&&
(this._final=options.final));Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len;state.writecb=cb;state.writing=!0;state.sync=!0;writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite);state.sync=!1}function afterWrite(stream,state,finished,cb){!finished&&0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"));state.pendingcb--;cb();finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=
!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var buffer=Array(state.bufferedRequestCount),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers;doWrite(stream,state,!0,state.length,buffer,"",holder.finish);state.pendingcb++;state.lastBufferedRequest=null;holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=
new CorkedRequest(state);state.bufferedRequestCount=0}else{for(;entry&&(buffer=entry.chunk,doWrite(stream,state,!1,state.objectMode?1:buffer.length,buffer,entry.encoding,entry.callback),entry=entry.next,state.bufferedRequestCount--,!state.writing););null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry;state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,
state){stream._final(function(err){state.pendingcb--;err&&stream.emit("error",err);state.prefinished=!0;stream.emit("prefinish");finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);need&&(state.prefinished||state.finalCalled||("function"===typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish"))),0===state.pendingcb&&(state.finished=!0,stream.emit("finish")));return need}
exports=require("module$node_modules$process$browser");"use strict";var pna=require("module$node_modules$process_nextick_args$index");module.exports=Writable;var asyncWrite=!exports.browser&&-1<["v0.10","v0.9."].indexOf(exports.version.slice(0,5))?setImmediate:pna.nextTick,Duplex;Writable.WritableState=WritableState;module=Object.create(require("module$node_modules$util$util"));module.inherits=require("module$node_modules$inherits$inherits_browser");var internalUtil={deprecate:require("module$node_modules$util_deprecate$browser")},
Stream=require("module$node_modules$readable_stream$lib$internal$streams$stream_browser"),Buffer=require("module$node_modules$readable_stream$node_modules$safe_buffer$index").Buffer,OurUint8Array=global.Uint8Array||function(){};global=require("module$node_modules$readable_stream$lib$internal$streams$destroy");module.inherits(Writable,Stream);WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out};(function(){try{Object.defineProperty(WritableState.prototype,
"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}})();if("function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]){var realHasInstance=Function.prototype[Symbol.hasInstance];Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return realHasInstance.call(this,object)?!0:this!==Writable?!1:object&&object._writableState instanceof
WritableState}})}else realHasInstance=function(object){return object instanceof this};Writable.prototype.pipe=function(){this.emit("error",Error("Cannot pipe, not readable"))};Writable.prototype.write=function(chunk,encoding,cb$jscomp$0){var state=this._writableState,ret=!1,JSCompiler_temp;if(JSCompiler_temp=!state.objectMode)JSCompiler_temp=chunk,JSCompiler_temp=Buffer.isBuffer(JSCompiler_temp)||JSCompiler_temp instanceof OurUint8Array;JSCompiler_temp&&!Buffer.isBuffer(chunk)&&(chunk=Buffer.from(chunk));
"function"===typeof encoding&&(cb$jscomp$0=encoding,encoding=null);JSCompiler_temp?encoding="buffer":encoding||(encoding=state.defaultEncoding);"function"!==typeof cb$jscomp$0&&(cb$jscomp$0=nop);if(state.ended)state=cb$jscomp$0,cb$jscomp$0=Error("write after end"),this.emit("error",cb$jscomp$0),pna.nextTick(state,cb$jscomp$0);else{var JSCompiler_temp$jscomp$0;if(!(JSCompiler_temp$jscomp$0=JSCompiler_temp)){JSCompiler_temp$jscomp$0=chunk;var cb=cb$jscomp$0,valid=!0,er=!1;null===JSCompiler_temp$jscomp$0?
er=new TypeError("May not write null values to stream"):"string"===typeof JSCompiler_temp$jscomp$0||void 0===JSCompiler_temp$jscomp$0||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));er&&(this.emit("error",er),pna.nextTick(cb,er),valid=!1);JSCompiler_temp$jscomp$0=valid}JSCompiler_temp$jscomp$0&&(state.pendingcb++,ret=JSCompiler_temp,ret||(JSCompiler_temp=chunk,state.objectMode||!1===state.decodeStrings||"string"!==typeof JSCompiler_temp||(JSCompiler_temp=Buffer.from(JSCompiler_temp,
encoding)),chunk!==JSCompiler_temp&&(ret=!0,encoding="buffer",chunk=JSCompiler_temp)),JSCompiler_temp$jscomp$0=state.objectMode?1:chunk.length,state.length+=JSCompiler_temp$jscomp$0,JSCompiler_temp=state.length<state.highWaterMark,JSCompiler_temp||(state.needDrain=!0),state.writing||state.corked?(JSCompiler_temp$jscomp$0=state.lastBufferedRequest,state.lastBufferedRequest={chunk,encoding,isBuf:ret,callback:cb$jscomp$0,next:null},JSCompiler_temp$jscomp$0?JSCompiler_temp$jscomp$0.next=state.lastBufferedRequest:
state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1):doWrite(this,state,!1,JSCompiler_temp$jscomp$0,chunk,encoding,cb$jscomp$0),ret=JSCompiler_temp)}return ret};Writable.prototype.cork=function(){this._writableState.corked++};Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))};Writable.prototype.setDefaultEncoding=
function(encoding){"string"===typeof encoding&&(encoding=encoding.toLowerCase());if(!(-1<"hex utf8 utf-8 ascii binary base64 ucs2 ucs-2 utf16le utf-16le raw".split(" ").indexOf((encoding+"").toLowerCase())))throw new TypeError("Unknown encoding: "+encoding);this._writableState.defaultEncoding=encoding;return this};Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Writable.prototype._write=function(chunk,encoding,
cb){cb(Error("_write() is not implemented"))};Writable.prototype._writev=null;Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"===typeof chunk?(cb=chunk,encoding=chunk=null):"function"===typeof encoding&&(cb=encoding,encoding=null);null!==chunk&&void 0!==chunk&&this.write(chunk,encoding);state.corked&&(state.corked=1,this.uncork());if(!state.ending&&!state.finished){chunk=cb;state.ending=!0;finishMaybe(this,state);if(chunk)if(state.finished)pna.nextTick(chunk);
else this.once("finish",chunk);state.ended=!0;this.writable=!1}};Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0===this._writableState?!1:this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}});Writable.prototype.destroy=global.destroy;Writable.prototype._undestroy=global.undestroy;Writable.prototype._destroy=function(err,cb){this.end();cb(err)}}
//# sourceMappingURL=module$node_modules$readable_stream$lib$_stream_writable.js.map
